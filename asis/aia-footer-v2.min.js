$.fn.serializeObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            var _value = isNaN(parseInt(this.value)) ? this.value : parseInt(this.value);
            if(_value.toString().length != this.value)
                _value = this.value;
            o[this.name].push(_value || '');
        } else {
            var _value = isNaN(parseInt(this.value)) ? this.value : parseInt(this.value);
            if(_value.toString().length != this.value)
                _value = this.value;
            o[this.name] = _value || $("input[name='"+this.name+"']").attr("placeholder") ||'';
        }
    });
    return o;
};

$.fn.serializeArrayObject = function()
{
    var o = {};
    var a = this.serializeArray();
    $.each(a, function() {
        if (o[this.name] !== undefined) {
            if (!o[this.name].push) {
                o[this.name] = [o[this.name]];
            }
            var _value = isNaN(parseInt(this.value)) ? this.value : parseInt(this.value);
            if(_value.toString().length != this.value)
                _value = this.value;
            o[this.name].push(_value || '');
        } else {
            var _value = isNaN(parseInt(this.value)) ? this.value : parseInt(this.value);
            if(_value.toString().length != this.value)
                _value = this.value;
//            if($("input[name='"+this.name+"']").attr("type") == "checkbox")
                var _newValue = new Array();
            _newValue.push(_value);
            o[this.name] = _value || $("input[name='"+this.name+"']").attr("placeholder") ||'';
        }
    });
    return o;
};
/*
 Copyright (C) bootstrap 2018
 Distributed under the MIT License (license terms are at http://opensource.org/licenses/MIT).
 */(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Popper=t()})(this,function(){'use strict';function e(e){return e&&'[object Function]'==={}.toString.call(e)}function t(e,t){if(1!==e.nodeType)return[];var o=getComputedStyle(e,null);return t?o[t]:o}function o(e){return'HTML'===e.nodeName?e:e.parentNode||e.host}function n(e){if(!e)return document.body;switch(e.nodeName){case'HTML':case'BODY':return e.ownerDocument.body;case'#document':return e.body;}var i=t(e),r=i.overflow,p=i.overflowX,s=i.overflowY;return /(auto|scroll)/.test(r+s+p)?e:n(o(e))}function r(e){var o=e&&e.offsetParent,i=o&&o.nodeName;return i&&'BODY'!==i&&'HTML'!==i?-1!==['TD','TABLE'].indexOf(o.nodeName)&&'static'===t(o,'position')?r(o):o:e?e.ownerDocument.documentElement:document.documentElement}function p(e){var t=e.nodeName;return'BODY'!==t&&('HTML'===t||r(e.firstElementChild)===e)}function s(e){return null===e.parentNode?e:s(e.parentNode)}function d(e,t){if(!e||!e.nodeType||!t||!t.nodeType)return document.documentElement;var o=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=o?e:t,n=o?t:e,a=document.createRange();a.setStart(i,0),a.setEnd(n,0);var l=a.commonAncestorContainer;if(e!==l&&t!==l||i.contains(n))return p(l)?l:r(l);var f=s(e);return f.host?d(f.host,t):d(e,s(t).host)}function a(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'top',o='top'===t?'scrollTop':'scrollLeft',i=e.nodeName;if('BODY'===i||'HTML'===i){var n=e.ownerDocument.documentElement,r=e.ownerDocument.scrollingElement||n;return r[o]}return e[o]}function l(e,t){var o=2<arguments.length&&void 0!==arguments[2]&&arguments[2],i=a(t,'top'),n=a(t,'left'),r=o?-1:1;return e.top+=i*r,e.bottom+=i*r,e.left+=n*r,e.right+=n*r,e}function f(e,t){var o='x'===t?'Left':'Top',i='Left'==o?'Right':'Bottom';return parseFloat(e['border'+o+'Width'],10)+parseFloat(e['border'+i+'Width'],10)}function m(e,t,o,i){return J(t['offset'+e],t['scroll'+e],o['client'+e],o['offset'+e],o['scroll'+e],ie()?o['offset'+e]+i['margin'+('Height'===e?'Top':'Left')]+i['margin'+('Height'===e?'Bottom':'Right')]:0)}function h(){var e=document.body,t=document.documentElement,o=ie()&&getComputedStyle(t);return{height:m('Height',e,t,o),width:m('Width',e,t,o)}}function c(e){return se({},e,{right:e.left+e.width,bottom:e.top+e.height})}function g(e){var o={};if(ie())try{o=e.getBoundingClientRect();var i=a(e,'top'),n=a(e,'left');o.top+=i,o.left+=n,o.bottom+=i,o.right+=n}catch(e){}else o=e.getBoundingClientRect();var r={left:o.left,top:o.top,width:o.right-o.left,height:o.bottom-o.top},p='HTML'===e.nodeName?h():{},s=p.width||e.clientWidth||r.right-r.left,d=p.height||e.clientHeight||r.bottom-r.top,l=e.offsetWidth-s,m=e.offsetHeight-d;if(l||m){var g=t(e);l-=f(g,'x'),m-=f(g,'y'),r.width-=l,r.height-=m}return c(r)}function u(e,o){var i=ie(),r='HTML'===o.nodeName,p=g(e),s=g(o),d=n(e),a=t(o),f=parseFloat(a.borderTopWidth,10),m=parseFloat(a.borderLeftWidth,10),h=c({top:p.top-s.top-f,left:p.left-s.left-m,width:p.width,height:p.height});if(h.marginTop=0,h.marginLeft=0,!i&&r){var u=parseFloat(a.marginTop,10),b=parseFloat(a.marginLeft,10);h.top-=f-u,h.bottom-=f-u,h.left-=m-b,h.right-=m-b,h.marginTop=u,h.marginLeft=b}return(i?o.contains(d):o===d&&'BODY'!==d.nodeName)&&(h=l(h,o)),h}function b(e){var t=e.ownerDocument.documentElement,o=u(e,t),i=J(t.clientWidth,window.innerWidth||0),n=J(t.clientHeight,window.innerHeight||0),r=a(t),p=a(t,'left'),s={top:r-o.top+o.marginTop,left:p-o.left+o.marginLeft,width:i,height:n};return c(s)}function w(e){var i=e.nodeName;return'BODY'===i||'HTML'===i?!1:'fixed'===t(e,'position')||w(o(e))}function y(e,t,i,r){var p={top:0,left:0},s=d(e,t);if('viewport'===r)p=b(s);else{var a;'scrollParent'===r?(a=n(o(t)),'BODY'===a.nodeName&&(a=e.ownerDocument.documentElement)):'window'===r?a=e.ownerDocument.documentElement:a=r;var l=u(a,s);if('HTML'===a.nodeName&&!w(s)){var f=h(),m=f.height,c=f.width;p.top+=l.top-l.marginTop,p.bottom=m+l.top,p.left+=l.left-l.marginLeft,p.right=c+l.left}else p=l}return p.left+=i,p.top+=i,p.right-=i,p.bottom-=i,p}function E(e){var t=e.width,o=e.height;return t*o}function v(e,t,o,i,n){var r=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf('auto'))return e;var p=y(o,i,r,n),s={top:{width:p.width,height:t.top-p.top},right:{width:p.right-t.right,height:p.height},bottom:{width:p.width,height:p.bottom-t.bottom},left:{width:t.left-p.left,height:p.height}},d=Object.keys(s).map(function(e){return se({key:e},s[e],{area:E(s[e])})}).sort(function(e,t){return t.area-e.area}),a=d.filter(function(e){var t=e.width,i=e.height;return t>=o.clientWidth&&i>=o.clientHeight}),l=0<a.length?a[0].key:d[0].key,f=e.split('-')[1];return l+(f?'-'+f:'')}function O(e,t,o){var i=d(t,o);return u(o,i)}function L(e){var t=getComputedStyle(e),o=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight),n={width:e.offsetWidth+i,height:e.offsetHeight+o};return n}function x(e){var t={left:'right',right:'left',bottom:'top',top:'bottom'};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function S(e,t,o){o=o.split('-')[0];var i=L(e),n={width:i.width,height:i.height},r=-1!==['right','left'].indexOf(o),p=r?'top':'left',s=r?'left':'top',d=r?'height':'width',a=r?'width':'height';return n[p]=t[p]+t[d]/2-i[d]/2,n[s]=o===s?t[s]-i[a]:t[x(s)],n}function T(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(e,t,o){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===o});var i=T(e,function(e){return e[t]===o});return e.indexOf(i)}function C(t,o,i){var n=void 0===i?t:t.slice(0,D(t,'name',i));return n.forEach(function(t){t['function']&&console.warn('`modifier.function` is deprecated, use `modifier.fn`!');var i=t['function']||t.fn;t.enabled&&e(i)&&(o.offsets.popper=c(o.offsets.popper),o.offsets.reference=c(o.offsets.reference),o=i(o,t))}),o}function N(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=O(this.state,this.popper,this.reference),e.placement=v(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=S(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position='absolute',e=C(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function k(e,t){return e.some(function(e){var o=e.name,i=e.enabled;return i&&o===t})}function W(e){for(var t=[!1,'ms','Webkit','Moz','O'],o=e.charAt(0).toUpperCase()+e.slice(1),n=0;n<t.length-1;n++){var i=t[n],r=i?''+i+o:e;if('undefined'!=typeof document.body.style[r])return r}return null}function P(){return this.state.isDestroyed=!0,k(this.modifiers,'applyStyle')&&(this.popper.removeAttribute('x-placement'),this.popper.style.left='',this.popper.style.position='',this.popper.style.top='',this.popper.style[W('transform')]=''),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function B(e){var t=e.ownerDocument;return t?t.defaultView:window}function H(e,t,o,i){var r='BODY'===e.nodeName,p=r?e.ownerDocument.defaultView:e;p.addEventListener(t,o,{passive:!0}),r||H(n(p.parentNode),t,o,i),i.push(p)}function A(e,t,o,i){o.updateBound=i,B(e).addEventListener('resize',o.updateBound,{passive:!0});var r=n(e);return H(r,'scroll',o.updateBound,o.scrollParents),o.scrollElement=r,o.eventsEnabled=!0,o}function I(){this.state.eventsEnabled||(this.state=A(this.reference,this.options,this.state,this.scheduleUpdate))}function M(e,t){return B(e).removeEventListener('resize',t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener('scroll',t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t}function R(){this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=M(this.reference,this.state))}function U(e){return''!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach(function(o){var i='';-1!==['width','height','top','right','bottom','left'].indexOf(o)&&U(t[o])&&(i='px'),e.style[o]=t[o]+i})}function j(e,t){Object.keys(t).forEach(function(o){var i=t[o];!1===i?e.removeAttribute(o):e.setAttribute(o,t[o])})}function F(e,t,o){var i=T(e,function(e){var o=e.name;return o===t}),n=!!i&&e.some(function(e){return e.name===o&&e.enabled&&e.order<i.order});if(!n){var r='`'+t+'`';console.warn('`'+o+'`'+' modifier is required by '+r+' modifier in order to work, be sure to include it before '+r+'!')}return n}function K(e){return'end'===e?'start':'start'===e?'end':e}function q(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=ae.indexOf(e),i=ae.slice(o+1).concat(ae.slice(0,o));return t?i.reverse():i}function V(e,t,o,i){var n=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+n[1],p=n[2];if(!r)return e;if(0===p.indexOf('%')){var s;switch(p){case'%p':s=o;break;case'%':case'%r':default:s=i;}var d=c(s);return d[t]/100*r}if('vh'===p||'vw'===p){var a;return a='vh'===p?J(document.documentElement.clientHeight,window.innerHeight||0):J(document.documentElement.clientWidth,window.innerWidth||0),a/100*r}return r}function z(e,t,o,i){var n=[0,0],r=-1!==['right','left'].indexOf(i),p=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=p.indexOf(T(p,function(e){return-1!==e.search(/,|\s/)}));p[s]&&-1===p[s].indexOf(',')&&console.warn('Offsets separated by white space(s) are deprecated, use a comma (,) instead.');var d=/\s*,\s*|\s+/,a=-1===s?[p]:[p.slice(0,s).concat([p[s].split(d)[0]]),[p[s].split(d)[1]].concat(p.slice(s+1))];return a=a.map(function(e,i){var n=(1===i?!r:r)?'height':'width',p=!1;return e.reduce(function(e,t){return''===e[e.length-1]&&-1!==['+','-'].indexOf(t)?(e[e.length-1]=t,p=!0,e):p?(e[e.length-1]+=t,p=!1,e):e.concat(t)},[]).map(function(e){return V(e,n,t,o)})}),a.forEach(function(e,t){e.forEach(function(o,i){U(o)&&(n[t]+=o*('-'===e[i-1]?-1:1))})}),n}function G(e,t){var o,i=t.offset,n=e.placement,r=e.offsets,p=r.popper,s=r.reference,d=n.split('-')[0];return o=U(+i)?[+i,0]:z(i,p,s,d),'left'===d?(p.top+=o[0],p.left-=o[1]):'right'===d?(p.top+=o[0],p.left+=o[1]):'top'===d?(p.left+=o[0],p.top-=o[1]):'bottom'===d&&(p.left+=o[0],p.top+=o[1]),e.popper=p,e}for(var _=Math.min,X=Math.floor,J=Math.max,Q='undefined'!=typeof window&&'undefined'!=typeof document,Z=['Edge','Trident','Firefox'],$=0,ee=0;ee<Z.length;ee+=1)if(Q&&0<=navigator.userAgent.indexOf(Z[ee])){$=1;break}var i,te=Q&&window.Promise,oe=te?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},$))}},ie=function(){return void 0==i&&(i=-1!==navigator.appVersion.indexOf('MSIE 10')),i},ne=function(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')},re=function(){function e(e,t){for(var o,n=0;n<t.length;n++)o=t[n],o.enumerable=o.enumerable||!1,o.configurable=!0,'value'in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}return function(t,o,i){return o&&e(t.prototype,o),i&&e(t,i),t}}(),pe=function(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e},se=Object.assign||function(e){for(var t,o=1;o<arguments.length;o++)for(var i in t=arguments[o],t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},de=['auto-start','auto','auto-end','top-start','top','top-end','right-start','right','right-end','bottom-end','bottom','bottom-start','left-end','left','left-start'],ae=de.slice(3),le={FLIP:'flip',CLOCKWISE:'clockwise',COUNTERCLOCKWISE:'counterclockwise'},fe=function(){function t(o,i){var n=this,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{};ne(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=oe(this.update.bind(this)),this.options=se({},t.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=o&&o.jquery?o[0]:o,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(se({},t.Defaults.modifiers,r.modifiers)).forEach(function(e){n.options.modifiers[e]=se({},t.Defaults.modifiers[e]||{},r.modifiers?r.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return se({name:e},n.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(t){t.enabled&&e(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var p=this.options.eventsEnabled;p&&this.enableEventListeners(),this.state.eventsEnabled=p}return re(t,[{key:'update',value:function(){return N.call(this)}},{key:'destroy',value:function(){return P.call(this)}},{key:'enableEventListeners',value:function(){return I.call(this)}},{key:'disableEventListeners',value:function(){return R.call(this)}}]),t}();return fe.Utils=('undefined'==typeof window?global:window).PopperUtils,fe.placements=de,fe.Defaults={placement:'bottom',eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,o=t.split('-')[0],i=t.split('-')[1];if(i){var n=e.offsets,r=n.reference,p=n.popper,s=-1!==['bottom','top'].indexOf(o),d=s?'left':'top',a=s?'width':'height',l={start:pe({},d,r[d]),end:pe({},d,r[d]+r[a]-p[a])};e.offsets.popper=se({},p,l[i])}return e}},offset:{order:200,enabled:!0,fn:G,offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var o=t.boundariesElement||r(e.instance.popper);e.instance.reference===o&&(o=r(o));var i=y(e.instance.popper,e.instance.reference,t.padding,o);t.boundaries=i;var n=t.priority,p=e.offsets.popper,s={primary:function(e){var o=p[e];return p[e]<i[e]&&!t.escapeWithReference&&(o=J(p[e],i[e])),pe({},e,o)},secondary:function(e){var o='right'===e?'left':'top',n=p[o];return p[e]>i[e]&&!t.escapeWithReference&&(n=_(p[o],i[e]-('right'===e?p.width:p.height))),pe({},o,n)}};return n.forEach(function(e){var t=-1===['left','top'].indexOf(e)?'secondary':'primary';p=se({},p,s[t](e))}),e.offsets.popper=p,e},priority:['left','right','top','bottom'],padding:5,boundariesElement:'scrollParent'},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,o=t.popper,i=t.reference,n=e.placement.split('-')[0],r=X,p=-1!==['top','bottom'].indexOf(n),s=p?'right':'bottom',d=p?'left':'top',a=p?'width':'height';return o[s]<r(i[d])&&(e.offsets.popper[d]=r(i[d])-o[a]),o[d]>r(i[s])&&(e.offsets.popper[d]=r(i[s])),e}},arrow:{order:500,enabled:!0,fn:function(e,o){var i;if(!F(e.instance.modifiers,'arrow','keepTogether'))return e;var n=o.element;if('string'==typeof n){if(n=e.instance.popper.querySelector(n),!n)return e;}else if(!e.instance.popper.contains(n))return console.warn('WARNING: `arrow.element` must be child of its popper element!'),e;var r=e.placement.split('-')[0],p=e.offsets,s=p.popper,d=p.reference,a=-1!==['left','right'].indexOf(r),l=a?'height':'width',f=a?'Top':'Left',m=f.toLowerCase(),h=a?'left':'top',g=a?'bottom':'right',u=L(n)[l];d[g]-u<s[m]&&(e.offsets.popper[m]-=s[m]-(d[g]-u)),d[m]+u>s[g]&&(e.offsets.popper[m]+=d[m]+u-s[g]),e.offsets.popper=c(e.offsets.popper);var b=d[m]+d[l]/2-u/2,w=t(e.instance.popper),y=parseFloat(w['margin'+f],10),E=parseFloat(w['border'+f+'Width'],10),v=b-e.offsets.popper[m]-y-E;return v=J(_(s[l]-u,v),0),e.arrowElement=n,e.offsets.arrow=(i={},pe(i,m,Math.round(v)),pe(i,h,''),i),e},element:'[x-arrow]'},flip:{order:600,enabled:!0,fn:function(e,t){if(k(e.instance.modifiers,'inner'))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var o=y(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),i=e.placement.split('-')[0],n=x(i),r=e.placement.split('-')[1]||'',p=[];switch(t.behavior){case le.FLIP:p=[i,n];break;case le.CLOCKWISE:p=q(i);break;case le.COUNTERCLOCKWISE:p=q(i,!0);break;default:p=t.behavior;}return p.forEach(function(s,d){if(i!==s||p.length===d+1)return e;i=e.placement.split('-')[0],n=x(i);var a=e.offsets.popper,l=e.offsets.reference,f=X,m='left'===i&&f(a.right)>f(l.left)||'right'===i&&f(a.left)<f(l.right)||'top'===i&&f(a.bottom)>f(l.top)||'bottom'===i&&f(a.top)<f(l.bottom),h=f(a.left)<f(o.left),c=f(a.right)>f(o.right),g=f(a.top)<f(o.top),u=f(a.bottom)>f(o.bottom),b='left'===i&&h||'right'===i&&c||'top'===i&&g||'bottom'===i&&u,w=-1!==['top','bottom'].indexOf(i),y=!!t.flipVariations&&(w&&'start'===r&&h||w&&'end'===r&&c||!w&&'start'===r&&g||!w&&'end'===r&&u);(m||b||y)&&(e.flipped=!0,(m||b)&&(i=p[d+1]),y&&(r=K(r)),e.placement=i+(r?'-'+r:''),e.offsets.popper=se({},e.offsets.popper,S(e.instance.popper,e.offsets.reference,e.placement)),e=C(e.instance.modifiers,e,'flip'))}),e},behavior:'flip',padding:5,boundariesElement:'viewport'},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,o=t.split('-')[0],i=e.offsets,n=i.popper,r=i.reference,p=-1!==['left','right'].indexOf(o),s=-1===['top','left'].indexOf(o);return n[p?'left':'top']=r[o]-(s?n[p?'width':'height']:0),e.placement=x(t),e.offsets.popper=c(n),e}},hide:{order:800,enabled:!0,fn:function(e){if(!F(e.instance.modifiers,'hide','preventOverflow'))return e;var t=e.offsets.reference,o=T(e.instance.modifiers,function(e){return'preventOverflow'===e.name}).boundaries;if(t.bottom<o.top||t.left>o.right||t.top>o.bottom||t.right<o.left){if(!0===e.hide)return e;e.hide=!0,e.attributes['x-out-of-boundaries']=''}else{if(!1===e.hide)return e;e.hide=!1,e.attributes['x-out-of-boundaries']=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var o=t.x,i=t.y,n=e.offsets.popper,p=T(e.instance.modifiers,function(e){return'applyStyle'===e.name}).gpuAcceleration;void 0!==p&&console.warn('WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!');var s,d,a=void 0===p?t.gpuAcceleration:p,l=r(e.instance.popper),f=g(l),m={position:n.position},h={left:X(n.left),top:X(n.top),bottom:X(n.bottom),right:X(n.right)},c='bottom'===o?'top':'bottom',u='right'===i?'left':'right',b=W('transform');if(d='bottom'==c?-f.height+h.bottom:h.top,s='right'==u?-f.width+h.right:h.left,a&&b)m[b]='translate3d('+s+'px, '+d+'px, 0)',m[c]=0,m[u]=0,m.willChange='transform';else{var w='bottom'==c?-1:1,y='right'==u?-1:1;m[c]=d*w,m[u]=s*y,m.willChange=c+', '+u}var E={"x-placement":e.placement};return e.attributes=se({},E,e.attributes),e.styles=se({},m,e.styles),e.arrowStyles=se({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:'bottom',y:'right'},applyStyle:{order:900,enabled:!0,fn:function(e){return Y(e.instance.popper,e.styles),j(e.instance.popper,e.attributes),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,o,i,n){var r=O(n,t,e),p=v(o.placement,r,t,e,o.modifiers.flip.boundariesElement,o.modifiers.flip.padding);return t.setAttribute('x-placement',p),Y(t,{position:'absolute'}),o},gpuAcceleration:void 0}}},fe});
//# sourceMappingURL=popper.min.js.map

(function (global, factory) {
  typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('jquery'), require('popper.js')) :
  typeof define === 'function' && define.amd ? define(['exports', 'jquery', 'popper.js'], factory) :
  (global = global || self, factory(global.bootstrap = {}, global.jQuery, global.Popper));
}(this, (function (exports, $, Popper) { 'use strict';

  $ = $ && Object.prototype.hasOwnProperty.call($, 'default') ? $['default'] : $;
  Popper = Popper && Object.prototype.hasOwnProperty.call(Popper, 'default') ? Popper['default'] : Popper;

  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || false;
      descriptor.configurable = true;
      if ("value" in descriptor) descriptor.writable = true;
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }

  function _createClass(Constructor, protoProps, staticProps) {
    if (protoProps) _defineProperties(Constructor.prototype, protoProps);
    if (staticProps) _defineProperties(Constructor, staticProps);
    return Constructor;
  }

  function _defineProperty(obj, key, value) {
    if (key in obj) {
      Object.defineProperty(obj, key, {
        value: value,
        enumerable: true,
        configurable: true,
        writable: true
      });
    } else {
      obj[key] = value;
    }

    return obj;
  }

  function ownKeys(object, enumerableOnly) {
    var keys = Object.keys(object);

    if (Object.getOwnPropertySymbols) {
      var symbols = Object.getOwnPropertySymbols(object);
      if (enumerableOnly) symbols = symbols.filter(function (sym) {
        return Object.getOwnPropertyDescriptor(object, sym).enumerable;
      });
      keys.push.apply(keys, symbols);
    }

    return keys;
  }

  function _objectSpread2(target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i] != null ? arguments[i] : {};

      if (i % 2) {
        ownKeys(Object(source), true).forEach(function (key) {
          _defineProperty(target, key, source[key]);
        });
      } else if (Object.getOwnPropertyDescriptors) {
        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
      } else {
        ownKeys(Object(source)).forEach(function (key) {
          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
        });
      }
    }

    return target;
  }

  function _inheritsLoose(subClass, superClass) {
    subClass.prototype = Object.create(superClass.prototype);
    subClass.prototype.constructor = subClass;
    subClass.__proto__ = superClass;
  }

  /**
   * --------------------------------------------------------------------------
   * Bootstrap (v): util.js
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * --------------------------------------------------------------------------
   */
  /**
   * ------------------------------------------------------------------------
   * Private TransitionEnd Helpers
   * ------------------------------------------------------------------------
   */

  var TRANSITION_END = 'transitionend';
  var MAX_UID = 1000000;
  var MILLISECONDS_MULTIPLIER = 1000; // Shoutout AngusCroll (https://goo.gl/pxwQGp)

  function toType(obj) {
    if (obj === null || typeof obj === 'undefined') {
      return "" + obj;
    }

    return {}.toString.call(obj).match(/\s([a-z]+)/i)[1].toLowerCase();
  }

  function getSpecialTransitionEndEvent() {
    return {
      bindType: TRANSITION_END,
      delegateType: TRANSITION_END,
      handle: function handle(event) {
        if ($(event.target).is(this)) {
          return event.handleObj.handler.apply(this, arguments); // eslint-disable-line prefer-rest-params
        }

        return undefined;
      }
    };
  }

  function transitionEndEmulator(duration) {
    var _this = this;

    var called = false;
    $(this).one(Util.TRANSITION_END, function () {
      called = true;
    });
    setTimeout(function () {
      if (!called) {
        Util.triggerTransitionEnd(_this);
      }
    }, duration);
    return this;
  }

  function setTransitionEndSupport() {
    $.fn.emulateTransitionEnd = transitionEndEmulator;
    $.event.special[Util.TRANSITION_END] = getSpecialTransitionEndEvent();
  }
  /**
   * --------------------------------------------------------------------------
   * Public Util Api
   * --------------------------------------------------------------------------
   */


  var Util = {
    TRANSITION_END: 'bsTransitionEnd',
    getUID: function getUID(prefix) {
      do {
        // eslint-disable-next-line no-bitwise
        prefix += ~~(Math.random() * MAX_UID); // "~~" acts like a faster Math.floor() here
      } while (document.getElementById(prefix));

      return prefix;
    },
    getSelectorFromElement: function getSelectorFromElement(element) {
      var selector = element.getAttribute('data-target');

      if (!selector || selector === '#') {
        var hrefAttr = element.getAttribute('href');
        selector = hrefAttr && hrefAttr !== '#' ? hrefAttr.trim() : '';
      }

      try {
        return document.querySelector(selector) ? selector : null;
      } catch (err) {
        return null;
      }
    },
    getTransitionDurationFromElement: function getTransitionDurationFromElement(element) {
      if (!element) {
        return 0;
      } // Get transition-duration of the element


      var transitionDuration = $(element).css('transition-duration');
      var transitionDelay = $(element).css('transition-delay');
      var floatTransitionDuration = parseFloat(transitionDuration);
      var floatTransitionDelay = parseFloat(transitionDelay); // Return 0 if element or transition duration is not found

      if (!floatTransitionDuration && !floatTransitionDelay) {
        return 0;
      } // If multiple durations are defined, take the first


      transitionDuration = transitionDuration.split(',')[0];
      transitionDelay = transitionDelay.split(',')[0];
      return (parseFloat(transitionDuration) + parseFloat(transitionDelay)) * MILLISECONDS_MULTIPLIER;
    },
    reflow: function reflow(element) {
      return element.offsetHeight;
    },
    triggerTransitionEnd: function triggerTransitionEnd(element) {
      $(element).trigger(TRANSITION_END);
    },
    // TODO: Remove in v5
    supportsTransitionEnd: function supportsTransitionEnd() {
      return Boolean(TRANSITION_END);
    },
    isElement: function isElement(obj) {
      return (obj[0] || obj).nodeType;
    },
    typeCheckConfig: function typeCheckConfig(componentName, config, configTypes) {
      for (var property in configTypes) {
        if (Object.prototype.hasOwnProperty.call(configTypes, property)) {
          var expectedTypes = configTypes[property];
          var value = config[property];
          var valueType = value && Util.isElement(value) ? 'element' : toType(value);

          if (!new RegExp(expectedTypes).test(valueType)) {
            throw new Error(componentName.toUpperCase() + ": " + ("Option \"" + property + "\" provided type \"" + valueType + "\" ") + ("but expected type \"" + expectedTypes + "\"."));
          }
        }
      }
    },
    findShadowRoot: function findShadowRoot(element) {
      if (!document.documentElement.attachShadow) {
        return null;
      } // Can find the shadow root otherwise it'll return the document


      if (typeof element.getRootNode === 'function') {
        var root = element.getRootNode();
        return root instanceof ShadowRoot ? root : null;
      }

      if (element instanceof ShadowRoot) {
        return element;
      } // when we don't find a shadow root


      if (!element.parentNode) {
        return null;
      }

      return Util.findShadowRoot(element.parentNode);
    },
    jQueryDetection: function jQueryDetection() {
      if (typeof $ === 'undefined') {
        throw new TypeError('Bootstrap\'s JavaScript requires jQuery. jQuery must be included before Bootstrap\'s JavaScript.');
      }

      var version = $.fn.jquery.split(' ')[0].split('.');
      var minMajor = 1;
      var ltMajor = 2;
      var minMinor = 9;
      var minPatch = 1;
      var maxMajor = 4;

      if (version[0] < ltMajor && version[1] < minMinor || version[0] === minMajor && version[1] === minMinor && version[2] < minPatch || version[0] >= maxMajor) {
        throw new Error('Bootstrap\'s JavaScript requires at least jQuery v1.9.1 but less than v4.0.0');
      }
    }
  };
  Util.jQueryDetection();
  setTransitionEndSupport();

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME = 'alert';
  var VERSION = '';
  var DATA_KEY = 'bs.alert';
  var EVENT_KEY = "." + DATA_KEY;
  var DATA_API_KEY = '.data-api';
  var JQUERY_NO_CONFLICT = $.fn[NAME];
  var SELECTOR_DISMISS = '[data-dismiss="alert"]';
  var EVENT_CLOSE = "close" + EVENT_KEY;
  var EVENT_CLOSED = "closed" + EVENT_KEY;
  var EVENT_CLICK_DATA_API = "click" + EVENT_KEY + DATA_API_KEY;
  var CLASS_NAME_ALERT = 'alert';
  var CLASS_NAME_FADE = 'fade';
  var CLASS_NAME_SHOW = 'show';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Alert = /*#__PURE__*/function () {
    function Alert(element) {
      this._element = element;
    } // Getters


    var _proto = Alert.prototype;

    // Public
    _proto.close = function close(element) {
      var rootElement = this._element;

      if (element) {
        rootElement = this._getRootElement(element);
      }

      var customEvent = this._triggerCloseEvent(rootElement);

      if (customEvent.isDefaultPrevented()) {
        return;
      }

      this._removeElement(rootElement);
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY);
      this._element = null;
    } // Private
    ;

    _proto._getRootElement = function _getRootElement(element) {
      var selector = Util.getSelectorFromElement(element);
      var parent = false;

      if (selector) {
        parent = document.querySelector(selector);
      }

      if (!parent) {
        parent = $(element).closest("." + CLASS_NAME_ALERT)[0];
      }

      return parent;
    };

    _proto._triggerCloseEvent = function _triggerCloseEvent(element) {
      var closeEvent = $.Event(EVENT_CLOSE);
      $(element).trigger(closeEvent);
      return closeEvent;
    };

    _proto._removeElement = function _removeElement(element) {
      var _this = this;

      $(element).removeClass(CLASS_NAME_SHOW);

      if (!$(element).hasClass(CLASS_NAME_FADE)) {
        this._destroyElement(element);

        return;
      }

      var transitionDuration = Util.getTransitionDurationFromElement(element);
      $(element).one(Util.TRANSITION_END, function (event) {
        return _this._destroyElement(element, event);
      }).emulateTransitionEnd(transitionDuration);
    };

    _proto._destroyElement = function _destroyElement(element) {
      $(element).detach().trigger(EVENT_CLOSED).remove();
    } // Static
    ;

    Alert._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $(this);
        var data = $element.data(DATA_KEY);

        if (!data) {
          data = new Alert(this);
          $element.data(DATA_KEY, data);
        }

        if (config === 'close') {
          data[config](this);
        }
      });
    };

    Alert._handleDismiss = function _handleDismiss(alertInstance) {
      return function (event) {
        if (event) {
          event.preventDefault();
        }

        alertInstance.close(this);
      };
    };

    _createClass(Alert, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION;
      }
    }]);

    return Alert;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API, SELECTOR_DISMISS, Alert._handleDismiss(new Alert()));
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME] = Alert._jQueryInterface;
  $.fn[NAME].Constructor = Alert;

  $.fn[NAME].noConflict = function () {
    $.fn[NAME] = JQUERY_NO_CONFLICT;
    return Alert._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$1 = 'button';
  var VERSION$1 = '';
  var DATA_KEY$1 = 'bs.button';
  var EVENT_KEY$1 = "." + DATA_KEY$1;
  var DATA_API_KEY$1 = '.data-api';
  var JQUERY_NO_CONFLICT$1 = $.fn[NAME$1];
  var CLASS_NAME_ACTIVE = 'active';
  var CLASS_NAME_BUTTON = 'btn';
  var CLASS_NAME_FOCUS = 'focus';
  var SELECTOR_DATA_TOGGLE_CARROT = '[data-toggle^="button"]';
  var SELECTOR_DATA_TOGGLES = '[data-toggle="buttons"]';
  var SELECTOR_DATA_TOGGLE = '[data-toggle="button"]';
  var SELECTOR_DATA_TOGGLES_BUTTONS = '[data-toggle="buttons"] .btn';
  var SELECTOR_INPUT = 'input:not([type="hidden"])';
  var SELECTOR_ACTIVE = '.active';
  var SELECTOR_BUTTON = '.btn';
  var EVENT_CLICK_DATA_API$1 = "click" + EVENT_KEY$1 + DATA_API_KEY$1;
  var EVENT_FOCUS_BLUR_DATA_API = "focus" + EVENT_KEY$1 + DATA_API_KEY$1 + " " + ("blur" + EVENT_KEY$1 + DATA_API_KEY$1);
  var EVENT_LOAD_DATA_API = "load" + EVENT_KEY$1 + DATA_API_KEY$1;
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Button = /*#__PURE__*/function () {
    function Button(element) {
      this._element = element;
    } // Getters


    var _proto = Button.prototype;

    // Public
    _proto.toggle = function toggle() {
      var triggerChangeEvent = true;
      var addAriaPressed = true;
      var rootElement = $(this._element).closest(SELECTOR_DATA_TOGGLES)[0];

      if (rootElement) {
        var input = this._element.querySelector(SELECTOR_INPUT);

        if (input) {
          if (input.type === 'radio') {
            if (input.checked && this._element.classList.contains(CLASS_NAME_ACTIVE)) {
              triggerChangeEvent = false;
            } else {
              var activeElement = rootElement.querySelector(SELECTOR_ACTIVE);

              if (activeElement) {
                $(activeElement).removeClass(CLASS_NAME_ACTIVE);
              }
            }
          }

          if (triggerChangeEvent) {
            // if it's not a radio button or checkbox don't add a pointless/invalid checked property to the input
            if (input.type === 'checkbox' || input.type === 'radio') {
              input.checked = !this._element.classList.contains(CLASS_NAME_ACTIVE);
            }

            $(input).trigger('change');
          }

          input.focus();
          addAriaPressed = false;
        }
      }

      if (!(this._element.hasAttribute('disabled') || this._element.classList.contains('disabled'))) {
        if (addAriaPressed) {
          this._element.setAttribute('aria-pressed', !this._element.classList.contains(CLASS_NAME_ACTIVE));
        }

        if (triggerChangeEvent) {
          $(this._element).toggleClass(CLASS_NAME_ACTIVE);
        }
      }
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY$1);
      this._element = null;
    } // Static
    ;

    Button._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$1);

        if (!data) {
          data = new Button(this);
          $(this).data(DATA_KEY$1, data);
        }

        if (config === 'toggle') {
          data[config]();
        }
      });
    };

    _createClass(Button, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$1;
      }
    }]);

    return Button;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API$1, SELECTOR_DATA_TOGGLE_CARROT, function (event) {
    var button = event.target;
    var initialButton = button;

    if (!$(button).hasClass(CLASS_NAME_BUTTON)) {
      button = $(button).closest(SELECTOR_BUTTON)[0];
    }

    if (!button || button.hasAttribute('disabled') || button.classList.contains('disabled')) {
      event.preventDefault(); // work around Firefox bug #1540995
    } else {
      var inputBtn = button.querySelector(SELECTOR_INPUT);

      if (inputBtn && (inputBtn.hasAttribute('disabled') || inputBtn.classList.contains('disabled'))) {
        event.preventDefault(); // work around Firefox bug #1540995

        return;
      }

      if (initialButton.tagName === 'LABEL' && inputBtn && inputBtn.type === 'checkbox') {
        event.preventDefault(); // work around event sent to label and input
      }

      Button._jQueryInterface.call($(button), 'toggle');
    }
  }).on(EVENT_FOCUS_BLUR_DATA_API, SELECTOR_DATA_TOGGLE_CARROT, function (event) {
    var button = $(event.target).closest(SELECTOR_BUTTON)[0];
    $(button).toggleClass(CLASS_NAME_FOCUS, /^focus(in)?$/.test(event.type));
  });
  $(window).on(EVENT_LOAD_DATA_API, function () {
    // ensure correct active class is set to match the controls' actual values/states
    // find all checkboxes/readio buttons inside data-toggle groups
    var buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLES_BUTTONS));

    for (var i = 0, len = buttons.length; i < len; i++) {
      var button = buttons[i];
      var input = button.querySelector(SELECTOR_INPUT);

      if (input.checked || input.hasAttribute('checked')) {
        button.classList.add(CLASS_NAME_ACTIVE);
      } else {
        button.classList.remove(CLASS_NAME_ACTIVE);
      }
    } // find all button toggles


    buttons = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE));

    for (var _i = 0, _len = buttons.length; _i < _len; _i++) {
      var _button = buttons[_i];

      if (_button.getAttribute('aria-pressed') === 'true') {
        _button.classList.add(CLASS_NAME_ACTIVE);
      } else {
        _button.classList.remove(CLASS_NAME_ACTIVE);
      }
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$1] = Button._jQueryInterface;
  $.fn[NAME$1].Constructor = Button;

  $.fn[NAME$1].noConflict = function () {
    $.fn[NAME$1] = JQUERY_NO_CONFLICT$1;
    return Button._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$2 = 'carousel';
  var VERSION$2 = '';
  var DATA_KEY$2 = 'bs.carousel';
  var EVENT_KEY$2 = "." + DATA_KEY$2;
  var DATA_API_KEY$2 = '.data-api';
  var JQUERY_NO_CONFLICT$2 = $.fn[NAME$2];
  var ARROW_LEFT_KEYCODE = 37; // KeyboardEvent.which value for left arrow key

  var ARROW_RIGHT_KEYCODE = 39; // KeyboardEvent.which value for right arrow key

  var TOUCHEVENT_COMPAT_WAIT = 500; // Time for mouse compat events to fire after touch

  var SWIPE_THRESHOLD = 40;
  var Default = {
    interval: 5000,
    keyboard: true,
    slide: false,
    pause: 'hover',
    wrap: true,
    touch: true
  };
  var DefaultType = {
    interval: '(number|boolean)',
    keyboard: 'boolean',
    slide: '(boolean|string)',
    pause: '(string|boolean)',
    wrap: 'boolean',
    touch: 'boolean'
  };
  var DIRECTION_NEXT = 'next';
  var DIRECTION_PREV = 'prev';
  var DIRECTION_LEFT = 'left';
  var DIRECTION_RIGHT = 'right';
  var EVENT_SLIDE = "slide" + EVENT_KEY$2;
  var EVENT_SLID = "slid" + EVENT_KEY$2;
  var EVENT_KEYDOWN = "keydown" + EVENT_KEY$2;
  var EVENT_MOUSEENTER = "mouseenter" + EVENT_KEY$2;
  var EVENT_MOUSELEAVE = "mouseleave" + EVENT_KEY$2;
  var EVENT_TOUCHSTART = "touchstart" + EVENT_KEY$2;
  var EVENT_TOUCHMOVE = "touchmove" + EVENT_KEY$2;
  var EVENT_TOUCHEND = "touchend" + EVENT_KEY$2;
  var EVENT_POINTERDOWN = "pointerdown" + EVENT_KEY$2;
  var EVENT_POINTERUP = "pointerup" + EVENT_KEY$2;
  var EVENT_DRAG_START = "dragstart" + EVENT_KEY$2;
  var EVENT_LOAD_DATA_API$1 = "load" + EVENT_KEY$2 + DATA_API_KEY$2;
  var EVENT_CLICK_DATA_API$2 = "click" + EVENT_KEY$2 + DATA_API_KEY$2;
  var CLASS_NAME_CAROUSEL = 'carousel';
  var CLASS_NAME_ACTIVE$1 = 'active';
  var CLASS_NAME_SLIDE = 'slide';
  var CLASS_NAME_RIGHT = 'carousel-item-right';
  var CLASS_NAME_LEFT = 'carousel-item-left';
  var CLASS_NAME_NEXT = 'carousel-item-next';
  var CLASS_NAME_PREV = 'carousel-item-prev';
  var CLASS_NAME_POINTER_EVENT = 'pointer-event';
  var SELECTOR_ACTIVE$1 = '.active';
  var SELECTOR_ACTIVE_ITEM = '.active.carousel-item';
  var SELECTOR_ITEM = '.carousel-item';
  var SELECTOR_ITEM_IMG = '.carousel-item img';
  var SELECTOR_NEXT_PREV = '.carousel-item-next, .carousel-item-prev';
  var SELECTOR_INDICATORS = '.carousel-indicators';
  var SELECTOR_DATA_SLIDE = '[data-slide], [data-slide-to]';
  var SELECTOR_DATA_RIDE = '[data-ride="carousel"]';
  var PointerType = {
    TOUCH: 'touch',
    PEN: 'pen'
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Carousel = /*#__PURE__*/function () {
    function Carousel(element, config) {
      this._items = null;
      this._interval = null;
      this._activeElement = null;
      this._isPaused = false;
      this._isSliding = false;
      this.touchTimeout = null;
      this.touchStartX = 0;
      this.touchDeltaX = 0;
      this._config = this._getConfig(config);
      this._element = element;
      this._indicatorsElement = this._element.querySelector(SELECTOR_INDICATORS);
      this._touchSupported = 'ontouchstart' in document.documentElement || navigator.maxTouchPoints > 0;
      this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent);

      this._addEventListeners();
    } // Getters


    var _proto = Carousel.prototype;

    // Public
    _proto.next = function next() {
      if (!this._isSliding) {
        this._slide(DIRECTION_NEXT);
      }
    };

    _proto.nextWhenVisible = function nextWhenVisible() {
      // Don't call next when the page isn't visible
      // or the carousel or its parent isn't visible
      if (!document.hidden && $(this._element).is(':visible') && $(this._element).css('visibility') !== 'hidden') {
        this.next();
      }
    };

    _proto.prev = function prev() {
      if (!this._isSliding) {
        this._slide(DIRECTION_PREV);
      }
    };

    _proto.pause = function pause(event) {
      if (!event) {
        this._isPaused = true;
      }

      if (this._element.querySelector(SELECTOR_NEXT_PREV)) {
        Util.triggerTransitionEnd(this._element);
        this.cycle(true);
      }

      clearInterval(this._interval);
      this._interval = null;
    };

    _proto.cycle = function cycle(event) {
      if (!event) {
        this._isPaused = false;
      }

      if (this._interval) {
        clearInterval(this._interval);
        this._interval = null;
      }

      if (this._config.interval && !this._isPaused) {
        this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval);
      }
    };

    _proto.to = function to(index) {
      var _this = this;

      this._activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);

      var activeIndex = this._getItemIndex(this._activeElement);

      if (index > this._items.length - 1 || index < 0) {
        return;
      }

      if (this._isSliding) {
        $(this._element).one(EVENT_SLID, function () {
          return _this.to(index);
        });
        return;
      }

      if (activeIndex === index) {
        this.pause();
        this.cycle();
        return;
      }

      var direction = index > activeIndex ? DIRECTION_NEXT : DIRECTION_PREV;

      this._slide(direction, this._items[index]);
    };

    _proto.dispose = function dispose() {
      $(this._element).off(EVENT_KEY$2);
      $.removeData(this._element, DATA_KEY$2);
      this._items = null;
      this._config = null;
      this._element = null;
      this._interval = null;
      this._isPaused = null;
      this._isSliding = null;
      this._activeElement = null;
      this._indicatorsElement = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2({}, Default), config);
      Util.typeCheckConfig(NAME$2, config, DefaultType);
      return config;
    };

    _proto._handleSwipe = function _handleSwipe() {
      var absDeltax = Math.abs(this.touchDeltaX);

      if (absDeltax <= SWIPE_THRESHOLD) {
        return;
      }

      var direction = absDeltax / this.touchDeltaX;
      this.touchDeltaX = 0; // swipe left

      if (direction > 0) {
        this.prev();
      } // swipe right


      if (direction < 0) {
        this.next();
      }
    };

    _proto._addEventListeners = function _addEventListeners() {
      var _this2 = this;

      if (this._config.keyboard) {
        $(this._element).on(EVENT_KEYDOWN, function (event) {
          return _this2._keydown(event);
        });
      }

      if (this._config.pause === 'hover') {
        $(this._element).on(EVENT_MOUSEENTER, function (event) {
          return _this2.pause(event);
        }).on(EVENT_MOUSELEAVE, function (event) {
          return _this2.cycle(event);
        });
      }

      if (this._config.touch) {
        this._addTouchEventListeners();
      }
    };

    _proto._addTouchEventListeners = function _addTouchEventListeners() {
      var _this3 = this;

      if (!this._touchSupported) {
        return;
      }

      var start = function start(event) {
        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {
          _this3.touchStartX = event.originalEvent.clientX;
        } else if (!_this3._pointerEvent) {
          _this3.touchStartX = event.originalEvent.touches[0].clientX;
        }
      };

      var move = function move(event) {
        // ensure swiping with one touch and not pinching
        if (event.originalEvent.touches && event.originalEvent.touches.length > 1) {
          _this3.touchDeltaX = 0;
        } else {
          _this3.touchDeltaX = event.originalEvent.touches[0].clientX - _this3.touchStartX;
        }
      };

      var end = function end(event) {
        if (_this3._pointerEvent && PointerType[event.originalEvent.pointerType.toUpperCase()]) {
          _this3.touchDeltaX = event.originalEvent.clientX - _this3.touchStartX;
        }

        _this3._handleSwipe();

        if (_this3._config.pause === 'hover') {
          // If it's a touch-enabled device, mouseenter/leave are fired as
          // part of the mouse compatibility events on first tap - the carousel
          // would stop cycling until user tapped out of it;
          // here, we listen for touchend, explicitly pause the carousel
          // (as if it's the second time we tap on it, mouseenter compat event
          // is NOT fired) and after a timeout (to allow for mouse compatibility
          // events to fire) we explicitly restart cycling
          _this3.pause();

          if (_this3.touchTimeout) {
            clearTimeout(_this3.touchTimeout);
          }

          _this3.touchTimeout = setTimeout(function (event) {
            return _this3.cycle(event);
          }, TOUCHEVENT_COMPAT_WAIT + _this3._config.interval);
        }
      };

      $(this._element.querySelectorAll(SELECTOR_ITEM_IMG)).on(EVENT_DRAG_START, function (e) {
        return e.preventDefault();
      });

      if (this._pointerEvent) {
        $(this._element).on(EVENT_POINTERDOWN, function (event) {
          return start(event);
        });
        $(this._element).on(EVENT_POINTERUP, function (event) {
          return end(event);
        });

        this._element.classList.add(CLASS_NAME_POINTER_EVENT);
      } else {
        $(this._element).on(EVENT_TOUCHSTART, function (event) {
          return start(event);
        });
        $(this._element).on(EVENT_TOUCHMOVE, function (event) {
          return move(event);
        });
        $(this._element).on(EVENT_TOUCHEND, function (event) {
          return end(event);
        });
      }
    };

    _proto._keydown = function _keydown(event) {
      if (/input|textarea/i.test(event.target.tagName)) {
        return;
      }

      switch (event.which) {
        case ARROW_LEFT_KEYCODE:
          event.preventDefault();
          this.prev();
          break;

        case ARROW_RIGHT_KEYCODE:
          event.preventDefault();
          this.next();
          break;
      }
    };

    _proto._getItemIndex = function _getItemIndex(element) {
      this._items = element && element.parentNode ? [].slice.call(element.parentNode.querySelectorAll(SELECTOR_ITEM)) : [];
      return this._items.indexOf(element);
    };

    _proto._getItemByDirection = function _getItemByDirection(direction, activeElement) {
      var isNextDirection = direction === DIRECTION_NEXT;
      var isPrevDirection = direction === DIRECTION_PREV;

      var activeIndex = this._getItemIndex(activeElement);

      var lastItemIndex = this._items.length - 1;
      var isGoingToWrap = isPrevDirection && activeIndex === 0 || isNextDirection && activeIndex === lastItemIndex;

      if (isGoingToWrap && !this._config.wrap) {
        return activeElement;
      }

      var delta = direction === DIRECTION_PREV ? -1 : 1;
      var itemIndex = (activeIndex + delta) % this._items.length;
      return itemIndex === -1 ? this._items[this._items.length - 1] : this._items[itemIndex];
    };

    _proto._triggerSlideEvent = function _triggerSlideEvent(relatedTarget, eventDirectionName) {
      var targetIndex = this._getItemIndex(relatedTarget);

      var fromIndex = this._getItemIndex(this._element.querySelector(SELECTOR_ACTIVE_ITEM));

      var slideEvent = $.Event(EVENT_SLIDE, {
        relatedTarget: relatedTarget,
        direction: eventDirectionName,
        from: fromIndex,
        to: targetIndex
      });
      $(this._element).trigger(slideEvent);
      return slideEvent;
    };

    _proto._setActiveIndicatorElement = function _setActiveIndicatorElement(element) {
      if (this._indicatorsElement) {
        var indicators = [].slice.call(this._indicatorsElement.querySelectorAll(SELECTOR_ACTIVE$1));
        $(indicators).removeClass(CLASS_NAME_ACTIVE$1);

        var nextIndicator = this._indicatorsElement.children[this._getItemIndex(element)];

        if (nextIndicator) {
          $(nextIndicator).addClass(CLASS_NAME_ACTIVE$1);
        }
      }
    };

    _proto._slide = function _slide(direction, element) {
      var _this4 = this;

      var activeElement = this._element.querySelector(SELECTOR_ACTIVE_ITEM);

      var activeElementIndex = this._getItemIndex(activeElement);

      var nextElement = element || activeElement && this._getItemByDirection(direction, activeElement);

      var nextElementIndex = this._getItemIndex(nextElement);

      var isCycling = Boolean(this._interval);
      var directionalClassName;
      var orderClassName;
      var eventDirectionName;

      if (direction === DIRECTION_NEXT) {
        directionalClassName = CLASS_NAME_LEFT;
        orderClassName = CLASS_NAME_NEXT;
        eventDirectionName = DIRECTION_LEFT;
      } else {
        directionalClassName = CLASS_NAME_RIGHT;
        orderClassName = CLASS_NAME_PREV;
        eventDirectionName = DIRECTION_RIGHT;
      }

      if (nextElement && $(nextElement).hasClass(CLASS_NAME_ACTIVE$1)) {
        this._isSliding = false;
        return;
      }

      var slideEvent = this._triggerSlideEvent(nextElement, eventDirectionName);

      if (slideEvent.isDefaultPrevented()) {
        return;
      }

      if (!activeElement || !nextElement) {
        // Some weirdness is happening, so we bail
        return;
      }

      this._isSliding = true;

      if (isCycling) {
        this.pause();
      }

      this._setActiveIndicatorElement(nextElement);

      var slidEvent = $.Event(EVENT_SLID, {
        relatedTarget: nextElement,
        direction: eventDirectionName,
        from: activeElementIndex,
        to: nextElementIndex
      });

      if ($(this._element).hasClass(CLASS_NAME_SLIDE)) {
        $(nextElement).addClass(orderClassName);
        Util.reflow(nextElement);
        $(activeElement).addClass(directionalClassName);
        $(nextElement).addClass(directionalClassName);
        var nextElementInterval = parseInt(nextElement.getAttribute('data-interval'), 10);

        if (nextElementInterval) {
          this._config.defaultInterval = this._config.defaultInterval || this._config.interval;
          this._config.interval = nextElementInterval;
        } else {
          this._config.interval = this._config.defaultInterval || this._config.interval;
        }

        var transitionDuration = Util.getTransitionDurationFromElement(activeElement);
        $(activeElement).one(Util.TRANSITION_END, function () {
          $(nextElement).removeClass(directionalClassName + " " + orderClassName).addClass(CLASS_NAME_ACTIVE$1);
          $(activeElement).removeClass(CLASS_NAME_ACTIVE$1 + " " + orderClassName + " " + directionalClassName);
          _this4._isSliding = false;
          setTimeout(function () {
            return $(_this4._element).trigger(slidEvent);
          }, 0);
        }).emulateTransitionEnd(transitionDuration);
      } else {
        $(activeElement).removeClass(CLASS_NAME_ACTIVE$1);
        $(nextElement).addClass(CLASS_NAME_ACTIVE$1);
        this._isSliding = false;
        $(this._element).trigger(slidEvent);
      }

      if (isCycling) {
        this.cycle();
      }
    } // Static
    ;

    Carousel._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$2);

        var _config = _objectSpread2(_objectSpread2({}, Default), $(this).data());

        if (typeof config === 'object') {
          _config = _objectSpread2(_objectSpread2({}, _config), config);
        }

        var action = typeof config === 'string' ? config : _config.slide;

        if (!data) {
          data = new Carousel(this, _config);
          $(this).data(DATA_KEY$2, data);
        }

        if (typeof config === 'number') {
          data.to(config);
        } else if (typeof action === 'string') {
          if (typeof data[action] === 'undefined') {
            throw new TypeError("No method named \"" + action + "\"");
          }

          data[action]();
        } else if (_config.interval && _config.ride) {
          data.pause();
          data.cycle();
        }
      });
    };

    Carousel._dataApiClickHandler = function _dataApiClickHandler(event) {
      var selector = Util.getSelectorFromElement(this);

      if (!selector) {
        return;
      }

      var target = $(selector)[0];

      if (!target || !$(target).hasClass(CLASS_NAME_CAROUSEL)) {
        return;
      }

      var config = _objectSpread2(_objectSpread2({}, $(target).data()), $(this).data());

      var slideIndex = this.getAttribute('data-slide-to');

      if (slideIndex) {
        config.interval = false;
      }

      Carousel._jQueryInterface.call($(target), config);

      if (slideIndex) {
        $(target).data(DATA_KEY$2).to(slideIndex);
      }

      event.preventDefault();
    };

    _createClass(Carousel, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$2;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default;
      }
    }]);

    return Carousel;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API$2, SELECTOR_DATA_SLIDE, Carousel._dataApiClickHandler);
  $(window).on(EVENT_LOAD_DATA_API$1, function () {
    var carousels = [].slice.call(document.querySelectorAll(SELECTOR_DATA_RIDE));

    for (var i = 0, len = carousels.length; i < len; i++) {
      var $carousel = $(carousels[i]);

      Carousel._jQueryInterface.call($carousel, $carousel.data());
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$2] = Carousel._jQueryInterface;
  $.fn[NAME$2].Constructor = Carousel;

  $.fn[NAME$2].noConflict = function () {
    $.fn[NAME$2] = JQUERY_NO_CONFLICT$2;
    return Carousel._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$3 = 'collapse';
  var VERSION$3 = '';
  var DATA_KEY$3 = 'bs.collapse';
  var EVENT_KEY$3 = "." + DATA_KEY$3;
  var DATA_API_KEY$3 = '.data-api';
  var JQUERY_NO_CONFLICT$3 = $.fn[NAME$3];
  var Default$1 = {
    toggle: true,
    parent: ''
  };
  var DefaultType$1 = {
    toggle: 'boolean',
    parent: '(string|element)'
  };
  var EVENT_SHOW = "show" + EVENT_KEY$3;
  var EVENT_SHOWN = "shown" + EVENT_KEY$3;
  var EVENT_HIDE = "hide" + EVENT_KEY$3;
  var EVENT_HIDDEN = "hidden" + EVENT_KEY$3;
  var EVENT_CLICK_DATA_API$3 = "click" + EVENT_KEY$3 + DATA_API_KEY$3;
  var CLASS_NAME_SHOW$1 = 'show';
  var CLASS_NAME_COLLAPSE = 'collapse';
  var CLASS_NAME_COLLAPSING = 'collapsing';
  var CLASS_NAME_COLLAPSED = 'collapsed';
  var DIMENSION_WIDTH = 'width';
  var DIMENSION_HEIGHT = 'height';
  var SELECTOR_ACTIVES = '.show, .collapsing';
  var SELECTOR_DATA_TOGGLE$1 = '[data-toggle="collapse"]';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Collapse = /*#__PURE__*/function () {
    function Collapse(element, config) {
      this._isTransitioning = false;
      this._element = element;
      this._config = this._getConfig(config);
      this._triggerArray = [].slice.call(document.querySelectorAll("[data-toggle=\"collapse\"][href=\"#" + element.id + "\"]," + ("[data-toggle=\"collapse\"][data-target=\"#" + element.id + "\"]")));
      var toggleList = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$1));

      for (var i = 0, len = toggleList.length; i < len; i++) {
        var elem = toggleList[i];
        var selector = Util.getSelectorFromElement(elem);
        var filterElement = [].slice.call(document.querySelectorAll(selector)).filter(function (foundElem) {
          return foundElem === element;
        });

        if (selector !== null && filterElement.length > 0) {
          this._selector = selector;

          this._triggerArray.push(elem);
        }
      }

      this._parent = this._config.parent ? this._getParent() : null;

      if (!this._config.parent) {
        this._addAriaAndCollapsedClass(this._element, this._triggerArray);
      }

      if (this._config.toggle) {
        this.toggle();
      }
    } // Getters


    var _proto = Collapse.prototype;

    // Public
    _proto.toggle = function toggle() {
      if ($(this._element).hasClass(CLASS_NAME_SHOW$1)) {
        this.hide();
      } else {
        this.show();
      }
    };

    _proto.show = function show() {
      var _this = this;

      if (this._isTransitioning || $(this._element).hasClass(CLASS_NAME_SHOW$1)) {
        return;
      }

      var actives;
      var activesData;

      if (this._parent) {
        actives = [].slice.call(this._parent.querySelectorAll(SELECTOR_ACTIVES)).filter(function (elem) {
          if (typeof _this._config.parent === 'string') {
            return elem.getAttribute('data-parent') === _this._config.parent;
          }

          return elem.classList.contains(CLASS_NAME_COLLAPSE);
        });

        if (actives.length === 0) {
          actives = null;
        }
      }

      if (actives) {
        activesData = $(actives).not(this._selector).data(DATA_KEY$3);

        if (activesData && activesData._isTransitioning) {
          return;
        }
      }

      var startEvent = $.Event(EVENT_SHOW);
      $(this._element).trigger(startEvent);

      if (startEvent.isDefaultPrevented()) {
        return;
      }

      if (actives) {
        Collapse._jQueryInterface.call($(actives).not(this._selector), 'hide');

        if (!activesData) {
          $(actives).data(DATA_KEY$3, null);
        }
      }

      var dimension = this._getDimension();

      $(this._element).removeClass(CLASS_NAME_COLLAPSE).addClass(CLASS_NAME_COLLAPSING);
      this._element.style[dimension] = 0;

      if (this._triggerArray.length) {
        $(this._triggerArray).removeClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', true);
      }

      this.setTransitioning(true);

      var complete = function complete() {
        $(_this._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE + " " + CLASS_NAME_SHOW$1);
        _this._element.style[dimension] = '';

        _this.setTransitioning(false);

        $(_this._element).trigger(EVENT_SHOWN);
      };

      var capitalizedDimension = dimension[0].toUpperCase() + dimension.slice(1);
      var scrollSize = "scroll" + capitalizedDimension;
      var transitionDuration = Util.getTransitionDurationFromElement(this._element);
      $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      this._element.style[dimension] = this._element[scrollSize] + "px";
    };

    _proto.hide = function hide() {
      var _this2 = this;

      if (this._isTransitioning || !$(this._element).hasClass(CLASS_NAME_SHOW$1)) {
        return;
      }

      var startEvent = $.Event(EVENT_HIDE);
      $(this._element).trigger(startEvent);

      if (startEvent.isDefaultPrevented()) {
        return;
      }

      var dimension = this._getDimension();

      this._element.style[dimension] = this._element.getBoundingClientRect()[dimension] + "px";
      Util.reflow(this._element);
      $(this._element).addClass(CLASS_NAME_COLLAPSING).removeClass(CLASS_NAME_COLLAPSE + " " + CLASS_NAME_SHOW$1);
      var triggerArrayLength = this._triggerArray.length;

      if (triggerArrayLength > 0) {
        for (var i = 0; i < triggerArrayLength; i++) {
          var trigger = this._triggerArray[i];
          var selector = Util.getSelectorFromElement(trigger);

          if (selector !== null) {
            var $elem = $([].slice.call(document.querySelectorAll(selector)));

            if (!$elem.hasClass(CLASS_NAME_SHOW$1)) {
              $(trigger).addClass(CLASS_NAME_COLLAPSED).attr('aria-expanded', false);
            }
          }
        }
      }

      this.setTransitioning(true);

      var complete = function complete() {
        _this2.setTransitioning(false);

        $(_this2._element).removeClass(CLASS_NAME_COLLAPSING).addClass(CLASS_NAME_COLLAPSE).trigger(EVENT_HIDDEN);
      };

      this._element.style[dimension] = '';
      var transitionDuration = Util.getTransitionDurationFromElement(this._element);
      $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
    };

    _proto.setTransitioning = function setTransitioning(isTransitioning) {
      this._isTransitioning = isTransitioning;
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY$3);
      this._config = null;
      this._parent = null;
      this._element = null;
      this._triggerArray = null;
      this._isTransitioning = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2({}, Default$1), config);
      config.toggle = Boolean(config.toggle); // Coerce string values

      Util.typeCheckConfig(NAME$3, config, DefaultType$1);
      return config;
    };

    _proto._getDimension = function _getDimension() {
      var hasWidth = $(this._element).hasClass(DIMENSION_WIDTH);
      return hasWidth ? DIMENSION_WIDTH : DIMENSION_HEIGHT;
    };

    _proto._getParent = function _getParent() {
      var _this3 = this;

      var parent;

      if (Util.isElement(this._config.parent)) {
        parent = this._config.parent; // It's a jQuery object

        if (typeof this._config.parent.jquery !== 'undefined') {
          parent = this._config.parent[0];
        }
      } else {
        parent = document.querySelector(this._config.parent);
      }

      var selector = "[data-toggle=\"collapse\"][data-parent=\"" + this._config.parent + "\"]";
      var children = [].slice.call(parent.querySelectorAll(selector));
      $(children).each(function (i, element) {
        _this3._addAriaAndCollapsedClass(Collapse._getTargetFromElement(element), [element]);
      });
      return parent;
    };

    _proto._addAriaAndCollapsedClass = function _addAriaAndCollapsedClass(element, triggerArray) {
      var isOpen = $(element).hasClass(CLASS_NAME_SHOW$1);

      if (triggerArray.length) {
        $(triggerArray).toggleClass(CLASS_NAME_COLLAPSED, !isOpen).attr('aria-expanded', isOpen);
      }
    } // Static
    ;

    Collapse._getTargetFromElement = function _getTargetFromElement(element) {
      var selector = Util.getSelectorFromElement(element);
      return selector ? document.querySelector(selector) : null;
    };

    Collapse._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $this = $(this);
        var data = $this.data(DATA_KEY$3);

        var _config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$1), $this.data()), typeof config === 'object' && config ? config : {});

        if (!data && _config.toggle && typeof config === 'string' && /show|hide/.test(config)) {
          _config.toggle = false;
        }

        if (!data) {
          data = new Collapse(this, _config);
          $this.data(DATA_KEY$3, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Collapse, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$3;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$1;
      }
    }]);

    return Collapse;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API$3, SELECTOR_DATA_TOGGLE$1, function (event) {
    // preventDefault only for <a> elements (which change the URL) not inside the collapsible element
    if (event.currentTarget.tagName === 'A') {
      event.preventDefault();
    }

    var $trigger = $(this);
    var selector = Util.getSelectorFromElement(this);
    var selectors = [].slice.call(document.querySelectorAll(selector));
    $(selectors).each(function () {
      var $target = $(this);
      var data = $target.data(DATA_KEY$3);
      var config = data ? 'toggle' : $trigger.data();

      Collapse._jQueryInterface.call($target, config);
    });
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$3] = Collapse._jQueryInterface;
  $.fn[NAME$3].Constructor = Collapse;

  $.fn[NAME$3].noConflict = function () {
    $.fn[NAME$3] = JQUERY_NO_CONFLICT$3;
    return Collapse._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$4 = 'dropdown';
  var VERSION$4 = '';
  var DATA_KEY$4 = 'bs.dropdown';
  var EVENT_KEY$4 = "." + DATA_KEY$4;
  var DATA_API_KEY$4 = '.data-api';
  var JQUERY_NO_CONFLICT$4 = $.fn[NAME$4];
  var ESCAPE_KEYCODE = 27; // KeyboardEvent.which value for Escape (Esc) key

  var SPACE_KEYCODE = 32; // KeyboardEvent.which value for space key

  var TAB_KEYCODE = 9; // KeyboardEvent.which value for tab key

  var ARROW_UP_KEYCODE = 38; // KeyboardEvent.which value for up arrow key

  var ARROW_DOWN_KEYCODE = 40; // KeyboardEvent.which value for down arrow key

  var RIGHT_MOUSE_BUTTON_WHICH = 3; // MouseEvent.which value for the right button (assuming a right-handed mouse)

  var REGEXP_KEYDOWN = new RegExp(ARROW_UP_KEYCODE + "|" + ARROW_DOWN_KEYCODE + "|" + ESCAPE_KEYCODE);
  var EVENT_HIDE$1 = "hide" + EVENT_KEY$4;
  var EVENT_HIDDEN$1 = "hidden" + EVENT_KEY$4;
  var EVENT_SHOW$1 = "show" + EVENT_KEY$4;
  var EVENT_SHOWN$1 = "shown" + EVENT_KEY$4;
  var EVENT_CLICK = "click" + EVENT_KEY$4;
  var EVENT_CLICK_DATA_API$4 = "click" + EVENT_KEY$4 + DATA_API_KEY$4;
  var EVENT_KEYDOWN_DATA_API = "keydown" + EVENT_KEY$4 + DATA_API_KEY$4;
  var EVENT_KEYUP_DATA_API = "keyup" + EVENT_KEY$4 + DATA_API_KEY$4;
  var CLASS_NAME_DISABLED = 'disabled';
  var CLASS_NAME_SHOW$2 = 'show';
  var CLASS_NAME_DROPUP = 'dropup';
  var CLASS_NAME_DROPRIGHT = 'dropright';
  var CLASS_NAME_DROPLEFT = 'dropleft';
  var CLASS_NAME_MENURIGHT = 'dropdown-menu-right';
  var CLASS_NAME_POSITION_STATIC = 'position-static';
  var SELECTOR_DATA_TOGGLE$2 = '[data-toggle="dropdown"]';
  var SELECTOR_FORM_CHILD = '.dropdown form';
  var SELECTOR_MENU = '.dropdown-menu';
  var SELECTOR_NAVBAR_NAV = '.navbar-nav';
  var SELECTOR_VISIBLE_ITEMS = '.dropdown-menu .dropdown-item:not(.disabled):not(:disabled)';
  var PLACEMENT_TOP = 'top-start';
  var PLACEMENT_TOPEND = 'top-end';
  var PLACEMENT_BOTTOM = 'bottom-start';
  var PLACEMENT_BOTTOMEND = 'bottom-end';
  var PLACEMENT_RIGHT = 'right-start';
  var PLACEMENT_LEFT = 'left-start';
  var Default$2 = {
    offset: 0,
    flip: true,
    boundary: 'scrollParent',
    reference: 'toggle',
    display: 'dynamic',
    popperConfig: null
  };
  var DefaultType$2 = {
    offset: '(number|string|function)',
    flip: 'boolean',
    boundary: '(string|element)',
    reference: '(string|element)',
    display: 'string',
    popperConfig: '(null|object)'
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Dropdown = /*#__PURE__*/function () {
    function Dropdown(element, config) {
      this._element = element;
      this._popper = null;
      this._config = this._getConfig(config);
      this._menu = this._getMenuElement();
      this._inNavbar = this._detectNavbar();

      this._addEventListeners();
    } // Getters


    var _proto = Dropdown.prototype;

    // Public
    _proto.toggle = function toggle() {
      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED)) {
        return;
      }

      var isActive = $(this._menu).hasClass(CLASS_NAME_SHOW$2);

      Dropdown._clearMenus();

      if (isActive) {
        return;
      }

      this.show(true);
    };

    _proto.show = function show(usePopper) {
      if (usePopper === void 0) {
        usePopper = false;
      }

      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED) || $(this._menu).hasClass(CLASS_NAME_SHOW$2)) {
        return;
      }

      var relatedTarget = {
        relatedTarget: this._element
      };
      var showEvent = $.Event(EVENT_SHOW$1, relatedTarget);

      var parent = Dropdown._getParentFromElement(this._element);

      $(parent).trigger(showEvent);

      if (showEvent.isDefaultPrevented()) {
        return;
      } // Disable totally Popper.js for Dropdown in Navbar


      if (!this._inNavbar && usePopper) {
        /**
         * Check for Popper dependency
         * Popper - https://popper.js.org
         */
        if (typeof Popper === 'undefined') {
          throw new TypeError('Bootstrap\'s dropdowns require Popper.js (https://popper.js.org/)');
        }

        var referenceElement = this._element;

        if (this._config.reference === 'parent') {
          referenceElement = parent;
        } else if (Util.isElement(this._config.reference)) {
          referenceElement = this._config.reference; // Check if it's jQuery element

          if (typeof this._config.reference.jquery !== 'undefined') {
            referenceElement = this._config.reference[0];
          }
        } // If boundary is not `scrollParent`, then set position to `static`
        // to allow the menu to "escape" the scroll parent's boundaries
        // https://github.com/twbs/bootstrap/issues/24251


        if (this._config.boundary !== 'scrollParent') {
          $(parent).addClass(CLASS_NAME_POSITION_STATIC);
        }

        this._popper = new Popper(referenceElement, this._menu, this._getPopperConfig());
      } // If this is a touch-enabled device we add extra
      // empty mouseover listeners to the body's immediate children;
      // only needed because of broken event delegation on iOS
      // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html


      if ('ontouchstart' in document.documentElement && $(parent).closest(SELECTOR_NAVBAR_NAV).length === 0) {
        $(document.body).children().on('mouseover', null, $.noop);
      }

      this._element.focus();

      this._element.setAttribute('aria-expanded', true);

      $(this._menu).toggleClass(CLASS_NAME_SHOW$2);
      $(parent).toggleClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_SHOWN$1, relatedTarget));
    };

    _proto.hide = function hide() {
      if (this._element.disabled || $(this._element).hasClass(CLASS_NAME_DISABLED) || !$(this._menu).hasClass(CLASS_NAME_SHOW$2)) {
        return;
      }

      var relatedTarget = {
        relatedTarget: this._element
      };
      var hideEvent = $.Event(EVENT_HIDE$1, relatedTarget);

      var parent = Dropdown._getParentFromElement(this._element);

      $(parent).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      if (this._popper) {
        this._popper.destroy();
      }

      $(this._menu).toggleClass(CLASS_NAME_SHOW$2);
      $(parent).toggleClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_HIDDEN$1, relatedTarget));
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY$4);
      $(this._element).off(EVENT_KEY$4);
      this._element = null;
      this._menu = null;

      if (this._popper !== null) {
        this._popper.destroy();

        this._popper = null;
      }
    };

    _proto.update = function update() {
      this._inNavbar = this._detectNavbar();

      if (this._popper !== null) {
        this._popper.scheduleUpdate();
      }
    } // Private
    ;

    _proto._addEventListeners = function _addEventListeners() {
      var _this = this;

      $(this._element).on(EVENT_CLICK, function (event) {
        event.preventDefault();
        event.stopPropagation();

        _this.toggle();
      });
    };

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2(_objectSpread2({}, this.constructor.Default), $(this._element).data()), config);
      Util.typeCheckConfig(NAME$4, config, this.constructor.DefaultType);
      return config;
    };

    _proto._getMenuElement = function _getMenuElement() {
      if (!this._menu) {
        var parent = Dropdown._getParentFromElement(this._element);

        if (parent) {
          this._menu = parent.querySelector(SELECTOR_MENU);
        }
      }

      return this._menu;
    };

    _proto._getPlacement = function _getPlacement() {
      var $parentDropdown = $(this._element.parentNode);
      var placement = PLACEMENT_BOTTOM; // Handle dropup

      if ($parentDropdown.hasClass(CLASS_NAME_DROPUP)) {
        placement = $(this._menu).hasClass(CLASS_NAME_MENURIGHT) ? PLACEMENT_TOPEND : PLACEMENT_TOP;
      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPRIGHT)) {
        placement = PLACEMENT_RIGHT;
      } else if ($parentDropdown.hasClass(CLASS_NAME_DROPLEFT)) {
        placement = PLACEMENT_LEFT;
      } else if ($(this._menu).hasClass(CLASS_NAME_MENURIGHT)) {
        placement = PLACEMENT_BOTTOMEND;
      }

      return placement;
    };

    _proto._detectNavbar = function _detectNavbar() {
      return $(this._element).closest('.navbar').length > 0;
    };

    _proto._getOffset = function _getOffset() {
      var _this2 = this;

      var offset = {};

      if (typeof this._config.offset === 'function') {
        offset.fn = function (data) {
          data.offsets = _objectSpread2(_objectSpread2({}, data.offsets), _this2._config.offset(data.offsets, _this2._element) || {});
          return data;
        };
      } else {
        offset.offset = this._config.offset;
      }

      return offset;
    };

    _proto._getPopperConfig = function _getPopperConfig() {
      var popperConfig = {
        placement: this._getPlacement(),
        modifiers: {
          offset: this._getOffset(),
          flip: {
            enabled: this._config.flip
          },
          preventOverflow: {
            boundariesElement: this._config.boundary
          }
        }
      }; // Disable Popper.js if we have a static display

      if (this._config.display === 'static') {
        popperConfig.modifiers.applyStyle = {
          enabled: false
        };
      }

      return _objectSpread2(_objectSpread2({}, popperConfig), this._config.popperConfig);
    } // Static
    ;

    Dropdown._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$4);

        var _config = typeof config === 'object' ? config : null;

        if (!data) {
          data = new Dropdown(this, _config);
          $(this).data(DATA_KEY$4, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    Dropdown._clearMenus = function _clearMenus(event) {
      if (event && (event.which === RIGHT_MOUSE_BUTTON_WHICH || event.type === 'keyup' && event.which !== TAB_KEYCODE)) {
        return;
      }

      var toggles = [].slice.call(document.querySelectorAll(SELECTOR_DATA_TOGGLE$2));

      for (var i = 0, len = toggles.length; i < len; i++) {
        var parent = Dropdown._getParentFromElement(toggles[i]);

        var context = $(toggles[i]).data(DATA_KEY$4);
        var relatedTarget = {
          relatedTarget: toggles[i]
        };

        if (event && event.type === 'click') {
          relatedTarget.clickEvent = event;
        }

        if (!context) {
          continue;
        }

        var dropdownMenu = context._menu;

        if (!$(parent).hasClass(CLASS_NAME_SHOW$2)) {
          continue;
        }

        if (event && (event.type === 'click' && /input|textarea/i.test(event.target.tagName) || event.type === 'keyup' && event.which === TAB_KEYCODE) && $.contains(parent, event.target)) {
          continue;
        }

        var hideEvent = $.Event(EVENT_HIDE$1, relatedTarget);
        $(parent).trigger(hideEvent);

        if (hideEvent.isDefaultPrevented()) {
          continue;
        } // If this is a touch-enabled device we remove the extra
        // empty mouseover listeners we added for iOS support


        if ('ontouchstart' in document.documentElement) {
          $(document.body).children().off('mouseover', null, $.noop);
        }

        toggles[i].setAttribute('aria-expanded', 'false');

        if (context._popper) {
          context._popper.destroy();
        }

        $(dropdownMenu).removeClass(CLASS_NAME_SHOW$2);
        $(parent).removeClass(CLASS_NAME_SHOW$2).trigger($.Event(EVENT_HIDDEN$1, relatedTarget));
      }
    };

    Dropdown._getParentFromElement = function _getParentFromElement(element) {
      var parent;
      var selector = Util.getSelectorFromElement(element);

      if (selector) {
        parent = document.querySelector(selector);
      }

      return parent || element.parentNode;
    } // eslint-disable-next-line complexity
    ;

    Dropdown._dataApiKeydownHandler = function _dataApiKeydownHandler(event) {
      // If not input/textarea:
      //  - And not a key in REGEXP_KEYDOWN => not a dropdown command
      // If input/textarea:
      //  - If space key => not a dropdown command
      //  - If key is other than escape
      //    - If key is not up or down => not a dropdown command
      //    - If trigger inside the menu => not a dropdown command
      if (/input|textarea/i.test(event.target.tagName) ? event.which === SPACE_KEYCODE || event.which !== ESCAPE_KEYCODE && (event.which !== ARROW_DOWN_KEYCODE && event.which !== ARROW_UP_KEYCODE || $(event.target).closest(SELECTOR_MENU).length) : !REGEXP_KEYDOWN.test(event.which)) {
        return;
      }

      if (this.disabled || $(this).hasClass(CLASS_NAME_DISABLED)) {
        return;
      }

      var parent = Dropdown._getParentFromElement(this);

      var isActive = $(parent).hasClass(CLASS_NAME_SHOW$2);

      if (!isActive && event.which === ESCAPE_KEYCODE) {
        return;
      }

      event.preventDefault();
      event.stopPropagation();

      if (!isActive || isActive && (event.which === ESCAPE_KEYCODE || event.which === SPACE_KEYCODE)) {
        if (event.which === ESCAPE_KEYCODE) {
          $(parent.querySelector(SELECTOR_DATA_TOGGLE$2)).trigger('focus');
        }

        $(this).trigger('click');
        return;
      }

      var items = [].slice.call(parent.querySelectorAll(SELECTOR_VISIBLE_ITEMS)).filter(function (item) {
        return $(item).is(':visible');
      });

      if (items.length === 0) {
        return;
      }

      var index = items.indexOf(event.target);

      if (event.which === ARROW_UP_KEYCODE && index > 0) {
        // Up
        index--;
      }

      if (event.which === ARROW_DOWN_KEYCODE && index < items.length - 1) {
        // Down
        index++;
      }

      if (index < 0) {
        index = 0;
      }

      items[index].focus();
    };

    _createClass(Dropdown, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$4;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$2;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$2;
      }
    }]);

    return Dropdown;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_KEYDOWN_DATA_API, SELECTOR_DATA_TOGGLE$2, Dropdown._dataApiKeydownHandler).on(EVENT_KEYDOWN_DATA_API, SELECTOR_MENU, Dropdown._dataApiKeydownHandler).on(EVENT_CLICK_DATA_API$4 + " " + EVENT_KEYUP_DATA_API, Dropdown._clearMenus).on(EVENT_CLICK_DATA_API$4, SELECTOR_DATA_TOGGLE$2, function (event) {
    event.preventDefault();
    event.stopPropagation();

    Dropdown._jQueryInterface.call($(this), 'toggle');
  }).on(EVENT_CLICK_DATA_API$4, SELECTOR_FORM_CHILD, function (e) {
    e.stopPropagation();
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$4] = Dropdown._jQueryInterface;
  $.fn[NAME$4].Constructor = Dropdown;

  $.fn[NAME$4].noConflict = function () {
    $.fn[NAME$4] = JQUERY_NO_CONFLICT$4;
    return Dropdown._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$5 = 'modal';
  var VERSION$5 = '';
  var DATA_KEY$5 = 'bs.modal';
  var EVENT_KEY$5 = "." + DATA_KEY$5;
  var DATA_API_KEY$5 = '.data-api';
  var JQUERY_NO_CONFLICT$5 = $.fn[NAME$5];
  var ESCAPE_KEYCODE$1 = 27; // KeyboardEvent.which value for Escape (Esc) key

  var Default$3 = {
    backdrop: true,
    keyboard: true,
    focus: true,
    show: true
  };
  var DefaultType$3 = {
    backdrop: '(boolean|string)',
    keyboard: 'boolean',
    focus: 'boolean',
    show: 'boolean'
  };
  var EVENT_HIDE$2 = "hide" + EVENT_KEY$5;
  var EVENT_HIDE_PREVENTED = "hidePrevented" + EVENT_KEY$5;
  var EVENT_HIDDEN$2 = "hidden" + EVENT_KEY$5;
  var EVENT_SHOW$2 = "show" + EVENT_KEY$5;
  var EVENT_SHOWN$2 = "shown" + EVENT_KEY$5;
  var EVENT_FOCUSIN = "focusin" + EVENT_KEY$5;
  var EVENT_RESIZE = "resize" + EVENT_KEY$5;
  var EVENT_CLICK_DISMISS = "click.dismiss" + EVENT_KEY$5;
  var EVENT_KEYDOWN_DISMISS = "keydown.dismiss" + EVENT_KEY$5;
  var EVENT_MOUSEUP_DISMISS = "mouseup.dismiss" + EVENT_KEY$5;
  var EVENT_MOUSEDOWN_DISMISS = "mousedown.dismiss" + EVENT_KEY$5;
  var EVENT_CLICK_DATA_API$5 = "click" + EVENT_KEY$5 + DATA_API_KEY$5;
  var CLASS_NAME_SCROLLABLE = 'modal-dialog-scrollable';
  var CLASS_NAME_SCROLLBAR_MEASURER = 'modal-scrollbar-measure';
  var CLASS_NAME_BACKDROP = 'modal-backdrop';
  var CLASS_NAME_OPEN = 'modal-open';
  var CLASS_NAME_FADE$1 = 'fade';
  var CLASS_NAME_SHOW$3 = 'show';
  var CLASS_NAME_STATIC = 'modal-static';
  var SELECTOR_DIALOG = '.modal-dialog';
  var SELECTOR_MODAL_BODY = '.modal-body';
  var SELECTOR_DATA_TOGGLE$3 = '[data-toggle="modal"]';
  var SELECTOR_DATA_DISMISS = '[data-dismiss="modal"]';
  var SELECTOR_FIXED_CONTENT = '.fixed-top, .fixed-bottom, .is-fixed, .sticky-top';
  var SELECTOR_STICKY_CONTENT = '.sticky-top';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Modal = /*#__PURE__*/function () {
    function Modal(element, config) {
      this._config = this._getConfig(config);
      this._element = element;
      this._dialog = element.querySelector(SELECTOR_DIALOG);
      this._backdrop = null;
      this._isShown = false;
      this._isBodyOverflowing = false;
      this._ignoreBackdropClick = false;
      this._isTransitioning = false;
      this._scrollbarWidth = 0;
    } // Getters


    var _proto = Modal.prototype;

    // Public
    _proto.toggle = function toggle(relatedTarget) {
      return this._isShown ? this.hide() : this.show(relatedTarget);
    };

    _proto.show = function show(relatedTarget) {
      var _this = this;

      if (this._isShown || this._isTransitioning) {
        return;
      }

      if ($(this._element).hasClass(CLASS_NAME_FADE$1)) {
        this._isTransitioning = true;
      }

      var showEvent = $.Event(EVENT_SHOW$2, {
        relatedTarget: relatedTarget
      });
      $(this._element).trigger(showEvent);

      if (this._isShown || showEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = true;

      this._checkScrollbar();

      this._setScrollbar();

      this._adjustDialog();

      this._setEscapeEvent();

      this._setResizeEvent();

      $(this._element).on(EVENT_CLICK_DISMISS, SELECTOR_DATA_DISMISS, function (event) {
        return _this.hide(event);
      });
      $(this._dialog).on(EVENT_MOUSEDOWN_DISMISS, function () {
        $(_this._element).one(EVENT_MOUSEUP_DISMISS, function (event) {
          if ($(event.target).is(_this._element)) {
            _this._ignoreBackdropClick = true;
          }
        });
      });

      this._showBackdrop(function () {
        return _this._showElement(relatedTarget);
      });
    };

    _proto.hide = function hide(event) {
      var _this2 = this;

      if (event) {
        event.preventDefault();
      }

      if (!this._isShown) {
        return;
      }

      var hideEvent = $.Event(EVENT_HIDE$2);
      $(this._element).trigger(hideEvent);

      if (!this._isShown || hideEvent.isDefaultPrevented()) {
        return;
      }

      this._isShown = false;
      var transition = $(this._element).hasClass(CLASS_NAME_FADE$1);

      if (transition) {
        this._isTransitioning = true;
      }

      this._setEscapeEvent();

      this._setResizeEvent();

      $(document).off(EVENT_FOCUSIN);
      $(this._element).removeClass(CLASS_NAME_SHOW$3);
      $(this._element).off(EVENT_CLICK_DISMISS);
      $(this._dialog).off(EVENT_MOUSEDOWN_DISMISS);

      if (transition) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $(this._element).one(Util.TRANSITION_END, function (event) {
          return _this2._hideModal(event);
        }).emulateTransitionEnd(transitionDuration);
      } else {
        this._hideModal();
      }
    };

    _proto.dispose = function dispose() {
      [window, this._element, this._dialog].forEach(function (htmlElement) {
        return $(htmlElement).off(EVENT_KEY$5);
      });
      /**
       * `document` has 2 events `EVENT_FOCUSIN` and `EVENT_CLICK_DATA_API`
       * Do not move `document` in `htmlElements` array
       * It will remove `EVENT_CLICK_DATA_API` event that should remain
       */

      $(document).off(EVENT_FOCUSIN);
      $.removeData(this._element, DATA_KEY$5);
      this._config = null;
      this._element = null;
      this._dialog = null;
      this._backdrop = null;
      this._isShown = null;
      this._isBodyOverflowing = null;
      this._ignoreBackdropClick = null;
      this._isTransitioning = null;
      this._scrollbarWidth = null;
    };

    _proto.handleUpdate = function handleUpdate() {
      this._adjustDialog();
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2({}, Default$3), config);
      Util.typeCheckConfig(NAME$5, config, DefaultType$3);
      return config;
    };

    _proto._triggerBackdropTransition = function _triggerBackdropTransition() {
      var _this3 = this;

      if (this._config.backdrop === 'static') {
        var hideEventPrevented = $.Event(EVENT_HIDE_PREVENTED);
        $(this._element).trigger(hideEventPrevented);

        if (hideEventPrevented.defaultPrevented) {
          return;
        }

        this._element.classList.add(CLASS_NAME_STATIC);

        var modalTransitionDuration = Util.getTransitionDurationFromElement(this._element);
        $(this._element).one(Util.TRANSITION_END, function () {
          _this3._element.classList.remove(CLASS_NAME_STATIC);
        }).emulateTransitionEnd(modalTransitionDuration);

        this._element.focus();
      } else {
        this.hide();
      }
    };

    _proto._showElement = function _showElement(relatedTarget) {
      var _this4 = this;

      var transition = $(this._element).hasClass(CLASS_NAME_FADE$1);
      var modalBody = this._dialog ? this._dialog.querySelector(SELECTOR_MODAL_BODY) : null;

      if (!this._element.parentNode || this._element.parentNode.nodeType !== Node.ELEMENT_NODE) {
        // Don't move modal's DOM position
        document.body.appendChild(this._element);
      }

      this._element.style.display = 'block';

      this._element.removeAttribute('aria-hidden');

      this._element.setAttribute('aria-modal', true);

      if ($(this._dialog).hasClass(CLASS_NAME_SCROLLABLE) && modalBody) {
        modalBody.scrollTop = 0;
      } else {
        this._element.scrollTop = 0;
      }

      if (transition) {
        Util.reflow(this._element);
      }

      $(this._element).addClass(CLASS_NAME_SHOW$3);

      if (this._config.focus) {
        this._enforceFocus();
      }

      var shownEvent = $.Event(EVENT_SHOWN$2, {
        relatedTarget: relatedTarget
      });

      var transitionComplete = function transitionComplete() {
        if (_this4._config.focus) {
          _this4._element.focus();
        }

        _this4._isTransitioning = false;
        $(_this4._element).trigger(shownEvent);
      };

      if (transition) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._dialog);
        $(this._dialog).one(Util.TRANSITION_END, transitionComplete).emulateTransitionEnd(transitionDuration);
      } else {
        transitionComplete();
      }
    };

    _proto._enforceFocus = function _enforceFocus() {
      var _this5 = this;

      $(document).off(EVENT_FOCUSIN) // Guard against infinite focus loop
      .on(EVENT_FOCUSIN, function (event) {
        if (document !== event.target && _this5._element !== event.target && $(_this5._element).has(event.target).length === 0) {
          _this5._element.focus();
        }
      });
    };

    _proto._setEscapeEvent = function _setEscapeEvent() {
      var _this6 = this;

      if (this._isShown) {
        $(this._element).on(EVENT_KEYDOWN_DISMISS, function (event) {
          if (_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {
            event.preventDefault();

            _this6.hide();
          } else if (!_this6._config.keyboard && event.which === ESCAPE_KEYCODE$1) {
            _this6._triggerBackdropTransition();
          }
        });
      } else if (!this._isShown) {
        $(this._element).off(EVENT_KEYDOWN_DISMISS);
      }
    };

    _proto._setResizeEvent = function _setResizeEvent() {
      var _this7 = this;

      if (this._isShown) {
        $(window).on(EVENT_RESIZE, function (event) {
          return _this7.handleUpdate(event);
        });
      } else {
        $(window).off(EVENT_RESIZE);
      }
    };

    _proto._hideModal = function _hideModal() {
      var _this8 = this;

      this._element.style.display = 'none';

      this._element.setAttribute('aria-hidden', true);

      this._element.removeAttribute('aria-modal');

      this._isTransitioning = false;

      this._showBackdrop(function () {
        $(document.body).removeClass(CLASS_NAME_OPEN);

        _this8._resetAdjustments();

        _this8._resetScrollbar();

        $(_this8._element).trigger(EVENT_HIDDEN$2);
      });
    };

    _proto._removeBackdrop = function _removeBackdrop() {
      if (this._backdrop) {
        $(this._backdrop).remove();
        this._backdrop = null;
      }
    };

    _proto._showBackdrop = function _showBackdrop(callback) {
      var _this9 = this;

      var animate = $(this._element).hasClass(CLASS_NAME_FADE$1) ? CLASS_NAME_FADE$1 : '';

      if (this._isShown && this._config.backdrop) {
        this._backdrop = document.createElement('div');
        this._backdrop.className = CLASS_NAME_BACKDROP;

        if (animate) {
          this._backdrop.classList.add(animate);
        }

        $(this._backdrop).appendTo(document.body);
        $(this._element).on(EVENT_CLICK_DISMISS, function (event) {
          if (_this9._ignoreBackdropClick) {
            _this9._ignoreBackdropClick = false;
            return;
          }

          if (event.target !== event.currentTarget) {
            return;
          }

          _this9._triggerBackdropTransition();
        });

        if (animate) {
          Util.reflow(this._backdrop);
        }

        $(this._backdrop).addClass(CLASS_NAME_SHOW$3);

        if (!callback) {
          return;
        }

        if (!animate) {
          callback();
          return;
        }

        var backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);
        $(this._backdrop).one(Util.TRANSITION_END, callback).emulateTransitionEnd(backdropTransitionDuration);
      } else if (!this._isShown && this._backdrop) {
        $(this._backdrop).removeClass(CLASS_NAME_SHOW$3);

        var callbackRemove = function callbackRemove() {
          _this9._removeBackdrop();

          if (callback) {
            callback();
          }
        };

        if ($(this._element).hasClass(CLASS_NAME_FADE$1)) {
          var _backdropTransitionDuration = Util.getTransitionDurationFromElement(this._backdrop);

          $(this._backdrop).one(Util.TRANSITION_END, callbackRemove).emulateTransitionEnd(_backdropTransitionDuration);
        } else {
          callbackRemove();
        }
      } else if (callback) {
        callback();
      }
    } // ----------------------------------------------------------------------
    // the following methods are used to handle overflowing modals
    // todo (fat): these should probably be refactored out of modal.js
    // ----------------------------------------------------------------------
    ;

    _proto._adjustDialog = function _adjustDialog() {
      var isModalOverflowing = this._element.scrollHeight > document.documentElement.clientHeight;

      if (!this._isBodyOverflowing && isModalOverflowing) {
        this._element.style.paddingLeft = this._scrollbarWidth + "px";
      }

      if (this._isBodyOverflowing && !isModalOverflowing) {
        this._element.style.paddingRight = this._scrollbarWidth + "px";
      }
    };

    _proto._resetAdjustments = function _resetAdjustments() {
      this._element.style.paddingLeft = '';
      this._element.style.paddingRight = '';
    };

    _proto._checkScrollbar = function _checkScrollbar() {
      var rect = document.body.getBoundingClientRect();
      this._isBodyOverflowing = Math.round(rect.left + rect.right) < window.innerWidth;
      this._scrollbarWidth = this._getScrollbarWidth();
    };

    _proto._setScrollbar = function _setScrollbar() {
      var _this10 = this;

      if (this._isBodyOverflowing) {
        // Note: DOMNode.style.paddingRight returns the actual value or '' if not set
        //   while $(DOMNode).css('padding-right') returns the calculated value or 0 if not set
        var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));
        var stickyContent = [].slice.call(document.querySelectorAll(SELECTOR_STICKY_CONTENT)); // Adjust fixed content padding

        $(fixedContent).each(function (index, element) {
          var actualPadding = element.style.paddingRight;
          var calculatedPadding = $(element).css('padding-right');
          $(element).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + _this10._scrollbarWidth + "px");
        }); // Adjust sticky content margin

        $(stickyContent).each(function (index, element) {
          var actualMargin = element.style.marginRight;
          var calculatedMargin = $(element).css('margin-right');
          $(element).data('margin-right', actualMargin).css('margin-right', parseFloat(calculatedMargin) - _this10._scrollbarWidth + "px");
        }); // Adjust body padding

        var actualPadding = document.body.style.paddingRight;
        var calculatedPadding = $(document.body).css('padding-right');
        $(document.body).data('padding-right', actualPadding).css('padding-right', parseFloat(calculatedPadding) + this._scrollbarWidth + "px");
      }

      $(document.body).addClass(CLASS_NAME_OPEN);
    };

    _proto._resetScrollbar = function _resetScrollbar() {
      // Restore fixed content padding
      var fixedContent = [].slice.call(document.querySelectorAll(SELECTOR_FIXED_CONTENT));
      $(fixedContent).each(function (index, element) {
        var padding = $(element).data('padding-right');
        $(element).removeData('padding-right');
        element.style.paddingRight = padding ? padding : '';
      }); // Restore sticky content

      var elements = [].slice.call(document.querySelectorAll("" + SELECTOR_STICKY_CONTENT));
      $(elements).each(function (index, element) {
        var margin = $(element).data('margin-right');

        if (typeof margin !== 'undefined') {
          $(element).css('margin-right', margin).removeData('margin-right');
        }
      }); // Restore body padding

      var padding = $(document.body).data('padding-right');
      $(document.body).removeData('padding-right');
      document.body.style.paddingRight = padding ? padding : '';
    };

    _proto._getScrollbarWidth = function _getScrollbarWidth() {
      // thx d.walsh
      var scrollDiv = document.createElement('div');
      scrollDiv.className = CLASS_NAME_SCROLLBAR_MEASURER;
      document.body.appendChild(scrollDiv);
      var scrollbarWidth = scrollDiv.getBoundingClientRect().width - scrollDiv.clientWidth;
      document.body.removeChild(scrollDiv);
      return scrollbarWidth;
    } // Static
    ;

    Modal._jQueryInterface = function _jQueryInterface(config, relatedTarget) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$5);

        var _config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$3), $(this).data()), typeof config === 'object' && config ? config : {});

        if (!data) {
          data = new Modal(this, _config);
          $(this).data(DATA_KEY$5, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config](relatedTarget);
        } else if (_config.show) {
          data.show(relatedTarget);
        }
      });
    };

    _createClass(Modal, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$5;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$3;
      }
    }]);

    return Modal;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API$5, SELECTOR_DATA_TOGGLE$3, function (event) {
    var _this11 = this;

    var target;
    var selector = Util.getSelectorFromElement(this);

    if (selector) {
      target = document.querySelector(selector);
    }

    var config = $(target).data(DATA_KEY$5) ? 'toggle' : _objectSpread2(_objectSpread2({}, $(target).data()), $(this).data());

    if (this.tagName === 'A' || this.tagName === 'AREA') {
      event.preventDefault();
    }

    var $target = $(target).one(EVENT_SHOW$2, function (showEvent) {
      if (showEvent.isDefaultPrevented()) {
        // Only register focus restorer if modal will actually get shown
        return;
      }

      $target.one(EVENT_HIDDEN$2, function () {
        if ($(_this11).is(':visible')) {
          _this11.focus();
        }
      });
    });

    Modal._jQueryInterface.call($(target), config, this);
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$5] = Modal._jQueryInterface;
  $.fn[NAME$5].Constructor = Modal;

  $.fn[NAME$5].noConflict = function () {
    $.fn[NAME$5] = JQUERY_NO_CONFLICT$5;
    return Modal._jQueryInterface;
  };

  /**
   * --------------------------------------------------------------------------
   * Bootstrap (v): tools/sanitizer.js
   * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
   * --------------------------------------------------------------------------
   */
  var uriAttrs = ['background', 'cite', 'href', 'itemtype', 'longdesc', 'poster', 'src', 'xlink:href'];
  var ARIA_ATTRIBUTE_PATTERN = /^aria-[\w-]*$/i;
  var DefaultWhitelist = {
    // Global attributes allowed on any supplied element below.
    '*': ['class', 'dir', 'id', 'lang', 'role', ARIA_ATTRIBUTE_PATTERN],
    a: ['target', 'href', 'title', 'rel'],
    area: [],
    b: [],
    br: [],
    col: [],
    code: [],
    div: [],
    em: [],
    hr: [],
    h1: [],
    h2: [],
    h3: [],
    h4: [],
    h5: [],
    h6: [],
    i: [],
    img: ['src', 'srcset', 'alt', 'title', 'width', 'height'],
    li: [],
    ol: [],
    p: [],
    pre: [],
    s: [],
    small: [],
    span: [],
    sub: [],
    sup: [],
    strong: [],
    u: [],
    ul: []
  };
  /**
   * A pattern that recognizes a commonly useful subset of URLs that are safe.
   *
   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts
   */

  var SAFE_URL_PATTERN = /^(?:(?:https?|mailto|ftp|tel|file):|[^#&/:?]*(?:[#/?]|$))/gi;
  /**
   * A pattern that matches safe data URLs. Only matches image, video and audio types.
   *
   * Shoutout to Angular 7 https://github.com/angular/angular/blob/7.2.4/packages/core/src/sanitization/url_sanitizer.ts
   */

  var DATA_URL_PATTERN = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;

  function allowedAttribute(attr, allowedAttributeList) {
    var attrName = attr.nodeName.toLowerCase();

    if (allowedAttributeList.indexOf(attrName) !== -1) {
      if (uriAttrs.indexOf(attrName) !== -1) {
        return Boolean(attr.nodeValue.match(SAFE_URL_PATTERN) || attr.nodeValue.match(DATA_URL_PATTERN));
      }

      return true;
    }

    var regExp = allowedAttributeList.filter(function (attrRegex) {
      return attrRegex instanceof RegExp;
    }); // Check if a regular expression validates the attribute.

    for (var i = 0, len = regExp.length; i < len; i++) {
      if (attrName.match(regExp[i])) {
        return true;
      }
    }

    return false;
  }

  function sanitizeHtml(unsafeHtml, whiteList, sanitizeFn) {
    if (unsafeHtml.length === 0) {
      return unsafeHtml;
    }

    if (sanitizeFn && typeof sanitizeFn === 'function') {
      return sanitizeFn(unsafeHtml);
    }

    var domParser = new window.DOMParser();
    var createdDocument = domParser.parseFromString(unsafeHtml, 'text/html');
    var whitelistKeys = Object.keys(whiteList);
    var elements = [].slice.call(createdDocument.body.querySelectorAll('*'));

    var _loop = function _loop(i, len) {
      var el = elements[i];
      var elName = el.nodeName.toLowerCase();

      if (whitelistKeys.indexOf(el.nodeName.toLowerCase()) === -1) {
        el.parentNode.removeChild(el);
        return "continue";
      }

      var attributeList = [].slice.call(el.attributes);
      var whitelistedAttributes = [].concat(whiteList['*'] || [], whiteList[elName] || []);
      attributeList.forEach(function (attr) {
        if (!allowedAttribute(attr, whitelistedAttributes)) {
          el.removeAttribute(attr.nodeName);
        }
      });
    };

    for (var i = 0, len = elements.length; i < len; i++) {
      var _ret = _loop(i);

      if (_ret === "continue") continue;
    }

    return createdDocument.body.innerHTML;
  }

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$6 = 'tooltip';
  var VERSION$6 = '';
  var DATA_KEY$6 = 'bs.tooltip';
  var EVENT_KEY$6 = "." + DATA_KEY$6;
  var JQUERY_NO_CONFLICT$6 = $.fn[NAME$6];
  var CLASS_PREFIX = 'bs-tooltip';
  var BSCLS_PREFIX_REGEX = new RegExp("(^|\\s)" + CLASS_PREFIX + "\\S+", 'g');
  var DISALLOWED_ATTRIBUTES = ['sanitize', 'whiteList', 'sanitizeFn'];
  var DefaultType$4 = {
    animation: 'boolean',
    template: 'string',
    title: '(string|element|function)',
    trigger: 'string',
    delay: '(number|object)',
    html: 'boolean',
    selector: '(string|boolean)',
    placement: '(string|function)',
    offset: '(number|string|function)',
    container: '(string|element|boolean)',
    fallbackPlacement: '(string|array)',
    boundary: '(string|element)',
    sanitize: 'boolean',
    sanitizeFn: '(null|function)',
    whiteList: 'object',
    popperConfig: '(null|object)'
  };
  var AttachmentMap = {
    AUTO: 'auto',
    TOP: 'top',
    RIGHT: 'right',
    BOTTOM: 'bottom',
    LEFT: 'left'
  };
  var Default$4 = {
    animation: true,
    template: '<div class="tooltip" role="tooltip">' + '<div class="arrow"></div>' + '<div class="tooltip-inner"></div></div>',
    trigger: 'hover focus',
    title: '',
    delay: 0,
    html: false,
    selector: false,
    placement: 'top',
    offset: 0,
    container: false,
    fallbackPlacement: 'flip',
    boundary: 'scrollParent',
    sanitize: true,
    sanitizeFn: null,
    whiteList: DefaultWhitelist,
    popperConfig: null
  };
  var HOVER_STATE_SHOW = 'show';
  var HOVER_STATE_OUT = 'out';
  var Event = {
    HIDE: "hide" + EVENT_KEY$6,
    HIDDEN: "hidden" + EVENT_KEY$6,
    SHOW: "show" + EVENT_KEY$6,
    SHOWN: "shown" + EVENT_KEY$6,
    INSERTED: "inserted" + EVENT_KEY$6,
    CLICK: "click" + EVENT_KEY$6,
    FOCUSIN: "focusin" + EVENT_KEY$6,
    FOCUSOUT: "focusout" + EVENT_KEY$6,
    MOUSEENTER: "mouseenter" + EVENT_KEY$6,
    MOUSELEAVE: "mouseleave" + EVENT_KEY$6
  };
  var CLASS_NAME_FADE$2 = 'fade';
  var CLASS_NAME_SHOW$4 = 'show';
  var SELECTOR_TOOLTIP_INNER = '.tooltip-inner';
  var SELECTOR_ARROW = '.arrow';
  var TRIGGER_HOVER = 'hover';
  var TRIGGER_FOCUS = 'focus';
  var TRIGGER_CLICK = 'click';
  var TRIGGER_MANUAL = 'manual';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Tooltip = /*#__PURE__*/function () {
    function Tooltip(element, config) {
      if (typeof Popper === 'undefined') {
        throw new TypeError('Bootstrap\'s tooltips require Popper.js (https://popper.js.org/)');
      } // private


      this._isEnabled = true;
      this._timeout = 0;
      this._hoverState = '';
      this._activeTrigger = {};
      this._popper = null; // Protected

      this.element = element;
      this.config = this._getConfig(config);
      this.tip = null;

      this._setListeners();
    } // Getters


    var _proto = Tooltip.prototype;

    // Public
    _proto.enable = function enable() {
      this._isEnabled = true;
    };

    _proto.disable = function disable() {
      this._isEnabled = false;
    };

    _proto.toggleEnabled = function toggleEnabled() {
      this._isEnabled = !this._isEnabled;
    };

    _proto.toggle = function toggle(event) {
      if (!this._isEnabled) {
        return;
      }

      if (event) {
        var dataKey = this.constructor.DATA_KEY;
        var context = $(event.currentTarget).data(dataKey);

        if (!context) {
          context = new this.constructor(event.currentTarget, this._getDelegateConfig());
          $(event.currentTarget).data(dataKey, context);
        }

        context._activeTrigger.click = !context._activeTrigger.click;

        if (context._isWithActiveTrigger()) {
          context._enter(null, context);
        } else {
          context._leave(null, context);
        }
      } else {
        if ($(this.getTipElement()).hasClass(CLASS_NAME_SHOW$4)) {
          this._leave(null, this);

          return;
        }

        this._enter(null, this);
      }
    };

    _proto.dispose = function dispose() {
      clearTimeout(this._timeout);
      $.removeData(this.element, this.constructor.DATA_KEY);
      $(this.element).off(this.constructor.EVENT_KEY);
      $(this.element).closest('.modal').off('hide.bs.modal', this._hideModalHandler);

      if (this.tip) {
        $(this.tip).remove();
      }

      this._isEnabled = null;
      this._timeout = null;
      this._hoverState = null;
      this._activeTrigger = null;

      if (this._popper) {
        this._popper.destroy();
      }

      this._popper = null;
      this.element = null;
      this.config = null;
      this.tip = null;
    };

    _proto.show = function show() {
      var _this = this;

      if ($(this.element).css('display') === 'none') {
        throw new Error('Please use show on visible elements');
      }

      var showEvent = $.Event(this.constructor.Event.SHOW);

      if (this.isWithContent() && this._isEnabled) {
        $(this.element).trigger(showEvent);
        var shadowRoot = Util.findShadowRoot(this.element);
        var isInTheDom = $.contains(shadowRoot !== null ? shadowRoot : this.element.ownerDocument.documentElement, this.element);

        if (showEvent.isDefaultPrevented() || !isInTheDom) {
          return;
        }

        var tip = this.getTipElement();
        var tipId = Util.getUID(this.constructor.NAME);
        tip.setAttribute('id', tipId);
        this.element.setAttribute('aria-describedby', tipId);
        this.setContent();

        if (this.config.animation) {
          $(tip).addClass(CLASS_NAME_FADE$2);
        }

        var placement = typeof this.config.placement === 'function' ? this.config.placement.call(this, tip, this.element) : this.config.placement;

        var attachment = this._getAttachment(placement);

        this.addAttachmentClass(attachment);

        var container = this._getContainer();

        $(tip).data(this.constructor.DATA_KEY, this);

        if (!$.contains(this.element.ownerDocument.documentElement, this.tip)) {
          $(tip).appendTo(container);
        }

        $(this.element).trigger(this.constructor.Event.INSERTED);
        this._popper = new Popper(this.element, tip, this._getPopperConfig(attachment));
        $(tip).addClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we add extra
        // empty mouseover listeners to the body's immediate children;
        // only needed because of broken event delegation on iOS
        // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html

        if ('ontouchstart' in document.documentElement) {
          $(document.body).children().on('mouseover', null, $.noop);
        }

        var complete = function complete() {
          if (_this.config.animation) {
            _this._fixTransition();
          }

          var prevHoverState = _this._hoverState;
          _this._hoverState = null;
          $(_this.element).trigger(_this.constructor.Event.SHOWN);

          if (prevHoverState === HOVER_STATE_OUT) {
            _this._leave(null, _this);
          }
        };

        if ($(this.tip).hasClass(CLASS_NAME_FADE$2)) {
          var transitionDuration = Util.getTransitionDurationFromElement(this.tip);
          $(this.tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
        } else {
          complete();
        }
      }
    };

    _proto.hide = function hide(callback) {
      var _this2 = this;

      var tip = this.getTipElement();
      var hideEvent = $.Event(this.constructor.Event.HIDE);

      var complete = function complete() {
        if (_this2._hoverState !== HOVER_STATE_SHOW && tip.parentNode) {
          tip.parentNode.removeChild(tip);
        }

        _this2._cleanTipClass();

        _this2.element.removeAttribute('aria-describedby');

        $(_this2.element).trigger(_this2.constructor.Event.HIDDEN);

        if (_this2._popper !== null) {
          _this2._popper.destroy();
        }

        if (callback) {
          callback();
        }
      };

      $(this.element).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      $(tip).removeClass(CLASS_NAME_SHOW$4); // If this is a touch-enabled device we remove the extra
      // empty mouseover listeners we added for iOS support

      if ('ontouchstart' in document.documentElement) {
        $(document.body).children().off('mouseover', null, $.noop);
      }

      this._activeTrigger[TRIGGER_CLICK] = false;
      this._activeTrigger[TRIGGER_FOCUS] = false;
      this._activeTrigger[TRIGGER_HOVER] = false;

      if ($(this.tip).hasClass(CLASS_NAME_FADE$2)) {
        var transitionDuration = Util.getTransitionDurationFromElement(tip);
        $(tip).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }

      this._hoverState = '';
    };

    _proto.update = function update() {
      if (this._popper !== null) {
        this._popper.scheduleUpdate();
      }
    } // Protected
    ;

    _proto.isWithContent = function isWithContent() {
      return Boolean(this.getTitle());
    };

    _proto.addAttachmentClass = function addAttachmentClass(attachment) {
      $(this.getTipElement()).addClass(CLASS_PREFIX + "-" + attachment);
    };

    _proto.getTipElement = function getTipElement() {
      this.tip = this.tip || $(this.config.template)[0];
      return this.tip;
    };

    _proto.setContent = function setContent() {
      var tip = this.getTipElement();
      this.setElementContent($(tip.querySelectorAll(SELECTOR_TOOLTIP_INNER)), this.getTitle());
      $(tip).removeClass(CLASS_NAME_FADE$2 + " " + CLASS_NAME_SHOW$4);
    };

    _proto.setElementContent = function setElementContent($element, content) {
      if (typeof content === 'object' && (content.nodeType || content.jquery)) {
        // Content is a DOM node or a jQuery
        if (this.config.html) {
          if (!$(content).parent().is($element)) {
            $element.empty().append(content);
          }
        } else {
          $element.text($(content).text());
        }

        return;
      }

      if (this.config.html) {
        if (this.config.sanitize) {
          content = sanitizeHtml(content, this.config.whiteList, this.config.sanitizeFn);
        }

        $element.html(content);
      } else {
        $element.text(content);
      }
    };

    _proto.getTitle = function getTitle() {
      var title = this.element.getAttribute('data-original-title');

      if (!title) {
        title = typeof this.config.title === 'function' ? this.config.title.call(this.element) : this.config.title;
      }

      return title;
    } // Private
    ;

    _proto._getPopperConfig = function _getPopperConfig(attachment) {
      var _this3 = this;

      var defaultBsConfig = {
        placement: attachment,
        modifiers: {
          offset: this._getOffset(),
          flip: {
            behavior: this.config.fallbackPlacement
          },
          arrow: {
            element: SELECTOR_ARROW
          },
          preventOverflow: {
            boundariesElement: this.config.boundary
          }
        },
        onCreate: function onCreate(data) {
          if (data.originalPlacement !== data.placement) {
            _this3._handlePopperPlacementChange(data);
          }
        },
        onUpdate: function onUpdate(data) {
          return _this3._handlePopperPlacementChange(data);
        }
      };
      return _objectSpread2(_objectSpread2({}, defaultBsConfig), this.config.popperConfig);
    };

    _proto._getOffset = function _getOffset() {
      var _this4 = this;

      var offset = {};

      if (typeof this.config.offset === 'function') {
        offset.fn = function (data) {
          data.offsets = _objectSpread2(_objectSpread2({}, data.offsets), _this4.config.offset(data.offsets, _this4.element) || {});
          return data;
        };
      } else {
        offset.offset = this.config.offset;
      }

      return offset;
    };

    _proto._getContainer = function _getContainer() {
      if (this.config.container === false) {
        return document.body;
      }

      if (Util.isElement(this.config.container)) {
        return $(this.config.container);
      }

      return $(document).find(this.config.container);
    };

    _proto._getAttachment = function _getAttachment(placement) {
      return AttachmentMap[placement.toUpperCase()];
    };

    _proto._setListeners = function _setListeners() {
      var _this5 = this;

      var triggers = this.config.trigger.split(' ');
      triggers.forEach(function (trigger) {
        if (trigger === 'click') {
          $(_this5.element).on(_this5.constructor.Event.CLICK, _this5.config.selector, function (event) {
            return _this5.toggle(event);
          });
        } else if (trigger !== TRIGGER_MANUAL) {
          var eventIn = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSEENTER : _this5.constructor.Event.FOCUSIN;
          var eventOut = trigger === TRIGGER_HOVER ? _this5.constructor.Event.MOUSELEAVE : _this5.constructor.Event.FOCUSOUT;
          $(_this5.element).on(eventIn, _this5.config.selector, function (event) {
            return _this5._enter(event);
          }).on(eventOut, _this5.config.selector, function (event) {
            return _this5._leave(event);
          });
        }
      });

      this._hideModalHandler = function () {
        if (_this5.element) {
          _this5.hide();
        }
      };

      $(this.element).closest('.modal').on('hide.bs.modal', this._hideModalHandler);

      if (this.config.selector) {
        this.config = _objectSpread2(_objectSpread2({}, this.config), {}, {
          trigger: 'manual',
          selector: ''
        });
      } else {
        this._fixTitle();
      }
    };

    _proto._fixTitle = function _fixTitle() {
      var titleType = typeof this.element.getAttribute('data-original-title');

      if (this.element.getAttribute('title') || titleType !== 'string') {
        this.element.setAttribute('data-original-title', this.element.getAttribute('title') || '');
        this.element.setAttribute('title', '');
      }
    };

    _proto._enter = function _enter(event, context) {
      var dataKey = this.constructor.DATA_KEY;
      context = context || $(event.currentTarget).data(dataKey);

      if (!context) {
        context = new this.constructor(event.currentTarget, this._getDelegateConfig());
        $(event.currentTarget).data(dataKey, context);
      }

      if (event) {
        context._activeTrigger[event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER] = true;
      }

      if ($(context.getTipElement()).hasClass(CLASS_NAME_SHOW$4) || context._hoverState === HOVER_STATE_SHOW) {
        context._hoverState = HOVER_STATE_SHOW;
        return;
      }

      clearTimeout(context._timeout);
      context._hoverState = HOVER_STATE_SHOW;

      if (!context.config.delay || !context.config.delay.show) {
        context.show();
        return;
      }

      context._timeout = setTimeout(function () {
        if (context._hoverState === HOVER_STATE_SHOW) {
          context.show();
        }
      }, context.config.delay.show);
    };

    _proto._leave = function _leave(event, context) {
      var dataKey = this.constructor.DATA_KEY;
      context = context || $(event.currentTarget).data(dataKey);

      if (!context) {
        context = new this.constructor(event.currentTarget, this._getDelegateConfig());
        $(event.currentTarget).data(dataKey, context);
      }

      if (event) {
        context._activeTrigger[event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER] = false;
      }

      if (context._isWithActiveTrigger()) {
        return;
      }

      clearTimeout(context._timeout);
      context._hoverState = HOVER_STATE_OUT;

      if (!context.config.delay || !context.config.delay.hide) {
        context.hide();
        return;
      }

      context._timeout = setTimeout(function () {
        if (context._hoverState === HOVER_STATE_OUT) {
          context.hide();
        }
      }, context.config.delay.hide);
    };

    _proto._isWithActiveTrigger = function _isWithActiveTrigger() {
      for (var trigger in this._activeTrigger) {
        if (this._activeTrigger[trigger]) {
          return true;
        }
      }

      return false;
    };

    _proto._getConfig = function _getConfig(config) {
      var dataAttributes = $(this.element).data();
      Object.keys(dataAttributes).forEach(function (dataAttr) {
        if (DISALLOWED_ATTRIBUTES.indexOf(dataAttr) !== -1) {
          delete dataAttributes[dataAttr];
        }
      });
      config = _objectSpread2(_objectSpread2(_objectSpread2({}, this.constructor.Default), dataAttributes), typeof config === 'object' && config ? config : {});

      if (typeof config.delay === 'number') {
        config.delay = {
          show: config.delay,
          hide: config.delay
        };
      }

      if (typeof config.title === 'number') {
        config.title = config.title.toString();
      }

      if (typeof config.content === 'number') {
        config.content = config.content.toString();
      }

      Util.typeCheckConfig(NAME$6, config, this.constructor.DefaultType);

      if (config.sanitize) {
        config.template = sanitizeHtml(config.template, config.whiteList, config.sanitizeFn);
      }

      return config;
    };

    _proto._getDelegateConfig = function _getDelegateConfig() {
      var config = {};

      if (this.config) {
        for (var key in this.config) {
          if (this.constructor.Default[key] !== this.config[key]) {
            config[key] = this.config[key];
          }
        }
      }

      return config;
    };

    _proto._cleanTipClass = function _cleanTipClass() {
      var $tip = $(this.getTipElement());
      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX);

      if (tabClass !== null && tabClass.length) {
        $tip.removeClass(tabClass.join(''));
      }
    };

    _proto._handlePopperPlacementChange = function _handlePopperPlacementChange(popperData) {
      this.tip = popperData.instance.popper;

      this._cleanTipClass();

      this.addAttachmentClass(this._getAttachment(popperData.placement));
    };

    _proto._fixTransition = function _fixTransition() {
      var tip = this.getTipElement();
      var initConfigAnimation = this.config.animation;

      if (tip.getAttribute('x-placement') !== null) {
        return;
      }

      $(tip).removeClass(CLASS_NAME_FADE$2);
      this.config.animation = false;
      this.hide();
      this.show();
      this.config.animation = initConfigAnimation;
    } // Static
    ;

    Tooltip._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$6);

        var _config = typeof config === 'object' && config;

        if (!data && /dispose|hide/.test(config)) {
          return;
        }

        if (!data) {
          data = new Tooltip(this, _config);
          $(this).data(DATA_KEY$6, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Tooltip, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$6;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$4;
      }
    }, {
      key: "NAME",
      get: function get() {
        return NAME$6;
      }
    }, {
      key: "DATA_KEY",
      get: function get() {
        return DATA_KEY$6;
      }
    }, {
      key: "Event",
      get: function get() {
        return Event;
      }
    }, {
      key: "EVENT_KEY",
      get: function get() {
        return EVENT_KEY$6;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$4;
      }
    }]);

    return Tooltip;
  }();
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $.fn[NAME$6] = Tooltip._jQueryInterface;
  $.fn[NAME$6].Constructor = Tooltip;

  $.fn[NAME$6].noConflict = function () {
    $.fn[NAME$6] = JQUERY_NO_CONFLICT$6;
    return Tooltip._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$7 = 'popover';
  var VERSION$7 = '';
  var DATA_KEY$7 = 'bs.popover';
  var EVENT_KEY$7 = "." + DATA_KEY$7;
  var JQUERY_NO_CONFLICT$7 = $.fn[NAME$7];
  var CLASS_PREFIX$1 = 'bs-popover';
  var BSCLS_PREFIX_REGEX$1 = new RegExp("(^|\\s)" + CLASS_PREFIX$1 + "\\S+", 'g');

  var Default$5 = _objectSpread2(_objectSpread2({}, Tooltip.Default), {}, {
    placement: 'right',
    trigger: 'click',
    content: '',
    template: '<div class="popover" role="tooltip">' + '<div class="arrow"></div>' + '<h3 class="popover-header"></h3>' + '<div class="popover-body"></div></div>'
  });

  var DefaultType$5 = _objectSpread2(_objectSpread2({}, Tooltip.DefaultType), {}, {
    content: '(string|element|function)'
  });

  var CLASS_NAME_FADE$3 = 'fade';
  var CLASS_NAME_SHOW$5 = 'show';
  var SELECTOR_TITLE = '.popover-header';
  var SELECTOR_CONTENT = '.popover-body';
  var Event$1 = {
    HIDE: "hide" + EVENT_KEY$7,
    HIDDEN: "hidden" + EVENT_KEY$7,
    SHOW: "show" + EVENT_KEY$7,
    SHOWN: "shown" + EVENT_KEY$7,
    INSERTED: "inserted" + EVENT_KEY$7,
    CLICK: "click" + EVENT_KEY$7,
    FOCUSIN: "focusin" + EVENT_KEY$7,
    FOCUSOUT: "focusout" + EVENT_KEY$7,
    MOUSEENTER: "mouseenter" + EVENT_KEY$7,
    MOUSELEAVE: "mouseleave" + EVENT_KEY$7
  };
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Popover = /*#__PURE__*/function (_Tooltip) {
    _inheritsLoose(Popover, _Tooltip);

    function Popover() {
      return _Tooltip.apply(this, arguments) || this;
    }

    var _proto = Popover.prototype;

    // Overrides
    _proto.isWithContent = function isWithContent() {
      return this.getTitle() || this._getContent();
    };

    _proto.addAttachmentClass = function addAttachmentClass(attachment) {
      $(this.getTipElement()).addClass(CLASS_PREFIX$1 + "-" + attachment);
    };

    _proto.getTipElement = function getTipElement() {
      this.tip = this.tip || $(this.config.template)[0];
      return this.tip;
    };

    _proto.setContent = function setContent() {
      var $tip = $(this.getTipElement()); // We use append for html objects to maintain js events

      this.setElementContent($tip.find(SELECTOR_TITLE), this.getTitle());

      var content = this._getContent();

      if (typeof content === 'function') {
        content = content.call(this.element);
      }

      this.setElementContent($tip.find(SELECTOR_CONTENT), content);
      $tip.removeClass(CLASS_NAME_FADE$3 + " " + CLASS_NAME_SHOW$5);
    } // Private
    ;

    _proto._getContent = function _getContent() {
      return this.element.getAttribute('data-content') || this.config.content;
    };

    _proto._cleanTipClass = function _cleanTipClass() {
      var $tip = $(this.getTipElement());
      var tabClass = $tip.attr('class').match(BSCLS_PREFIX_REGEX$1);

      if (tabClass !== null && tabClass.length > 0) {
        $tip.removeClass(tabClass.join(''));
      }
    } // Static
    ;

    Popover._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$7);

        var _config = typeof config === 'object' ? config : null;

        if (!data && /dispose|hide/.test(config)) {
          return;
        }

        if (!data) {
          data = new Popover(this, _config);
          $(this).data(DATA_KEY$7, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Popover, null, [{
      key: "VERSION",
      // Getters
      get: function get() {
        return VERSION$7;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$5;
      }
    }, {
      key: "NAME",
      get: function get() {
        return NAME$7;
      }
    }, {
      key: "DATA_KEY",
      get: function get() {
        return DATA_KEY$7;
      }
    }, {
      key: "Event",
      get: function get() {
        return Event$1;
      }
    }, {
      key: "EVENT_KEY",
      get: function get() {
        return EVENT_KEY$7;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$5;
      }
    }]);

    return Popover;
  }(Tooltip);
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $.fn[NAME$7] = Popover._jQueryInterface;
  $.fn[NAME$7].Constructor = Popover;

  $.fn[NAME$7].noConflict = function () {
    $.fn[NAME$7] = JQUERY_NO_CONFLICT$7;
    return Popover._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$8 = 'scrollspy';
  var VERSION$8 = '';
  var DATA_KEY$8 = 'bs.scrollspy';
  var EVENT_KEY$8 = "." + DATA_KEY$8;
  var DATA_API_KEY$6 = '.data-api';
  var JQUERY_NO_CONFLICT$8 = $.fn[NAME$8];
  var Default$6 = {
    offset: 10,
    method: 'auto',
    target: ''
  };
  var DefaultType$6 = {
    offset: 'number',
    method: 'string',
    target: '(string|element)'
  };
  var EVENT_ACTIVATE = "activate" + EVENT_KEY$8;
  var EVENT_SCROLL = "scroll" + EVENT_KEY$8;
  var EVENT_LOAD_DATA_API$2 = "load" + EVENT_KEY$8 + DATA_API_KEY$6;
  var CLASS_NAME_DROPDOWN_ITEM = 'dropdown-item';
  var CLASS_NAME_ACTIVE$2 = 'active';
  var SELECTOR_DATA_SPY = '[data-spy="scroll"]';
  var SELECTOR_NAV_LIST_GROUP = '.nav, .list-group';
  var SELECTOR_NAV_LINKS = '.nav-link';
  var SELECTOR_NAV_ITEMS = '.nav-item';
  var SELECTOR_LIST_ITEMS = '.list-group-item';
  var SELECTOR_DROPDOWN = '.dropdown';
  var SELECTOR_DROPDOWN_ITEMS = '.dropdown-item';
  var SELECTOR_DROPDOWN_TOGGLE = '.dropdown-toggle';
  var METHOD_OFFSET = 'offset';
  var METHOD_POSITION = 'position';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var ScrollSpy = /*#__PURE__*/function () {
    function ScrollSpy(element, config) {
      var _this = this;

      this._element = element;
      this._scrollElement = element.tagName === 'BODY' ? window : element;
      this._config = this._getConfig(config);
      this._selector = this._config.target + " " + SELECTOR_NAV_LINKS + "," + (this._config.target + " " + SELECTOR_LIST_ITEMS + ",") + (this._config.target + " " + SELECTOR_DROPDOWN_ITEMS);
      this._offsets = [];
      this._targets = [];
      this._activeTarget = null;
      this._scrollHeight = 0;
      $(this._scrollElement).on(EVENT_SCROLL, function (event) {
        return _this._process(event);
      });
      this.refresh();

      this._process();
    } // Getters


    var _proto = ScrollSpy.prototype;

    // Public
    _proto.refresh = function refresh() {
      var _this2 = this;

      var autoMethod = this._scrollElement === this._scrollElement.window ? METHOD_OFFSET : METHOD_POSITION;
      var offsetMethod = this._config.method === 'auto' ? autoMethod : this._config.method;
      var offsetBase = offsetMethod === METHOD_POSITION ? this._getScrollTop() : 0;
      this._offsets = [];
      this._targets = [];
      this._scrollHeight = this._getScrollHeight();
      var targets = [].slice.call(document.querySelectorAll(this._selector));
      targets.map(function (element) {
        var target;
        var targetSelector = Util.getSelectorFromElement(element);

        if (targetSelector) {
          target = document.querySelector(targetSelector);
        }

        if (target) {
          var targetBCR = target.getBoundingClientRect();

          if (targetBCR.width || targetBCR.height) {
            // TODO (fat): remove sketch reliance on jQuery position/offset
            return [$(target)[offsetMethod]().top + offsetBase, targetSelector];
          }
        }

        return null;
      }).filter(function (item) {
        return item;
      }).sort(function (a, b) {
        return a[0] - b[0];
      }).forEach(function (item) {
        _this2._offsets.push(item[0]);

        _this2._targets.push(item[1]);
      });
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY$8);
      $(this._scrollElement).off(EVENT_KEY$8);
      this._element = null;
      this._scrollElement = null;
      this._config = null;
      this._selector = null;
      this._offsets = null;
      this._targets = null;
      this._activeTarget = null;
      this._scrollHeight = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2({}, Default$6), typeof config === 'object' && config ? config : {});

      if (typeof config.target !== 'string' && Util.isElement(config.target)) {
        var id = $(config.target).attr('id');

        if (!id) {
          id = Util.getUID(NAME$8);
          $(config.target).attr('id', id);
        }

        config.target = "#" + id;
      }

      Util.typeCheckConfig(NAME$8, config, DefaultType$6);
      return config;
    };

    _proto._getScrollTop = function _getScrollTop() {
      return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop;
    };

    _proto._getScrollHeight = function _getScrollHeight() {
      return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight);
    };

    _proto._getOffsetHeight = function _getOffsetHeight() {
      return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height;
    };

    _proto._process = function _process() {
      var scrollTop = this._getScrollTop() + this._config.offset;

      var scrollHeight = this._getScrollHeight();

      var maxScroll = this._config.offset + scrollHeight - this._getOffsetHeight();

      if (this._scrollHeight !== scrollHeight) {
        this.refresh();
      }

      if (scrollTop >= maxScroll) {
        var target = this._targets[this._targets.length - 1];

        if (this._activeTarget !== target) {
          this._activate(target);
        }

        return;
      }

      if (this._activeTarget && scrollTop < this._offsets[0] && this._offsets[0] > 0) {
        this._activeTarget = null;

        this._clear();

        return;
      }

      for (var i = this._offsets.length; i--;) {
        var isActiveTarget = this._activeTarget !== this._targets[i] && scrollTop >= this._offsets[i] && (typeof this._offsets[i + 1] === 'undefined' || scrollTop < this._offsets[i + 1]);

        if (isActiveTarget) {
          this._activate(this._targets[i]);
        }
      }
    };

    _proto._activate = function _activate(target) {
      this._activeTarget = target;

      this._clear();

      var queries = this._selector.split(',').map(function (selector) {
        return selector + "[data-target=\"" + target + "\"]," + selector + "[href=\"" + target + "\"]";
      });

      var $link = $([].slice.call(document.querySelectorAll(queries.join(','))));

      if ($link.hasClass(CLASS_NAME_DROPDOWN_ITEM)) {
        $link.closest(SELECTOR_DROPDOWN).find(SELECTOR_DROPDOWN_TOGGLE).addClass(CLASS_NAME_ACTIVE$2);
        $link.addClass(CLASS_NAME_ACTIVE$2);
      } else {
        // Set triggered link as active
        $link.addClass(CLASS_NAME_ACTIVE$2); // Set triggered links parents as active
        // With both <ul> and <nav> markup a parent is the previous sibling of any nav ancestor

        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_LINKS + ", " + SELECTOR_LIST_ITEMS).addClass(CLASS_NAME_ACTIVE$2); // Handle special case when .nav-link is inside .nav-item

        $link.parents(SELECTOR_NAV_LIST_GROUP).prev(SELECTOR_NAV_ITEMS).children(SELECTOR_NAV_LINKS).addClass(CLASS_NAME_ACTIVE$2);
      }

      $(this._scrollElement).trigger(EVENT_ACTIVATE, {
        relatedTarget: target
      });
    };

    _proto._clear = function _clear() {
      [].slice.call(document.querySelectorAll(this._selector)).filter(function (node) {
        return node.classList.contains(CLASS_NAME_ACTIVE$2);
      }).forEach(function (node) {
        return node.classList.remove(CLASS_NAME_ACTIVE$2);
      });
    } // Static
    ;

    ScrollSpy._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var data = $(this).data(DATA_KEY$8);

        var _config = typeof config === 'object' && config;

        if (!data) {
          data = new ScrollSpy(this, _config);
          $(this).data(DATA_KEY$8, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(ScrollSpy, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$8;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$6;
      }
    }]);

    return ScrollSpy;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(window).on(EVENT_LOAD_DATA_API$2, function () {
    var scrollSpys = [].slice.call(document.querySelectorAll(SELECTOR_DATA_SPY));
    var scrollSpysLength = scrollSpys.length;

    for (var i = scrollSpysLength; i--;) {
      var $spy = $(scrollSpys[i]);

      ScrollSpy._jQueryInterface.call($spy, $spy.data());
    }
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$8] = ScrollSpy._jQueryInterface;
  $.fn[NAME$8].Constructor = ScrollSpy;

  $.fn[NAME$8].noConflict = function () {
    $.fn[NAME$8] = JQUERY_NO_CONFLICT$8;
    return ScrollSpy._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$9 = 'tab';
  var VERSION$9 = '';
  var DATA_KEY$9 = 'bs.tab';
  var EVENT_KEY$9 = "." + DATA_KEY$9;
  var DATA_API_KEY$7 = '.data-api';
  var JQUERY_NO_CONFLICT$9 = $.fn[NAME$9];
  var EVENT_HIDE$3 = "hide" + EVENT_KEY$9;
  var EVENT_HIDDEN$3 = "hidden" + EVENT_KEY$9;
  var EVENT_SHOW$3 = "show" + EVENT_KEY$9;
  var EVENT_SHOWN$3 = "shown" + EVENT_KEY$9;
  var EVENT_CLICK_DATA_API$6 = "click" + EVENT_KEY$9 + DATA_API_KEY$7;
  var CLASS_NAME_DROPDOWN_MENU = 'dropdown-menu';
  var CLASS_NAME_ACTIVE$3 = 'active';
  var CLASS_NAME_DISABLED$1 = 'disabled';
  var CLASS_NAME_FADE$4 = 'fade';
  var CLASS_NAME_SHOW$6 = 'show';
  var SELECTOR_DROPDOWN$1 = '.dropdown';
  var SELECTOR_NAV_LIST_GROUP$1 = '.nav, .list-group';
  var SELECTOR_ACTIVE$2 = '.active';
  var SELECTOR_ACTIVE_UL = '> li > .active';
  var SELECTOR_DATA_TOGGLE$4 = '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]';
  var SELECTOR_DROPDOWN_TOGGLE$1 = '.dropdown-toggle';
  var SELECTOR_DROPDOWN_ACTIVE_CHILD = '> .dropdown-menu .active';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Tab = /*#__PURE__*/function () {
    function Tab(element) {
      this._element = element;
    } // Getters


    var _proto = Tab.prototype;

    // Public
    _proto.show = function show() {
      var _this = this;

      if (this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && $(this._element).hasClass(CLASS_NAME_ACTIVE$3) || $(this._element).hasClass(CLASS_NAME_DISABLED$1)) {
        return;
      }

      var target;
      var previous;
      var listElement = $(this._element).closest(SELECTOR_NAV_LIST_GROUP$1)[0];
      var selector = Util.getSelectorFromElement(this._element);

      if (listElement) {
        var itemSelector = listElement.nodeName === 'UL' || listElement.nodeName === 'OL' ? SELECTOR_ACTIVE_UL : SELECTOR_ACTIVE$2;
        previous = $.makeArray($(listElement).find(itemSelector));
        previous = previous[previous.length - 1];
      }

      var hideEvent = $.Event(EVENT_HIDE$3, {
        relatedTarget: this._element
      });
      var showEvent = $.Event(EVENT_SHOW$3, {
        relatedTarget: previous
      });

      if (previous) {
        $(previous).trigger(hideEvent);
      }

      $(this._element).trigger(showEvent);

      if (showEvent.isDefaultPrevented() || hideEvent.isDefaultPrevented()) {
        return;
      }

      if (selector) {
        target = document.querySelector(selector);
      }

      this._activate(this._element, listElement);

      var complete = function complete() {
        var hiddenEvent = $.Event(EVENT_HIDDEN$3, {
          relatedTarget: _this._element
        });
        var shownEvent = $.Event(EVENT_SHOWN$3, {
          relatedTarget: previous
        });
        $(previous).trigger(hiddenEvent);
        $(_this._element).trigger(shownEvent);
      };

      if (target) {
        this._activate(target, target.parentNode, complete);
      } else {
        complete();
      }
    };

    _proto.dispose = function dispose() {
      $.removeData(this._element, DATA_KEY$9);
      this._element = null;
    } // Private
    ;

    _proto._activate = function _activate(element, container, callback) {
      var _this2 = this;

      var activeElements = container && (container.nodeName === 'UL' || container.nodeName === 'OL') ? $(container).find(SELECTOR_ACTIVE_UL) : $(container).children(SELECTOR_ACTIVE$2);
      var active = activeElements[0];
      var isTransitioning = callback && active && $(active).hasClass(CLASS_NAME_FADE$4);

      var complete = function complete() {
        return _this2._transitionComplete(element, active, callback);
      };

      if (active && isTransitioning) {
        var transitionDuration = Util.getTransitionDurationFromElement(active);
        $(active).removeClass(CLASS_NAME_SHOW$6).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    };

    _proto._transitionComplete = function _transitionComplete(element, active, callback) {
      if (active) {
        $(active).removeClass(CLASS_NAME_ACTIVE$3);
        var dropdownChild = $(active.parentNode).find(SELECTOR_DROPDOWN_ACTIVE_CHILD)[0];

        if (dropdownChild) {
          $(dropdownChild).removeClass(CLASS_NAME_ACTIVE$3);
        }

        if (active.getAttribute('role') === 'tab') {
          active.setAttribute('aria-selected', false);
        }
      }

      $(element).addClass(CLASS_NAME_ACTIVE$3);

      if (element.getAttribute('role') === 'tab') {
        element.setAttribute('aria-selected', true);
      }

      Util.reflow(element);

      if (element.classList.contains(CLASS_NAME_FADE$4)) {
        element.classList.add(CLASS_NAME_SHOW$6);
      }

      if (element.parentNode && $(element.parentNode).hasClass(CLASS_NAME_DROPDOWN_MENU)) {
        var dropdownElement = $(element).closest(SELECTOR_DROPDOWN$1)[0];

        if (dropdownElement) {
          var dropdownToggleList = [].slice.call(dropdownElement.querySelectorAll(SELECTOR_DROPDOWN_TOGGLE$1));
          $(dropdownToggleList).addClass(CLASS_NAME_ACTIVE$3);
        }

        element.setAttribute('aria-expanded', true);
      }

      if (callback) {
        callback();
      }
    } // Static
    ;

    Tab._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $this = $(this);
        var data = $this.data(DATA_KEY$9);

        if (!data) {
          data = new Tab(this);
          $this.data(DATA_KEY$9, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config]();
        }
      });
    };

    _createClass(Tab, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$9;
      }
    }]);

    return Tab;
  }();
  /**
   * ------------------------------------------------------------------------
   * Data Api implementation
   * ------------------------------------------------------------------------
   */


  $(document).on(EVENT_CLICK_DATA_API$6, SELECTOR_DATA_TOGGLE$4, function (event) {
    event.preventDefault();

    Tab._jQueryInterface.call($(this), 'show');
  });
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */

  $.fn[NAME$9] = Tab._jQueryInterface;
  $.fn[NAME$9].Constructor = Tab;

  $.fn[NAME$9].noConflict = function () {
    $.fn[NAME$9] = JQUERY_NO_CONFLICT$9;
    return Tab._jQueryInterface;
  };

  /**
   * ------------------------------------------------------------------------
   * Constants
   * ------------------------------------------------------------------------
   */

  var NAME$a = 'toast';
  var VERSION$a = '';
  var DATA_KEY$a = 'bs.toast';
  var EVENT_KEY$a = "." + DATA_KEY$a;
  var JQUERY_NO_CONFLICT$a = $.fn[NAME$a];
  var EVENT_CLICK_DISMISS$1 = "click.dismiss" + EVENT_KEY$a;
  var EVENT_HIDE$4 = "hide" + EVENT_KEY$a;
  var EVENT_HIDDEN$4 = "hidden" + EVENT_KEY$a;
  var EVENT_SHOW$4 = "show" + EVENT_KEY$a;
  var EVENT_SHOWN$4 = "shown" + EVENT_KEY$a;
  var CLASS_NAME_FADE$5 = 'fade';
  var CLASS_NAME_HIDE = 'hide';
  var CLASS_NAME_SHOW$7 = 'show';
  var CLASS_NAME_SHOWING = 'showing';
  var DefaultType$7 = {
    animation: 'boolean',
    autohide: 'boolean',
    delay: 'number'
  };
  var Default$7 = {
    animation: true,
    autohide: true,
    delay: 500
  };
  var SELECTOR_DATA_DISMISS$1 = '[data-dismiss="toast"]';
  /**
   * ------------------------------------------------------------------------
   * Class Definition
   * ------------------------------------------------------------------------
   */

  var Toast = /*#__PURE__*/function () {
    function Toast(element, config) {
      this._element = element;
      this._config = this._getConfig(config);
      this._timeout = null;

      this._setListeners();
    } // Getters


    var _proto = Toast.prototype;

    // Public
    _proto.show = function show() {
      var _this = this;

      var showEvent = $.Event(EVENT_SHOW$4);
      $(this._element).trigger(showEvent);

      if (showEvent.isDefaultPrevented()) {
        return;
      }

      if (this._config.animation) {
        this._element.classList.add(CLASS_NAME_FADE$5);
      }

      var complete = function complete() {
        _this._element.classList.remove(CLASS_NAME_SHOWING);

        _this._element.classList.add(CLASS_NAME_SHOW$7);

        $(_this._element).trigger(EVENT_SHOWN$4);

        if (_this._config.autohide) {
          _this._timeout = setTimeout(function () {
            _this.hide();
          }, _this._config.delay);
        }
      };

      this._element.classList.remove(CLASS_NAME_HIDE);

      Util.reflow(this._element);

      this._element.classList.add(CLASS_NAME_SHOWING);

      if (this._config.animation) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    };

    _proto.hide = function hide() {
      if (!this._element.classList.contains(CLASS_NAME_SHOW$7)) {
        return;
      }

      var hideEvent = $.Event(EVENT_HIDE$4);
      $(this._element).trigger(hideEvent);

      if (hideEvent.isDefaultPrevented()) {
        return;
      }

      this._close();
    };

    _proto.dispose = function dispose() {
      clearTimeout(this._timeout);
      this._timeout = null;

      if (this._element.classList.contains(CLASS_NAME_SHOW$7)) {
        this._element.classList.remove(CLASS_NAME_SHOW$7);
      }

      $(this._element).off(EVENT_CLICK_DISMISS$1);
      $.removeData(this._element, DATA_KEY$a);
      this._element = null;
      this._config = null;
    } // Private
    ;

    _proto._getConfig = function _getConfig(config) {
      config = _objectSpread2(_objectSpread2(_objectSpread2({}, Default$7), $(this._element).data()), typeof config === 'object' && config ? config : {});
      Util.typeCheckConfig(NAME$a, config, this.constructor.DefaultType);
      return config;
    };

    _proto._setListeners = function _setListeners() {
      var _this2 = this;

      $(this._element).on(EVENT_CLICK_DISMISS$1, SELECTOR_DATA_DISMISS$1, function () {
        return _this2.hide();
      });
    };

    _proto._close = function _close() {
      var _this3 = this;

      var complete = function complete() {
        _this3._element.classList.add(CLASS_NAME_HIDE);

        $(_this3._element).trigger(EVENT_HIDDEN$4);
      };

      this._element.classList.remove(CLASS_NAME_SHOW$7);

      if (this._config.animation) {
        var transitionDuration = Util.getTransitionDurationFromElement(this._element);
        $(this._element).one(Util.TRANSITION_END, complete).emulateTransitionEnd(transitionDuration);
      } else {
        complete();
      }
    } // Static
    ;

    Toast._jQueryInterface = function _jQueryInterface(config) {
      return this.each(function () {
        var $element = $(this);
        var data = $element.data(DATA_KEY$a);

        var _config = typeof config === 'object' && config;

        if (!data) {
          data = new Toast(this, _config);
          $element.data(DATA_KEY$a, data);
        }

        if (typeof config === 'string') {
          if (typeof data[config] === 'undefined') {
            throw new TypeError("No method named \"" + config + "\"");
          }

          data[config](this);
        }
      });
    };

    _createClass(Toast, null, [{
      key: "VERSION",
      get: function get() {
        return VERSION$a;
      }
    }, {
      key: "DefaultType",
      get: function get() {
        return DefaultType$7;
      }
    }, {
      key: "Default",
      get: function get() {
        return Default$7;
      }
    }]);

    return Toast;
  }();
  /**
   * ------------------------------------------------------------------------
   * jQuery
   * ------------------------------------------------------------------------
   */


  $.fn[NAME$a] = Toast._jQueryInterface;
  $.fn[NAME$a].Constructor = Toast;

  $.fn[NAME$a].noConflict = function () {
    $.fn[NAME$a] = JQUERY_NO_CONFLICT$a;
    return Toast._jQueryInterface;
  };

  exports.Alert = Alert;
  exports.Button = Button;
  exports.Carousel = Carousel;
  exports.Collapse = Collapse;
  exports.Dropdown = Dropdown;
  exports.Modal = Modal;
  exports.Popover = Popover;
  exports.Scrollspy = ScrollSpy;
  exports.Tab = Tab;
  exports.Toast = Toast;
  exports.Tooltip = Tooltip;
  exports.Util = Util;

  Object.defineProperty(exports, '__esModule', { value: true });

})));
//# sourceMappingURL=bootstrap.js.map

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";var e,i;function f(){return e.apply(null,arguments)}function o(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function u(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function m(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;for(var t in e)if(m(e,t))return;return 1}function r(e){return void 0===e}function h(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function a(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){for(var n=[],s=0;s<e.length;++s)n.push(t(e[s],s));return n}function c(e,t){for(var n in t)m(t,n)&&(e[n]=t[n]);return m(t,"toString")&&(e.toString=t.toString),m(t,"valueOf")&&(e.valueOf=t.valueOf),e}function _(e,t,n,s){return xt(e,t,n,s,!0).utc()}function y(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}),e._pf}function g(e){if(null==e._isValid){var t=y(e),n=i.call(t.parsedDateParts,function(e){return null!=e}),s=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(s=s&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return s;e._isValid=s}return e._isValid}function w(e){var t=_(NaN);return null!=e?c(y(t),e):y(t).userInvalidated=!0,t}i=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,s=0;s<n;s++)if(s in t&&e.call(this,t[s],s,t))return!0;return!1};var p=f.momentProperties=[],t=!1;function v(e,t){var n,s,i;if(r(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),r(t._i)||(e._i=t._i),r(t._f)||(e._f=t._f),r(t._l)||(e._l=t._l),r(t._strict)||(e._strict=t._strict),r(t._tzm)||(e._tzm=t._tzm),r(t._isUTC)||(e._isUTC=t._isUTC),r(t._offset)||(e._offset=t._offset),r(t._pf)||(e._pf=y(t)),r(t._locale)||(e._locale=t._locale),0<p.length)for(n=0;n<p.length;n++)r(i=t[s=p[n]])||(e[s]=i);return e}function k(e){v(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===t&&(t=!0,f.updateOffset(this),t=!1)}function M(e){return e instanceof k||null!=e&&null!=e._isAMomentObject}function D(e){!1===f.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function n(i,r){var a=!0;return c(function(){if(null!=f.deprecationHandler&&f.deprecationHandler(null,i),a){for(var e,t,n=[],s=0;s<arguments.length;s++){if(e="","object"==typeof arguments[s]){for(t in e+="\n["+s+"] ",arguments[0])m(arguments[0],t)&&(e+=t+": "+arguments[0][t]+", ");e=e.slice(0,-2)}else e=arguments[s];n.push(e)}D(i+"\nArguments: "+Array.prototype.slice.call(n).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}var s,S={};function Y(e,t){null!=f.deprecationHandler&&f.deprecationHandler(e,t),S[e]||(D(t),S[e]=!0)}function O(e){return"undefined"!=typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function b(e,t){var n,s=c({},e);for(n in t)m(t,n)&&(u(e[n])&&u(t[n])?(s[n]={},c(s[n],e[n]),c(s[n],t[n])):null!=t[n]?s[n]=t[n]:delete s[n]);for(n in e)m(e,n)&&!m(t,n)&&u(e[n])&&(s[n]=c({},s[n]));return s}function x(e){null!=e&&this.set(e)}f.suppressDeprecationWarnings=!1,f.deprecationHandler=null,s=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)m(e,t)&&n.push(t);return n};function T(e,t,n){var s=""+Math.abs(e),i=t-s.length;return(0<=e?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+s}var N=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,P=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,R={},W={};function C(e,t,n,s){var i="string"==typeof s?function(){return this[s]()}:s;e&&(W[e]=i),t&&(W[t[0]]=function(){return T(i.apply(this,arguments),t[1],t[2])}),n&&(W[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function U(e,t){return e.isValid()?(t=H(t,e.localeData()),R[t]=R[t]||function(s){for(var e,i=s.match(N),t=0,r=i.length;t<r;t++)W[i[t]]?i[t]=W[i[t]]:i[t]=(e=i[t]).match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"");return function(e){for(var t="",n=0;n<r;n++)t+=O(i[n])?i[n].call(e,s):i[n];return t}}(t),R[t](e)):e.localeData().invalidDate()}function H(e,t){var n=5;function s(e){return t.longDateFormat(e)||e}for(P.lastIndex=0;0<=n&&P.test(e);)e=e.replace(P,s),P.lastIndex=0,--n;return e}var F={};function L(e,t){var n=e.toLowerCase();F[n]=F[n+"s"]=F[t]=e}function V(e){return"string"==typeof e?F[e]||F[e.toLowerCase()]:void 0}function G(e){var t,n,s={};for(n in e)m(e,n)&&(t=V(n))&&(s[t]=e[n]);return s}var E={};function A(e,t){E[e]=t}function j(e){return e%4==0&&e%100!=0||e%400==0}function I(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Z(e){var t=+e,n=0;return 0!=t&&isFinite(t)&&(n=I(t)),n}function z(t,n){return function(e){return null!=e?(q(this,t,e),f.updateOffset(this,n),this):$(this,t)}}function $(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function q(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&j(e.year())&&1===e.month()&&29===e.date()?(n=Z(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),xe(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}var B,J=/\d/,Q=/\d\d/,X=/\d{3}/,K=/\d{4}/,ee=/[+-]?\d{6}/,te=/\d\d?/,ne=/\d\d\d\d?/,se=/\d\d\d\d\d\d?/,ie=/\d{1,3}/,re=/\d{1,4}/,ae=/[+-]?\d{1,6}/,oe=/\d+/,ue=/[+-]?\d+/,le=/Z|[+-]\d\d:?\d\d/gi,he=/Z|[+-]\d\d(?::?\d\d)?/gi,de=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function ce(e,n,s){B[e]=O(n)?n:function(e,t){return e&&s?s:n}}function fe(e,t){return m(B,e)?B[e](t._strict,t._locale):new RegExp(me(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,s,i){return t||n||s||i})))}function me(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}B={};var _e={};function ye(e,n){var t,s=n;for("string"==typeof e&&(e=[e]),h(n)&&(s=function(e,t){t[n]=Z(e)}),t=0;t<e.length;t++)_e[e[t]]=s}function ge(e,i){ye(e,function(e,t,n,s){n._w=n._w||{},i(e,n._w,n,s)})}var we,pe=0,ve=1,ke=2,Me=3,De=4,Se=5,Ye=6,Oe=7,be=8;function xe(e,t){if(isNaN(e)||isNaN(t))return NaN;var n,s=(t%(n=12)+n)%n;return e+=(t-s)/12,1==s?j(e)?29:28:31-s%7%2}we=Array.prototype.indexOf?Array.prototype.indexOf:function(e){for(var t=0;t<this.length;++t)if(this[t]===e)return t;return-1},C("M",["MM",2],"Mo",function(){return this.month()+1}),C("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),C("MMMM",0,0,function(e){return this.localeData().months(this,e)}),L("month","M"),A("month",8),ce("M",te),ce("MM",te,Q),ce("MMM",function(e,t){return t.monthsShortRegex(e)}),ce("MMMM",function(e,t){return t.monthsRegex(e)}),ye(["M","MM"],function(e,t){t[ve]=Z(e)-1}),ye(["MMM","MMMM"],function(e,t,n,s){var i=n._locale.monthsParse(e,s,n._strict);null!=i?t[ve]=i:y(n).invalidMonth=e});var Te="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Ne="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Pe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Re=de,We=de;function Ce(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=Z(t);else if(!h(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),xe(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function Ue(e){return null!=e?(Ce(this,e),f.updateOffset(this,!0),this):$(this,"Month")}function He(){function e(e,t){return t.length-e.length}for(var t,n=[],s=[],i=[],r=0;r<12;r++)t=_([2e3,r]),n.push(this.monthsShort(t,"")),s.push(this.months(t,"")),i.push(this.months(t,"")),i.push(this.monthsShort(t,""));for(n.sort(e),s.sort(e),i.sort(e),r=0;r<12;r++)n[r]=me(n[r]),s[r]=me(s[r]);for(r=0;r<24;r++)i[r]=me(i[r]);this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Fe(e){return j(e)?366:365}C("Y",0,0,function(){var e=this.year();return e<=9999?T(e,4):"+"+e}),C(0,["YY",2],0,function(){return this.year()%100}),C(0,["YYYY",4],0,"year"),C(0,["YYYYY",5],0,"year"),C(0,["YYYYYY",6,!0],0,"year"),L("year","y"),A("year",1),ce("Y",ue),ce("YY",te,Q),ce("YYYY",re,K),ce("YYYYY",ae,ee),ce("YYYYYY",ae,ee),ye(["YYYYY","YYYYYY"],pe),ye("YYYY",function(e,t){t[pe]=2===e.length?f.parseTwoDigitYear(e):Z(e)}),ye("YY",function(e,t){t[pe]=f.parseTwoDigitYear(e)}),ye("Y",function(e,t){t[pe]=parseInt(e,10)}),f.parseTwoDigitYear=function(e){return Z(e)+(68<Z(e)?1900:2e3)};var Le=z("FullYear",!0);function Ve(e){var t,n;return e<100&&0<=e?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function Ge(e,t,n){var s=7+t-n;return s-(7+Ve(e,0,s).getUTCDay()-t)%7-1}function Ee(e,t,n,s,i){var r,a=1+7*(t-1)+(7+n-s)%7+Ge(e,s,i),o=a<=0?Fe(r=e-1)+a:a>Fe(e)?(r=e+1,a-Fe(e)):(r=e,a);return{year:r,dayOfYear:o}}function Ae(e,t,n){var s,i,r=Ge(e.year(),t,n),a=Math.floor((e.dayOfYear()-r-1)/7)+1;return a<1?s=a+je(i=e.year()-1,t,n):a>je(e.year(),t,n)?(s=a-je(e.year(),t,n),i=e.year()+1):(i=e.year(),s=a),{week:s,year:i}}function je(e,t,n){var s=Ge(e,t,n),i=Ge(e+1,t,n);return(Fe(e)-s+i)/7}C("w",["ww",2],"wo","week"),C("W",["WW",2],"Wo","isoWeek"),L("week","w"),L("isoWeek","W"),A("week",5),A("isoWeek",5),ce("w",te),ce("ww",te,Q),ce("W",te),ce("WW",te,Q),ge(["w","ww","W","WW"],function(e,t,n,s){t[s.substr(0,1)]=Z(e)});function Ie(e,t){return e.slice(t,7).concat(e.slice(0,t))}C("d",0,"do","day"),C("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),C("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),C("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),C("e",0,0,"weekday"),C("E",0,0,"isoWeekday"),L("day","d"),L("weekday","e"),L("isoWeekday","E"),A("day",11),A("weekday",11),A("isoWeekday",11),ce("d",te),ce("e",te),ce("E",te),ce("dd",function(e,t){return t.weekdaysMinRegex(e)}),ce("ddd",function(e,t){return t.weekdaysShortRegex(e)}),ce("dddd",function(e,t){return t.weekdaysRegex(e)}),ge(["dd","ddd","dddd"],function(e,t,n,s){var i=n._locale.weekdaysParse(e,s,n._strict);null!=i?t.d=i:y(n).invalidWeekday=e}),ge(["d","e","E"],function(e,t,n,s){t[s]=Z(e)});var Ze="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ze="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$e="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),qe=de,Be=de,Je=de;function Qe(){function e(e,t){return t.length-e.length}for(var t,n,s,i,r=[],a=[],o=[],u=[],l=0;l<7;l++)t=_([2e3,1]).day(l),n=me(this.weekdaysMin(t,"")),s=me(this.weekdaysShort(t,"")),i=me(this.weekdays(t,"")),r.push(n),a.push(s),o.push(i),u.push(n),u.push(s),u.push(i);r.sort(e),a.sort(e),o.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Ke(e,t){C(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}C("H",["HH",2],0,"hour"),C("h",["hh",2],0,Xe),C("k",["kk",2],0,function(){return this.hours()||24}),C("hmm",0,0,function(){return""+Xe.apply(this)+T(this.minutes(),2)}),C("hmmss",0,0,function(){return""+Xe.apply(this)+T(this.minutes(),2)+T(this.seconds(),2)}),C("Hmm",0,0,function(){return""+this.hours()+T(this.minutes(),2)}),C("Hmmss",0,0,function(){return""+this.hours()+T(this.minutes(),2)+T(this.seconds(),2)}),Ke("a",!0),Ke("A",!1),L("hour","h"),A("hour",13),ce("a",et),ce("A",et),ce("H",te),ce("h",te),ce("k",te),ce("HH",te,Q),ce("hh",te,Q),ce("kk",te,Q),ce("hmm",ne),ce("hmmss",se),ce("Hmm",ne),ce("Hmmss",se),ye(["H","HH"],Me),ye(["k","kk"],function(e,t,n){var s=Z(e);t[Me]=24===s?0:s}),ye(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),ye(["h","hh"],function(e,t,n){t[Me]=Z(e),y(n).bigHour=!0}),ye("hmm",function(e,t,n){var s=e.length-2;t[Me]=Z(e.substr(0,s)),t[De]=Z(e.substr(s)),y(n).bigHour=!0}),ye("hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Me]=Z(e.substr(0,s)),t[De]=Z(e.substr(s,2)),t[Se]=Z(e.substr(i)),y(n).bigHour=!0}),ye("Hmm",function(e,t,n){var s=e.length-2;t[Me]=Z(e.substr(0,s)),t[De]=Z(e.substr(s))}),ye("Hmmss",function(e,t,n){var s=e.length-4,i=e.length-2;t[Me]=Z(e.substr(0,s)),t[De]=Z(e.substr(s,2)),t[Se]=Z(e.substr(i))});var tt=z("Hours",!0);var nt,st={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Te,monthsShort:Ne,week:{dow:0,doy:6},weekdays:Ze,weekdaysMin:$e,weekdaysShort:ze,meridiemParse:/[ap]\.?m?\.?/i},it={},rt={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function ot(e){for(var t,n,s,i,r=0;r<e.length;){for(t=(i=at(e[r]).split("-")).length,n=(n=at(e[r+1]))?n.split("-"):null;0<t;){if(s=ut(i.slice(0,t).join("-")))return s;if(n&&n.length>=t&&function(e,t){for(var n=Math.min(e.length,t.length),s=0;s<n;s+=1)if(e[s]!==t[s])return s;return n}(i,n)>=t-1)break;t--}r++}return nt}function ut(t){var e;if(void 0===it[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=nt._abbr,require("./locale/"+t),lt(e)}catch(e){it[t]=null}return it[t]}function lt(e,t){var n;return e&&((n=r(t)?dt(e):ht(e,t))?nt=n:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),nt._abbr}function ht(e,t){if(null===t)return delete it[e],null;var n,s=st;if(t.abbr=e,null!=it[e])Y("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),s=it[e]._config;else if(null!=t.parentLocale)if(null!=it[t.parentLocale])s=it[t.parentLocale]._config;else{if(null==(n=ut(t.parentLocale)))return rt[t.parentLocale]||(rt[t.parentLocale]=[]),rt[t.parentLocale].push({name:e,config:t}),null;s=n._config}return it[e]=new x(b(s,t)),rt[e]&&rt[e].forEach(function(e){ht(e.name,e.config)}),lt(e),it[e]}function dt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return nt;if(!o(e)){if(t=ut(e))return t;e=[e]}return ot(e)}function ct(e){var t,n=e._a;return n&&-2===y(e).overflow&&(t=n[ve]<0||11<n[ve]?ve:n[ke]<1||n[ke]>xe(n[pe],n[ve])?ke:n[Me]<0||24<n[Me]||24===n[Me]&&(0!==n[De]||0!==n[Se]||0!==n[Ye])?Me:n[De]<0||59<n[De]?De:n[Se]<0||59<n[Se]?Se:n[Ye]<0||999<n[Ye]?Ye:-1,y(e)._overflowDayOfYear&&(t<pe||ke<t)&&(t=ke),y(e)._overflowWeeks&&-1===t&&(t=Oe),y(e)._overflowWeekday&&-1===t&&(t=be),y(e).overflow=t),e}var ft=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,mt=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,_t=/Z|[+-]\d\d(?::?\d\d)?/,yt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],wt=/^\/?Date\((-?\d+)/i,pt=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,vt={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function kt(e){var t,n,s,i,r,a,o=e._i,u=ft.exec(o)||mt.exec(o);if(u){for(y(e).iso=!0,t=0,n=yt.length;t<n;t++)if(yt[t][1].exec(u[1])){i=yt[t][0],s=!1!==yt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[3])){r=(u[2]||" ")+gt[t][0];break}if(null==r)return void(e._isValid=!1)}if(!s&&null!=r)return void(e._isValid=!1);if(u[4]){if(!_t.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(r||"")+(a||""),Ot(e)}else e._isValid=!1}function Mt(e,t,n,s,i,r){var a=[function(e){var t=parseInt(e,10);{if(t<=49)return 2e3+t;if(t<=999)return 1900+t}return t}(e),Ne.indexOf(t),parseInt(n,10),parseInt(s,10),parseInt(i,10)];return r&&a.push(parseInt(r,10)),a}function Dt(e){var t,n,s,i,r=pt.exec(e._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(r){if(t=Mt(r[4],r[3],r[2],r[5],r[6],r[7]),n=r[1],s=t,i=e,n&&ze.indexOf(n)!==new Date(s[0],s[1],s[2]).getDay()&&(y(i).weekdayMismatch=!0,!void(i._isValid=!1)))return;e._a=t,e._tzm=function(e,t,n){if(e)return vt[e];if(t)return 0;var s=parseInt(n,10),i=s%100;return 60*((s-i)/100)+i}(r[8],r[9],r[10]),e._d=Ve.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),y(e).rfc2822=!0}else e._isValid=!1}function St(e,t,n){return null!=e?e:null!=t?t:n}function Yt(e){var t,n,s,i,r,a,o,u=[];if(!e._d){for(a=e,o=new Date(f.now()),s=a._useUTC?[o.getUTCFullYear(),o.getUTCMonth(),o.getUTCDate()]:[o.getFullYear(),o.getMonth(),o.getDate()],e._w&&null==e._a[ke]&&null==e._a[ve]&&function(e){var t,n,s,i,r,a,o,u,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(r=1,a=4,n=St(t.GG,e._a[pe],Ae(Tt(),1,4).year),s=St(t.W,1),((i=St(t.E,1))<1||7<i)&&(u=!0)):(r=e._locale._week.dow,a=e._locale._week.doy,l=Ae(Tt(),r,a),n=St(t.gg,e._a[pe],l.year),s=St(t.w,l.week),null!=t.d?((i=t.d)<0||6<i)&&(u=!0):null!=t.e?(i=t.e+r,(t.e<0||6<t.e)&&(u=!0)):i=r);s<1||s>je(n,r,a)?y(e)._overflowWeeks=!0:null!=u?y(e)._overflowWeekday=!0:(o=Ee(n,s,i,r,a),e._a[pe]=o.year,e._dayOfYear=o.dayOfYear)}(e),null!=e._dayOfYear&&(r=St(e._a[pe],s[pe]),(e._dayOfYear>Fe(r)||0===e._dayOfYear)&&(y(e)._overflowDayOfYear=!0),n=Ve(r,0,e._dayOfYear),e._a[ve]=n.getUTCMonth(),e._a[ke]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=u[t]=s[t];for(;t<7;t++)e._a[t]=u[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Me]&&0===e._a[De]&&0===e._a[Se]&&0===e._a[Ye]&&(e._nextDay=!0,e._a[Me]=0),e._d=(e._useUTC?Ve:function(e,t,n,s,i,r,a){var o;return e<100&&0<=e?(o=new Date(e+400,t,n,s,i,r,a),isFinite(o.getFullYear())&&o.setFullYear(e)):o=new Date(e,t,n,s,i,r,a),o}).apply(null,u),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Me]=24),e._w&&void 0!==e._w.d&&e._w.d!==i&&(y(e).weekdayMismatch=!0)}}function Ot(e){if(e._f!==f.ISO_8601)if(e._f!==f.RFC_2822){e._a=[],y(e).empty=!0;for(var t,n,s,i,r,a,o,u=""+e._i,l=u.length,h=0,d=H(e._f,e._locale).match(N)||[],c=0;c<d.length;c++)n=d[c],(t=(u.match(fe(n,e))||[])[0])&&(0<(s=u.substr(0,u.indexOf(t))).length&&y(e).unusedInput.push(s),u=u.slice(u.indexOf(t)+t.length),h+=t.length),W[n]?(t?y(e).empty=!1:y(e).unusedTokens.push(n),r=n,o=e,null!=(a=t)&&m(_e,r)&&_e[r](a,o._a,o,r)):e._strict&&!t&&y(e).unusedTokens.push(n);y(e).charsLeftOver=l-h,0<u.length&&y(e).unusedInput.push(u),e._a[Me]<=12&&!0===y(e).bigHour&&0<e._a[Me]&&(y(e).bigHour=void 0),y(e).parsedDateParts=e._a.slice(0),y(e).meridiem=e._meridiem,e._a[Me]=function(e,t,n){var s;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((s=e.isPM(n))&&t<12&&(t+=12),s||12!==t||(t=0)),t)}(e._locale,e._a[Me],e._meridiem),null!==(i=y(e).era)&&(e._a[pe]=e._locale.erasConvertYear(i,e._a[pe])),Yt(e),ct(e)}else Dt(e);else kt(e)}function bt(e){var t,n,s=e._i,i=e._f;return e._locale=e._locale||dt(e._l),null===s||void 0===i&&""===s?w({nullInput:!0}):("string"==typeof s&&(e._i=s=e._locale.preparse(s)),M(s)?new k(ct(s)):(a(s)?e._d=s:o(i)?function(e){var t,n,s,i,r,a,o=!1;if(0===e._f.length)return y(e).invalidFormat=!0,e._d=new Date(NaN);for(i=0;i<e._f.length;i++)r=0,a=!1,t=v({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],Ot(t),g(t)&&(a=!0),r+=y(t).charsLeftOver,r+=10*y(t).unusedTokens.length,y(t).score=r,o?r<s&&(s=r,n=t):(null==s||r<s||a)&&(s=r,n=t,a&&(o=!0));c(e,n||t)}(e):i?Ot(e):r(n=(t=e)._i)?t._d=new Date(f.now()):a(n)?t._d=new Date(n.valueOf()):"string"==typeof n?function(e){var t=wt.exec(e._i);null===t?(kt(e),!1===e._isValid&&(delete e._isValid,Dt(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:f.createFromInputFallback(e)))):e._d=new Date(+t[1])}(t):o(n)?(t._a=d(n.slice(0),function(e){return parseInt(e,10)}),Yt(t)):u(n)?function(e){var t,n;e._d||(n=void 0===(t=G(e._i)).day?t.date:t.day,e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),Yt(e))}(t):h(n)?t._d=new Date(n):f.createFromInputFallback(t),g(e)||(e._d=null),e))}function xt(e,t,n,s,i){var r,a={};return!0!==t&&!1!==t||(s=t,t=void 0),!0!==n&&!1!==n||(s=n,n=void 0),(u(e)&&l(e)||o(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=s,(r=new k(ct(bt(a))))._nextDay&&(r.add(1,"d"),r._nextDay=void 0),r}function Tt(e,t,n,s){return xt(e,t,n,s,!1)}f.createFromInputFallback=n("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),f.ISO_8601=function(){},f.RFC_2822=function(){};var Nt=n("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:w()}),Pt=n("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:w()});function Rt(e,t){var n,s;if(1===t.length&&o(t[0])&&(t=t[0]),!t.length)return Tt();for(n=t[0],s=1;s<t.length;++s)t[s].isValid()&&!t[s][e](n)||(n=t[s]);return n}var Wt=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Ct(e){var t=G(e),n=t.year||0,s=t.quarter||0,i=t.month||0,r=t.week||t.isoWeek||0,a=t.day||0,o=t.hour||0,u=t.minute||0,l=t.second||0,h=t.millisecond||0;this._isValid=function(e){var t,n,s=!1;for(t in e)if(m(e,t)&&(-1===we.call(Wt,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<Wt.length;++n)if(e[Wt[n]]){if(s)return!1;parseFloat(e[Wt[n]])!==Z(e[Wt[n]])&&(s=!0)}return!0}(t),this._milliseconds=+h+1e3*l+6e4*u+1e3*o*60*60,this._days=+a+7*r,this._months=+i+3*s+12*n,this._data={},this._locale=dt(),this._bubble()}function Ut(e){return e instanceof Ct}function Ht(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ft(e,n){C(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+T(~~(e/60),2)+n+T(~~e%60,2)})}Ft("Z",":"),Ft("ZZ",""),ce("Z",he),ce("ZZ",he),ye(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=Vt(he,e)});var Lt=/([\+\-]|\d\d)/gi;function Vt(e,t){var n,s,i=(t||"").match(e);return null===i?null:0===(s=60*(n=((i[i.length-1]||[])+"").match(Lt)||["-",0,0])[1]+Z(n[2]))?0:"+"===n[0]?s:-s}function Gt(e,t){var n,s;return t._isUTC?(n=t.clone(),s=(M(e)||a(e)?e.valueOf():Tt(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),f.updateOffset(n,!1),n):Tt(e).local()}function Et(e){return-Math.round(e._d.getTimezoneOffset())}function At(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}f.updateOffset=function(){};var jt=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,It=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Zt(e,t){var n,s,i,r=e,a=null;return Ut(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:h(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(a=jt.exec(e))?(n="-"===a[1]?-1:1,r={y:0,d:Z(a[ke])*n,h:Z(a[Me])*n,m:Z(a[De])*n,s:Z(a[Se])*n,ms:Z(Ht(1e3*a[Ye]))*n}):(a=It.exec(e))?(n="-"===a[1]?-1:1,r={y:zt(a[2],n),M:zt(a[3],n),w:zt(a[4],n),d:zt(a[5],n),h:zt(a[6],n),m:zt(a[7],n),s:zt(a[8],n)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(i=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=Gt(t,e),e.isBefore(t)?n=$t(e,t):((n=$t(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Tt(r.from),Tt(r.to)),(r={}).ms=i.milliseconds,r.M=i.months),s=new Ct(r),Ut(e)&&m(e,"_locale")&&(s._locale=e._locale),Ut(e)&&m(e,"_isValid")&&(s._isValid=e._isValid),s}function zt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function $t(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=t-e.clone().add(n.months,"M"),n}function qt(s,i){return function(e,t){var n;return null===t||isNaN(+t)||(Y(i,"moment()."+i+"(period, number) is deprecated. Please use moment()."+i+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),n=e,e=t,t=n),Bt(this,Zt(e,t),s),this}}function Bt(e,t,n,s){var i=t._milliseconds,r=Ht(t._days),a=Ht(t._months);e.isValid()&&(s=null==s||s,a&&Ce(e,$(e,"Month")+a*n),r&&q(e,"Date",$(e,"Date")+r*n),i&&e._d.setTime(e._d.valueOf()+i*n),s&&f.updateOffset(e,r||a))}Zt.fn=Ct.prototype,Zt.invalid=function(){return Zt(NaN)};var Jt=qt(1,"add"),Qt=qt(-1,"subtract");function Xt(e){return"string"==typeof e||e instanceof String}function Kt(e){return M(e)||a(e)||Xt(e)||h(e)||function(t){var e=o(t),n=!1;e&&(n=0===t.filter(function(e){return!h(e)&&Xt(t)}).length);return e&&n}(e)||function(e){var t,n,s=u(e)&&!l(e),i=!1,r=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"];for(t=0;t<r.length;t+=1)n=r[t],i=i||m(e,n);return s&&i}(e)||null==e}function en(e,t){if(e.date()<t.date())return-en(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),s=e.clone().add(n,"months"),i=t-s<0?(t-s)/(s-e.clone().add(n-1,"months")):(t-s)/(e.clone().add(1+n,"months")-s);return-(n+i)||0}function tn(e){var t;return void 0===e?this._locale._abbr:(null!=(t=dt(e))&&(this._locale=t),this)}f.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",f.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var nn=n("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function sn(){return this._locale}var rn=126227808e5;function an(e,t){return(e%t+t)%t}function on(e,t,n){return e<100&&0<=e?new Date(e+400,t,n)-rn:new Date(e,t,n).valueOf()}function un(e,t,n){return e<100&&0<=e?Date.UTC(e+400,t,n)-rn:Date.UTC(e,t,n)}function ln(e,t){return t.erasAbbrRegex(e)}function hn(){for(var e=[],t=[],n=[],s=[],i=this.eras(),r=0,a=i.length;r<a;++r)t.push(me(i[r].name)),e.push(me(i[r].abbr)),n.push(me(i[r].narrow)),s.push(me(i[r].name)),s.push(me(i[r].abbr)),s.push(me(i[r].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}function dn(e,t){C(0,[e,e.length],0,t)}function cn(e,t,n,s,i){var r;return null==e?Ae(this,s,i).year:((r=je(e,s,i))<t&&(t=r),function(e,t,n,s,i){var r=Ee(e,t,n,s,i),a=Ve(r.year,0,r.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,s,i))}C("N",0,0,"eraAbbr"),C("NN",0,0,"eraAbbr"),C("NNN",0,0,"eraAbbr"),C("NNNN",0,0,"eraName"),C("NNNNN",0,0,"eraNarrow"),C("y",["y",1],"yo","eraYear"),C("y",["yy",2],0,"eraYear"),C("y",["yyy",3],0,"eraYear"),C("y",["yyyy",4],0,"eraYear"),ce("N",ln),ce("NN",ln),ce("NNN",ln),ce("NNNN",function(e,t){return t.erasNameRegex(e)}),ce("NNNNN",function(e,t){return t.erasNarrowRegex(e)}),ye(["N","NN","NNN","NNNN","NNNNN"],function(e,t,n,s){var i=n._locale.erasParse(e,s,n._strict);i?y(n).era=i:y(n).invalidEra=e}),ce("y",oe),ce("yy",oe),ce("yyy",oe),ce("yyyy",oe),ce("yo",function(e,t){return t._eraYearOrdinalRegex||oe}),ye(["y","yy","yyy","yyyy"],pe),ye(["yo"],function(e,t,n,s){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[pe]=n._locale.eraYearOrdinalParse(e,i):t[pe]=parseInt(e,10)}),C(0,["gg",2],0,function(){return this.weekYear()%100}),C(0,["GG",2],0,function(){return this.isoWeekYear()%100}),dn("gggg","weekYear"),dn("ggggg","weekYear"),dn("GGGG","isoWeekYear"),dn("GGGGG","isoWeekYear"),L("weekYear","gg"),L("isoWeekYear","GG"),A("weekYear",1),A("isoWeekYear",1),ce("G",ue),ce("g",ue),ce("GG",te,Q),ce("gg",te,Q),ce("GGGG",re,K),ce("gggg",re,K),ce("GGGGG",ae,ee),ce("ggggg",ae,ee),ge(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,s){t[s.substr(0,2)]=Z(e)}),ge(["gg","GG"],function(e,t,n,s){t[s]=f.parseTwoDigitYear(e)}),C("Q",0,"Qo","quarter"),L("quarter","Q"),A("quarter",7),ce("Q",J),ye("Q",function(e,t){t[ve]=3*(Z(e)-1)}),C("D",["DD",2],"Do","date"),L("date","D"),A("date",9),ce("D",te),ce("DD",te,Q),ce("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),ye(["D","DD"],ke),ye("Do",function(e,t){t[ke]=Z(e.match(te)[0])});var fn=z("Date",!0);C("DDD",["DDDD",3],"DDDo","dayOfYear"),L("dayOfYear","DDD"),A("dayOfYear",4),ce("DDD",ie),ce("DDDD",X),ye(["DDD","DDDD"],function(e,t,n){n._dayOfYear=Z(e)}),C("m",["mm",2],0,"minute"),L("minute","m"),A("minute",14),ce("m",te),ce("mm",te,Q),ye(["m","mm"],De);var mn=z("Minutes",!1);C("s",["ss",2],0,"second"),L("second","s"),A("second",15),ce("s",te),ce("ss",te,Q),ye(["s","ss"],Se);var _n,yn,gn=z("Seconds",!1);for(C("S",0,0,function(){return~~(this.millisecond()/100)}),C(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),C(0,["SSS",3],0,"millisecond"),C(0,["SSSS",4],0,function(){return 10*this.millisecond()}),C(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),C(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),C(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),C(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),C(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),L("millisecond","ms"),A("millisecond",16),ce("S",ie,J),ce("SS",ie,Q),ce("SSS",ie,X),_n="SSSS";_n.length<=9;_n+="S")ce(_n,oe);function wn(e,t){t[Ye]=Z(1e3*("0."+e))}for(_n="S";_n.length<=9;_n+="S")ye(_n,wn);yn=z("Milliseconds",!1),C("z",0,0,"zoneAbbr"),C("zz",0,0,"zoneName");var pn=k.prototype;function vn(e){return e}pn.add=Jt,pn.calendar=function(e,t){1===arguments.length&&(arguments[0]?Kt(arguments[0])?(e=arguments[0],t=void 0):function(e){for(var t=u(e)&&!l(e),n=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],i=0;i<s.length;i+=1)n=n||m(e,s[i]);return t&&n}(arguments[0])&&(t=arguments[0],e=void 0):t=e=void 0);var n=e||Tt(),s=Gt(n,this).startOf("day"),i=f.calendarFormat(this,s)||"sameElse",r=t&&(O(t[i])?t[i].call(this,n):t[i]);return this.format(r||this.localeData().calendar(i,this,Tt(n)))},pn.clone=function(){return new k(this)},pn.diff=function(e,t,n){var s,i,r;if(!this.isValid())return NaN;if(!(s=Gt(e,this)).isValid())return NaN;switch(i=6e4*(s.utcOffset()-this.utcOffset()),t=V(t)){case"year":r=en(this,s)/12;break;case"month":r=en(this,s);break;case"quarter":r=en(this,s)/3;break;case"second":r=(this-s)/1e3;break;case"minute":r=(this-s)/6e4;break;case"hour":r=(this-s)/36e5;break;case"day":r=(this-s-i)/864e5;break;case"week":r=(this-s-i)/6048e5;break;default:r=this-s}return n?r:I(r)},pn.endOf=function(e){var t,n;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?un:on,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=36e5-an(t+(this._isUTC?0:6e4*this.utcOffset()),36e5)-1;break;case"minute":t=this._d.valueOf(),t+=6e4-an(t,6e4)-1;break;case"second":t=this._d.valueOf(),t+=1e3-an(t,1e3)-1;break}return this._d.setTime(t),f.updateOffset(this,!0),this},pn.format=function(e){e=e||(this.isUtc()?f.defaultFormatUtc:f.defaultFormat);var t=U(this,e);return this.localeData().postformat(t)},pn.from=function(e,t){return this.isValid()&&(M(e)&&e.isValid()||Tt(e).isValid())?Zt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},pn.fromNow=function(e){return this.from(Tt(),e)},pn.to=function(e,t){return this.isValid()&&(M(e)&&e.isValid()||Tt(e).isValid())?Zt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},pn.toNow=function(e){return this.to(Tt(),e)},pn.get=function(e){return O(this[e=V(e)])?this[e]():this},pn.invalidAt=function(){return y(this).overflow},pn.isAfter=function(e,t){var n=M(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},pn.isBefore=function(e,t){var n=M(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},pn.isBetween=function(e,t,n,s){var i=M(e)?e:Tt(e),r=M(t)?t:Tt(t);return!!(this.isValid()&&i.isValid()&&r.isValid())&&(("("===(s=s||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===s[1]?this.isBefore(r,n):!this.isAfter(r,n)))},pn.isSame=function(e,t){var n,s=M(e)?e:Tt(e);return!(!this.isValid()||!s.isValid())&&("millisecond"===(t=V(t)||"millisecond")?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},pn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},pn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},pn.isValid=function(){return g(this)},pn.lang=nn,pn.locale=tn,pn.localeData=sn,pn.max=Pt,pn.min=Nt,pn.parsingFlags=function(){return c({},y(this))},pn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t,n=[];for(t in e)m(e,t)&&n.push({unit:t,priority:E[t]});return n.sort(function(e,t){return e.priority-t.priority}),n}(e=G(e)),s=0;s<n.length;s++)this[n[s].unit](e[n[s].unit]);else if(O(this[e=V(e)]))return this[e](t);return this},pn.startOf=function(e){var t,n;if(void 0===(e=V(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?un:on,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=an(t+(this._isUTC?0:6e4*this.utcOffset()),36e5);break;case"minute":t=this._d.valueOf(),t-=an(t,6e4);break;case"second":t=this._d.valueOf(),t-=an(t,1e3);break}return this._d.setTime(t),f.updateOffset(this,!0),this},pn.subtract=Qt,pn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},pn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},pn.toDate=function(){return new Date(this.valueOf())},pn.toISOString=function(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||9999<n.year()?U(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):O(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",U(n,"Z")):U(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},pn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,s="moment",i="";return this.isLocal()||(s=0===this.utcOffset()?"moment.utc":"moment.parseZone",i="Z"),e="["+s+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n=i+'[")]',this.format(e+t+"-MM-DD[T]HH:mm:ss.SSS"+n)},"undefined"!=typeof Symbol&&null!=Symbol.for&&(pn[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),pn.toJSON=function(){return this.isValid()?this.toISOString():null},pn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},pn.unix=function(){return Math.floor(this.valueOf()/1e3)},pn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},pn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},pn.eraName=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].name;if(t[n].until<=e&&e<=t[n].since)return t[n].name}return""},pn.eraNarrow=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].narrow;if(t[n].until<=e&&e<=t[n].since)return t[n].narrow}return""},pn.eraAbbr=function(){for(var e,t=this.localeData().eras(),n=0,s=t.length;n<s;++n){if(e=this.clone().startOf("day").valueOf(),t[n].since<=e&&e<=t[n].until)return t[n].abbr;if(t[n].until<=e&&e<=t[n].since)return t[n].abbr}return""},pn.eraYear=function(){for(var e,t,n=this.localeData().eras(),s=0,i=n.length;s<i;++s)if(e=n[s].since<=n[s].until?1:-1,t=this.clone().startOf("day").valueOf(),n[s].since<=t&&t<=n[s].until||n[s].until<=t&&t<=n[s].since)return(this.year()-f(n[s].since).year())*e+n[s].offset;return this.year()},pn.year=Le,pn.isLeapYear=function(){return j(this.year())},pn.weekYear=function(e){return cn.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},pn.isoWeekYear=function(e){return cn.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},pn.quarter=pn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},pn.month=Ue,pn.daysInMonth=function(){return xe(this.year(),this.month())},pn.week=pn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},pn.isoWeek=pn.isoWeeks=function(e){var t=Ae(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},pn.weeksInYear=function(){var e=this.localeData()._week;return je(this.year(),e.dow,e.doy)},pn.weeksInWeekYear=function(){var e=this.localeData()._week;return je(this.weekYear(),e.dow,e.doy)},pn.isoWeeksInYear=function(){return je(this.year(),1,4)},pn.isoWeeksInISOWeekYear=function(){return je(this.isoWeekYear(),1,4)},pn.date=fn,pn.day=pn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t,n,s=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(t=e,n=this.localeData(),e="string"!=typeof t?t:isNaN(t)?"number"==typeof(t=n.weekdaysParse(t))?t:null:parseInt(t,10),this.add(e-s,"d")):s},pn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},pn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t,n,s=(t=e,n=this.localeData(),"string"==typeof t?n.weekdaysParse(t)%7||7:isNaN(t)?null:t);return this.day(this.day()%7?s:s-7)},pn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},pn.hour=pn.hours=tt,pn.minute=pn.minutes=mn,pn.second=pn.seconds=gn,pn.millisecond=pn.milliseconds=yn,pn.utcOffset=function(e,t,n){var s,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null==e)return this._isUTC?i:Et(this);if("string"==typeof e){if(null===(e=Vt(he,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(s=Et(this)),this._offset=e,this._isUTC=!0,null!=s&&this.add(s,"m"),i!==e&&(!t||this._changeInProgress?Bt(this,Zt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,f.updateOffset(this,!0),this._changeInProgress=null)),this},pn.utc=function(e){return this.utcOffset(0,e)},pn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Et(this),"m")),this},pn.parseZone=function(){var e;return null!=this._tzm?this.utcOffset(this._tzm,!1,!0):"string"==typeof this._i&&(null!=(e=Vt(le,this._i))?this.utcOffset(e):this.utcOffset(0,!0)),this},pn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},pn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},pn.isLocal=function(){return!!this.isValid()&&!this._isUTC},pn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},pn.isUtc=At,pn.isUTC=At,pn.zoneAbbr=function(){return this._isUTC?"UTC":""},pn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},pn.dates=n("dates accessor is deprecated. Use date instead.",fn),pn.months=n("months accessor is deprecated. Use month instead",Ue),pn.years=n("years accessor is deprecated. Use year instead",Le),pn.zone=n("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),pn.isDSTShifted=n("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var e,t={};return v(t,this),(t=bt(t))._a?(e=(t._isUTC?_:Tt)(t._a),this._isDSTShifted=this.isValid()&&0<function(e,t,n){for(var s=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),r=0,a=0;a<s;a++)(n&&e[a]!==t[a]||!n&&Z(e[a])!==Z(t[a]))&&r++;return r+i}(t._a,e.toArray())):this._isDSTShifted=!1,this._isDSTShifted});var kn=x.prototype;function Mn(e,t,n,s){var i=dt(),r=_().set(s,t);return i[n](r,e)}function Dn(e,t,n){if(h(e)&&(t=e,e=void 0),e=e||"",null!=t)return Mn(e,t,n,"month");for(var s=[],i=0;i<12;i++)s[i]=Mn(e,i,n,"month");return s}function Sn(e,t,n,s){t=("boolean"==typeof e?h(t)&&(n=t,t=void 0):(t=e,e=!1,h(n=t)&&(n=t,t=void 0)),t||"");var i,r=dt(),a=e?r._week.dow:0,o=[];if(null!=n)return Mn(t,(n+a)%7,s,"day");for(i=0;i<7;i++)o[i]=Mn(t,(i+a)%7,s,"day");return o}kn.calendar=function(e,t,n){var s=this._calendar[e]||this._calendar.sameElse;return O(s)?s.call(t,n):s},kn.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(N).map(function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e}).join(""),this._longDateFormat[e])},kn.invalidDate=function(){return this._invalidDate},kn.ordinal=function(e){return this._ordinal.replace("%d",e)},kn.preparse=vn,kn.postformat=vn,kn.relativeTime=function(e,t,n,s){var i=this._relativeTime[n];return O(i)?i(e,t,n,s):i.replace(/%d/i,e)},kn.pastFuture=function(e,t){var n=this._relativeTime[0<e?"future":"past"];return O(n)?n(t):n.replace(/%s/i,t)},kn.set=function(e){var t,n;for(n in e)m(e,n)&&(O(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},kn.eras=function(e,t){for(var n,s=this._eras||dt("en")._eras,i=0,r=s.length;i<r;++i){switch(typeof s[i].since){case"string":n=f(s[i].since).startOf("day"),s[i].since=n.valueOf();break}switch(typeof s[i].until){case"undefined":s[i].until=1/0;break;case"string":n=f(s[i].until).startOf("day").valueOf(),s[i].until=n.valueOf();break}}return s},kn.erasParse=function(e,t,n){var s,i,r,a,o,u=this.eras();for(e=e.toUpperCase(),s=0,i=u.length;s<i;++s)if(r=u[s].name.toUpperCase(),a=u[s].abbr.toUpperCase(),o=u[s].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(a===e)return u[s];break;case"NNNN":if(r===e)return u[s];break;case"NNNNN":if(o===e)return u[s];break}else if(0<=[r,a,o].indexOf(e))return u[s]},kn.erasConvertYear=function(e,t){var n=e.since<=e.until?1:-1;return void 0===t?f(e.since).year():f(e.since).year()+(t-e.offset)*n},kn.erasAbbrRegex=function(e){return m(this,"_erasAbbrRegex")||hn.call(this),e?this._erasAbbrRegex:this._erasRegex},kn.erasNameRegex=function(e){return m(this,"_erasNameRegex")||hn.call(this),e?this._erasNameRegex:this._erasRegex},kn.erasNarrowRegex=function(e){return m(this,"_erasNarrowRegex")||hn.call(this),e?this._erasNarrowRegex:this._erasRegex},kn.months=function(e,t){return e?o(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Pe).test(t)?"format":"standalone"][e.month()]:o(this._months)?this._months:this._months.standalone},kn.monthsShort=function(e,t){return e?o(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Pe.test(t)?"format":"standalone"][e.month()]:o(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},kn.monthsParse=function(e,t,n){var s,i,r;if(this._monthsParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],s=0;s<12;++s)r=_([2e3,s]),this._shortMonthsParse[s]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[s]=this.months(r,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=we.call(this._shortMonthsParse,a))?i:null:-1!==(i=we.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=we.call(this._shortMonthsParse,a))||-1!==(i=we.call(this._longMonthsParse,a))?i:null:-1!==(i=we.call(this._longMonthsParse,a))||-1!==(i=we.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),s=0;s<12;s++){if(i=_([2e3,s]),n&&!this._longMonthsParse[s]&&(this._longMonthsParse[s]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[s]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[s]||(r="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[s]=new RegExp(r.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[s].test(e))return s;if(n&&"MMM"===t&&this._shortMonthsParse[s].test(e))return s;if(!n&&this._monthsParse[s].test(e))return s}},kn.monthsRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||He.call(this),e?this._monthsStrictRegex:this._monthsRegex):(m(this,"_monthsRegex")||(this._monthsRegex=We),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},kn.monthsShortRegex=function(e){return this._monthsParseExact?(m(this,"_monthsRegex")||He.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(m(this,"_monthsShortRegex")||(this._monthsShortRegex=Re),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},kn.week=function(e){return Ae(e,this._week.dow,this._week.doy).week},kn.firstDayOfYear=function(){return this._week.doy},kn.firstDayOfWeek=function(){return this._week.dow},kn.weekdays=function(e,t){var n=o(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ie(n,this._week.dow):e?n[e.day()]:n},kn.weekdaysMin=function(e){return!0===e?Ie(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin},kn.weekdaysShort=function(e){return!0===e?Ie(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort},kn.weekdaysParse=function(e,t,n){var s,i,r;if(this._weekdaysParseExact)return function(e,t,n){var s,i,r,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],s=0;s<7;++s)r=_([2e3,1]).day(s),this._minWeekdaysParse[s]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[s]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[s]=this.weekdays(r,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=we.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=we.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=we.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=we.call(this._weekdaysParse,a))||-1!==(i=we.call(this._shortWeekdaysParse,a))||-1!==(i=we.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=we.call(this._shortWeekdaysParse,a))||-1!==(i=we.call(this._weekdaysParse,a))||-1!==(i=we.call(this._minWeekdaysParse,a))?i:null:-1!==(i=we.call(this._minWeekdaysParse,a))||-1!==(i=we.call(this._weekdaysParse,a))||-1!==(i=we.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),s=0;s<7;s++){if(i=_([2e3,1]).day(s),n&&!this._fullWeekdaysParse[s]&&(this._fullWeekdaysParse[s]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[s]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[s]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[s]||(r="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[s]=new RegExp(r.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[s].test(e))return s;if(n&&"ddd"===t&&this._shortWeekdaysParse[s].test(e))return s;if(n&&"dd"===t&&this._minWeekdaysParse[s].test(e))return s;if(!n&&this._weekdaysParse[s].test(e))return s}},kn.weekdaysRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(m(this,"_weekdaysRegex")||(this._weekdaysRegex=qe),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},kn.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(m(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Be),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},kn.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(m(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(m(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Je),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},kn.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},kn.meridiem=function(e,t,n){return 11<e?n?"pm":"PM":n?"am":"AM"},lt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Z(e%100/10)?"th":1==t?"st":2==t?"nd":3==t?"rd":"th")}}),f.lang=n("moment.lang is deprecated. Use moment.locale instead.",lt),f.langData=n("moment.langData is deprecated. Use moment.localeData instead.",dt);var Yn=Math.abs;function On(e,t,n,s){var i=Zt(t,n);return e._milliseconds+=s*i._milliseconds,e._days+=s*i._days,e._months+=s*i._months,e._bubble()}function bn(e){return e<0?Math.floor(e):Math.ceil(e)}function xn(e){return 4800*e/146097}function Tn(e){return 146097*e/4800}function Nn(e){return function(){return this.as(e)}}var Pn=Nn("ms"),Rn=Nn("s"),Wn=Nn("m"),Cn=Nn("h"),Un=Nn("d"),Hn=Nn("w"),Fn=Nn("M"),Ln=Nn("Q"),Vn=Nn("y");function Gn(e){return function(){return this.isValid()?this._data[e]:NaN}}var En=Gn("milliseconds"),An=Gn("seconds"),jn=Gn("minutes"),In=Gn("hours"),Zn=Gn("days"),zn=Gn("months"),$n=Gn("years");var qn=Math.round,Bn={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Jn(e,t,n,s){var i=Zt(e).abs(),r=qn(i.as("s")),a=qn(i.as("m")),o=qn(i.as("h")),u=qn(i.as("d")),l=qn(i.as("M")),h=qn(i.as("w")),d=qn(i.as("y")),c=(r<=n.ss?["s",r]:r<n.s&&["ss",r])||a<=1&&["m"]||a<n.m&&["mm",a]||o<=1&&["h"]||o<n.h&&["hh",o]||u<=1&&["d"]||u<n.d&&["dd",u];return null!=n.w&&(c=c||h<=1&&["w"]||h<n.w&&["ww",h]),(c=c||l<=1&&["M"]||l<n.M&&["MM",l]||d<=1&&["y"]||["yy",d])[2]=t,c[3]=0<+e,c[4]=s,function(e,t,n,s,i){return i.relativeTime(t||1,!!n,e,s)}.apply(null,c)}var Qn=Math.abs;function Xn(e){return(0<e)-(e<0)||+e}function Kn(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,s,i,r,a,o,u=Qn(this._milliseconds)/1e3,l=Qn(this._days),h=Qn(this._months),d=this.asSeconds();return d?(e=I(u/60),t=I(e/60),u%=60,e%=60,n=I(h/12),h%=12,s=u?u.toFixed(3).replace(/\.?0+$/,""):"",i=d<0?"-":"",r=Xn(this._months)!==Xn(d)?"-":"",a=Xn(this._days)!==Xn(d)?"-":"",o=Xn(this._milliseconds)!==Xn(d)?"-":"",i+"P"+(n?r+n+"Y":"")+(h?r+h+"M":"")+(l?a+l+"D":"")+(t||e||u?"T":"")+(t?o+t+"H":"")+(e?o+e+"M":"")+(u?o+s+"S":"")):"P0D"}var es=Ct.prototype;return es.isValid=function(){return this._isValid},es.abs=function(){var e=this._data;return this._milliseconds=Yn(this._milliseconds),this._days=Yn(this._days),this._months=Yn(this._months),e.milliseconds=Yn(e.milliseconds),e.seconds=Yn(e.seconds),e.minutes=Yn(e.minutes),e.hours=Yn(e.hours),e.months=Yn(e.months),e.years=Yn(e.years),this},es.add=function(e,t){return On(this,e,t,1)},es.subtract=function(e,t){return On(this,e,t,-1)},es.as=function(e){if(!this.isValid())return NaN;var t,n,s=this._milliseconds;if("month"===(e=V(e))||"quarter"===e||"year"===e)switch(t=this._days+s/864e5,n=this._months+xn(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Tn(this._months)),e){case"week":return t/7+s/6048e5;case"day":return t+s/864e5;case"hour":return 24*t+s/36e5;case"minute":return 1440*t+s/6e4;case"second":return 86400*t+s/1e3;case"millisecond":return Math.floor(864e5*t)+s;default:throw new Error("Unknown unit "+e)}},es.asMilliseconds=Pn,es.asSeconds=Rn,es.asMinutes=Wn,es.asHours=Cn,es.asDays=Un,es.asWeeks=Hn,es.asMonths=Fn,es.asQuarters=Ln,es.asYears=Vn,es.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*Z(this._months/12):NaN},es._bubble=function(){var e,t,n,s,i,r=this._milliseconds,a=this._days,o=this._months,u=this._data;return 0<=r&&0<=a&&0<=o||r<=0&&a<=0&&o<=0||(r+=864e5*bn(Tn(o)+a),o=a=0),u.milliseconds=r%1e3,e=I(r/1e3),u.seconds=e%60,t=I(e/60),u.minutes=t%60,n=I(t/60),u.hours=n%24,a+=I(n/24),o+=i=I(xn(a)),a-=bn(Tn(i)),s=I(o/12),o%=12,u.days=a,u.months=o,u.years=s,this},es.clone=function(){return Zt(this)},es.get=function(e){return e=V(e),this.isValid()?this[e+"s"]():NaN},es.milliseconds=En,es.seconds=An,es.minutes=jn,es.hours=In,es.days=Zn,es.weeks=function(){return I(this.days()/7)},es.months=zn,es.years=$n,es.humanize=function(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,s,i=!1,r=Bn;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(r=Object.assign({},Bn,t),null!=t.s&&null==t.ss&&(r.ss=t.s-1)),n=this.localeData(),s=Jn(this,!i,r,n),i&&(s=n.pastFuture(+this,s)),n.postformat(s)},es.toISOString=Kn,es.toString=Kn,es.toJSON=Kn,es.locale=tn,es.localeData=sn,es.toIsoString=n("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Kn),es.lang=nn,C("X",0,0,"unix"),C("x",0,0,"valueOf"),ce("x",ue),ce("X",/[+-]?\d+(\.\d{1,3})?/),ye("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e))}),ye("x",function(e,t,n){n._d=new Date(Z(e))}),f.version="",e=Tt,f.fn=pn,f.min=function(){return Rt("isBefore",[].slice.call(arguments,0))},f.max=function(){return Rt("isAfter",[].slice.call(arguments,0))},f.now=function(){return Date.now?Date.now():+new Date},f.utc=_,f.unix=function(e){return Tt(1e3*e)},f.months=function(e,t){return Dn(e,t,"months")},f.isDate=a,f.locale=lt,f.invalid=w,f.duration=Zt,f.isMoment=M,f.weekdays=function(e,t,n){return Sn(e,t,n,"weekdays")},f.parseZone=function(){return Tt.apply(null,arguments).parseZone()},f.localeData=dt,f.isDuration=Ut,f.monthsShort=function(e,t){return Dn(e,t,"monthsShort")},f.weekdaysMin=function(e,t,n){return Sn(e,t,n,"weekdaysMin")},f.defineLocale=ht,f.updateLocale=function(e,t){var n,s,i;return null!=t?(i=st,null!=it[e]&&null!=it[e].parentLocale?it[e].set(b(it[e]._config,t)):(null!=(s=ut(e))&&(i=s._config),t=b(i,t),null==s&&(t.abbr=e),(n=new x(t)).parentLocale=it[e],it[e]=n),lt(e)):null!=it[e]&&(null!=it[e].parentLocale?(it[e]=it[e].parentLocale,e===lt()&&lt(e)):null!=it[e]&&delete it[e]),it[e]},f.locales=function(){return s(it)},f.weekdaysShort=function(e,t,n){return Sn(e,t,n,"weekdaysShort")},f.normalizeUnits=V,f.relativeTimeRounding=function(e){return void 0===e?qn:"function"==typeof e&&(qn=e,!0)},f.relativeTimeThreshold=function(e,t){return void 0!==Bn[e]&&(void 0===t?Bn[e]:(Bn[e]=t,"s"===e&&(Bn.ss=t-1),!0))},f.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},f.prototype=pn,f.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},f});
//# sourceMappingURL=moment.min.js.map
(function(root, factory) {

  if (typeof define === 'function' && define.amd) {
    define(['moment', 'jquery', 'exports'], function(momentjs, $, exports) {
      root.daterangepicker = factory(root, exports, momentjs, $);
    });

  } else if (typeof exports !== 'undefined') {
      var momentjs = require('moment');
      var jQuery = (typeof window != 'undefined') ? window.jQuery : undefined;  //isomorphic issue
      if (!jQuery) {
          try {
              jQuery = require('jquery');
              if (!jQuery.fn) jQuery.fn = {}; //isomorphic issue
          } catch (err) {
              if (!jQuery) throw new Error('jQuery dependency not found');
          }
      }

    factory(root, exports, momentjs, jQuery);

  // Finally, as a browser global.
  } else {
    root.daterangepicker = factory(root, {}, root.moment || moment, (root.jQuery || root.Zepto || root.ender || root.$));
  }

}(this || {}, function(root, daterangepicker, moment, $) { // 'this' doesn't exist on a server

    var DateRangePicker = function(element, options, cb) {

        //default settings for options
        this.parentEl = 'body';
        this.element = $(element);
        this.startDate = moment().startOf('day');
        this.endDate = moment().endOf('day');
        this.minDate = false;
        this.maxDate = false;
        this.dateLimit = false;
        this.autoApply = false;
        this.singleDatePicker = false;
        this.showDropdowns = false;
        this.showWeekNumbers = false;
        this.timePicker = false;
        this.timePicker24Hour = false;
        this.timePickerIncrement = 1;
        this.timePickerSeconds = false;
        this.linkedCalendars = true;
        this.autoUpdateInput = true;
        this.ranges = {};

        this.opens = 'right';
        if (this.element.hasClass('pull-right'))
            this.opens = 'left';

        this.drops = 'down';
        if (this.element.hasClass('dropup'))
            this.drops = 'up';

        this.buttonClasses = 'btn btn-sm';
        this.applyClass = 'btn-success';
        this.cancelClass = 'btn-default';

        this.locale = {
            format: 'MM/DD/YYYY',
            separator: ' - ',
            applyLabel: 'Apply',
            cancelLabel: 'Cancel',
            weekLabel: 'W',
            customRangeLabel: 'Custom Range',
            daysOfWeek: moment.weekdaysMin(),
            monthNames: moment.monthsShort(),
            firstDay: moment.localeData().firstDayOfWeek()
        };

        this.callback = function() { };

        //some state information
        this.isShowing = false;
        this.leftCalendar = {};
        this.rightCalendar = {};

        //custom options from user
        if (typeof options !== 'object' || options === null)
            options = {};

        //allow setting options with data attributes
        //data-api options will be overwritten with custom javascript options
        options = $.extend(this.element.data(), options);

        //html template for the picker UI
        if (typeof options.template !== 'string')
            options.template = '<div class="daterangepicker dropdown-menu">' +
                '<div class="calendar left">' +
                    '<div class="daterangepicker_input">' +
                      '<input class="input-mini" type="text" name="daterangepicker_start" value="" />' +
                      '<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>' +
                      '<div class="calendar-time">' +
                        '<div></div>' +
                        '<i class="fa fa-clock-o glyphicon glyphicon-time"></i>' +
                      '</div>' +
                    '</div>' +
                    '<div class="calendar-table"></div>' +
                '</div>' +
                '<div class="calendar right">' +
                    '<div class="daterangepicker_input">' +
                      '<input class="input-mini" type="text" name="daterangepicker_end" value="" />' +
                      '<i class="fa fa-calendar glyphicon glyphicon-calendar"></i>' +
                      '<div class="calendar-time">' +
                        '<div></div>' +
                        '<i class="fa fa-clock-o glyphicon glyphicon-time"></i>' +
                      '</div>' +
                    '</div>' +
                    '<div class="calendar-table"></div>' +
                '</div>' +
                '<div class="ranges">' +
                    '<div class="range_inputs">' +
                        '<button class="applyBtn" disabled="disabled" type="button"></button> ' +
                        '<button class="cancelBtn" type="button"></button>' +
                    '</div>' +
                '</div>' +
            '</div>';

        this.parentEl = (options.parentEl && $(options.parentEl).length) ? $(options.parentEl) : $(this.parentEl);
        this.container = $(options.template).appendTo(this.parentEl);

        //
        // handle all the possible options overriding defaults
        //

        if (typeof options.locale === 'object') {

            if (typeof options.locale.format === 'string')
                this.locale.format = options.locale.format;

            if (typeof options.locale.separator === 'string')
                this.locale.separator = options.locale.separator;

            if (typeof options.locale.daysOfWeek === 'object')
                this.locale.daysOfWeek = options.locale.daysOfWeek.slice();

            if (typeof options.locale.monthNames === 'object')
              this.locale.monthNames = options.locale.monthNames.slice();

            if (typeof options.locale.firstDay === 'number')
              this.locale.firstDay = options.locale.firstDay;

            if (typeof options.locale.applyLabel === 'string')
              this.locale.applyLabel = options.locale.applyLabel;

            if (typeof options.locale.cancelLabel === 'string')
              this.locale.cancelLabel = options.locale.cancelLabel;

            if (typeof options.locale.weekLabel === 'string')
              this.locale.weekLabel = options.locale.weekLabel;

            if (typeof options.locale.customRangeLabel === 'string')
              this.locale.customRangeLabel = options.locale.customRangeLabel;

        }

        if (typeof options.startDate === 'string')
            this.startDate = moment(options.startDate, this.locale.format);

        if (typeof options.endDate === 'string')
            this.endDate = moment(options.endDate, this.locale.format);

        if (typeof options.minDate === 'string')
            this.minDate = moment(options.minDate, this.locale.format);

        if (typeof options.maxDate === 'string')
            this.maxDate = moment(options.maxDate, this.locale.format);

        if (typeof options.startDate === 'object')
            this.startDate = moment(options.startDate);

        if (typeof options.endDate === 'object')
            this.endDate = moment(options.endDate);

        if (typeof options.minDate === 'object')
            this.minDate = moment(options.minDate);

        if (typeof options.maxDate === 'object')
            this.maxDate = moment(options.maxDate);

        // sanity check for bad options
        if (this.minDate && this.startDate.isBefore(this.minDate))
            this.startDate = this.minDate.clone();

        // sanity check for bad options
        if (this.maxDate && this.endDate.isAfter(this.maxDate))
            this.endDate = this.maxDate.clone();

        if (typeof options.applyClass === 'string')
            this.applyClass = options.applyClass;

        if (typeof options.cancelClass === 'string')
            this.cancelClass = options.cancelClass;

        if (typeof options.dateLimit === 'object')
            this.dateLimit = options.dateLimit;

        if (typeof options.opens === 'string')
            this.opens = options.opens;

        if (typeof options.drops === 'string')
            this.drops = options.drops;

        if (typeof options.showWeekNumbers === 'boolean')
            this.showWeekNumbers = options.showWeekNumbers;

        if (typeof options.buttonClasses === 'string')
            this.buttonClasses = options.buttonClasses;

        if (typeof options.buttonClasses === 'object')
            this.buttonClasses = options.buttonClasses.join(' ');

        if (typeof options.showDropdowns === 'boolean')
            this.showDropdowns = options.showDropdowns;

        if (typeof options.singleDatePicker === 'boolean') {
            this.singleDatePicker = options.singleDatePicker;
            if (this.singleDatePicker)
                this.endDate = this.startDate.clone();
        }

        if (typeof options.timePicker === 'boolean')
            this.timePicker = options.timePicker;

        if (typeof options.timePickerSeconds === 'boolean')
            this.timePickerSeconds = options.timePickerSeconds;

        if (typeof options.timePickerIncrement === 'number')
            this.timePickerIncrement = options.timePickerIncrement;

        if (typeof options.timePicker24Hour === 'boolean')
            this.timePicker24Hour = options.timePicker24Hour;

        if (typeof options.autoApply === 'boolean')
            this.autoApply = options.autoApply;

        if (typeof options.autoUpdateInput === 'boolean')
            this.autoUpdateInput = options.autoUpdateInput;

        if (typeof options.linkedCalendars === 'boolean')
            this.linkedCalendars = options.linkedCalendars;

        if (typeof options.isInvalidDate === 'function')
            this.isInvalidDate = options.isInvalidDate;

        // update day names order to firstDay
        if (this.locale.firstDay != 0) {
            var iterator = this.locale.firstDay;
            while (iterator > 0) {
                this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift());
                iterator--;
            }
        }

        var start, end, range;

        //if no start/end dates set, check if an input element contains initial values
        if (typeof options.startDate === 'undefined' && typeof options.endDate === 'undefined') {
            if ($(this.element).is('input[type=text]')) {
                var val = $(this.element).val(),
                    split = val.split(this.locale.separator);

                start = end = null;

                if (split.length == 2) {
                    start = moment(split[0], this.locale.format);
                    end = moment(split[1], this.locale.format);
                } else if (this.singleDatePicker && val !== "") {
                    start = moment(val, this.locale.format);
                    end = moment(val, this.locale.format);
                }
                if (start !== null && end !== null) {
                    this.setStartDate(start);
                    this.setEndDate(end);
                }
            }
        }

        if (typeof options.ranges === 'object') {
            for (range in options.ranges) {

                if (typeof options.ranges[range][0] === 'string')
                    start = moment(options.ranges[range][0], this.locale.format);
                else
                    start = moment(options.ranges[range][0]);

                if (typeof options.ranges[range][1] === 'string')
                    end = moment(options.ranges[range][1], this.locale.format);
                else
                    end = moment(options.ranges[range][1]);

                // If the start or end date exceed those allowed by the minDate or dateLimit
                // options, shorten the range to the allowable period.
                if (this.minDate && start.isBefore(this.minDate))
                    start = this.minDate.clone();

                var maxDate = this.maxDate;
                if (this.dateLimit && start.clone().add(this.dateLimit).isAfter(maxDate))
                    maxDate = start.clone().add(this.dateLimit);
                if (maxDate && end.isAfter(maxDate))
                    end = maxDate.clone();

                // If the end of the range is before the minimum or the start of the range is
                // after the maximum, don't display this range option at all.
                if ((this.minDate && end.isBefore(this.minDate)) || (maxDate && start.isAfter(maxDate)))
                    continue;

                this.ranges[range] = [start, end];
            }

            var list = '<ul>';
            for (range in this.ranges) {
                list += '<li>' + range + '</li>';
            }
            list += '<li>' + this.locale.customRangeLabel + '</li>';
            list += '</ul>';
            this.container.find('.ranges').prepend(list);
        }

        if (typeof cb === 'function') {
            this.callback = cb;
        }

        if (!this.timePicker) {
            this.startDate = this.startDate.startOf('day');
            this.endDate = this.endDate.endOf('day');
            this.container.find('.calendar-time').hide();
        }

        //can't be used together for now
        if (this.timePicker && this.autoApply)
            this.autoApply = false;

        if (this.autoApply && typeof options.ranges !== 'object') {
            this.container.find('.ranges').hide();
        } else if (this.autoApply) {
            this.container.find('.applyBtn, .cancelBtn').addClass('hide');
        }

        if (this.singleDatePicker) {
            this.container.addClass('single');
            this.container.find('.calendar.left').addClass('single');
            this.container.find('.calendar.left').show();
            this.container.find('.calendar.right').hide();
            this.container.find('.daterangepicker_input input, .daterangepicker_input i').hide();
            if (!this.timePicker) {
                this.container.find('.ranges').hide();
            }
        }

        if (typeof options.ranges === 'undefined' && !this.singleDatePicker) {
            this.container.addClass('show-calendar');
        }

        this.container.addClass('opens' + this.opens);

        //swap the position of the predefined ranges if opens right
        if (typeof options.ranges !== 'undefined' && this.opens == 'right') {
            var ranges = this.container.find('.ranges');
            var html = ranges.clone();
            ranges.remove();
            this.container.find('.calendar.left').parent().prepend(html);
        }

        //apply CSS classes and labels to buttons
        this.container.find('.applyBtn, .cancelBtn').addClass(this.buttonClasses);
        if (this.applyClass.length)
            this.container.find('.applyBtn').addClass(this.applyClass);
        if (this.cancelClass.length)
            this.container.find('.cancelBtn').addClass(this.cancelClass);
        this.container.find('.applyBtn').html(this.locale.applyLabel);
        this.container.find('.cancelBtn').html(this.locale.cancelLabel);

        //
        // event listeners
        //

        this.container.find('.calendar')
            .on('click.daterangepicker', '.prev', $.proxy(this.clickPrev, this))
            .on('click.daterangepicker', '.next', $.proxy(this.clickNext, this))
            .on('click.daterangepicker', 'td.available', $.proxy(this.clickDate, this))
            .on('mouseenter.daterangepicker', 'td.available', $.proxy(this.hoverDate, this))
            .on('mouseleave.daterangepicker', 'td.available', $.proxy(this.updateFormInputs, this))
            .on('change.daterangepicker', 'select.yearselect', $.proxy(this.monthOrYearChanged, this))
            .on('change.daterangepicker', 'select.monthselect', $.proxy(this.monthOrYearChanged, this))
            .on('change.daterangepicker', 'select.hourselect,select.minuteselect,select.secondselect,select.ampmselect', $.proxy(this.timeChanged, this))
            .on('click.daterangepicker', '.daterangepicker_input input', $.proxy(this.showCalendars, this))
            //.on('keyup.daterangepicker', '.daterangepicker_input input', $.proxy(this.formInputsChanged, this))
            .on('change.daterangepicker', '.daterangepicker_input input', $.proxy(this.formInputsChanged, this));

        this.container.find('.ranges')
            .on('click.daterangepicker', 'button.applyBtn', $.proxy(this.clickApply, this))
            .on('click.daterangepicker', 'button.cancelBtn', $.proxy(this.clickCancel, this))
            .on('click.daterangepicker', 'li', $.proxy(this.clickRange, this))
            .on('mouseenter.daterangepicker', 'li', $.proxy(this.hoverRange, this))
            .on('mouseleave.daterangepicker', 'li', $.proxy(this.updateFormInputs, this));

        if (this.element.is('input')) {
            this.element.on({
                'click.daterangepicker': $.proxy(this.show, this),
                'focus.daterangepicker': $.proxy(this.show, this),
                'keyup.daterangepicker': $.proxy(this.elementChanged, this),
                'keydown.daterangepicker': $.proxy(this.keydown, this)
            });
        } else {
            this.element.on('click.daterangepicker', $.proxy(this.toggle, this));
        }

        //
        // if attached to a text input, set the initial value
        //

        if (this.element.is('input') && !this.singleDatePicker && this.autoUpdateInput) {
            this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));
            this.element.trigger('change');
        } else if (this.element.is('input') && this.autoUpdateInput) {
            this.element.val(this.startDate.format(this.locale.format));
            this.element.trigger('change');
        }

    };

    DateRangePicker.prototype = {

        constructor: DateRangePicker,

        setStartDate: function(startDate) {
            if (typeof startDate === 'string')
                this.startDate = moment(startDate, this.locale.format);

            if (typeof startDate === 'object')
                this.startDate = moment(startDate);

            if (!this.timePicker)
                this.startDate = this.startDate.startOf('day');

            if (this.timePicker && this.timePickerIncrement)
                this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);

            if (this.minDate && this.startDate.isBefore(this.minDate))
                this.startDate = this.minDate;

            if (this.maxDate && this.startDate.isAfter(this.maxDate))
                this.startDate = this.maxDate;

            if (!this.isShowing)
                this.updateElement();

            this.updateMonthsInView();
        },

        setEndDate: function(endDate) {
            if (typeof endDate === 'string')
                this.endDate = moment(endDate, this.locale.format);

            if (typeof endDate === 'object')
                this.endDate = moment(endDate);

            if (!this.timePicker)
                this.endDate = this.endDate.endOf('day');

            if (this.timePicker && this.timePickerIncrement)
                this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement);

            if (this.endDate.isBefore(this.startDate))
                this.endDate = this.startDate.clone();

            if (this.maxDate && this.endDate.isAfter(this.maxDate))
                this.endDate = this.maxDate;

            if (this.dateLimit && this.startDate.clone().add(this.dateLimit).isBefore(this.endDate))
                this.endDate = this.startDate.clone().add(this.dateLimit);

            if (!this.isShowing)
                this.updateElement();

            this.updateMonthsInView();
        },

        isInvalidDate: function() {
            return false;
        },

        updateView: function() {
            if (this.timePicker) {
                this.renderTimePicker('left');
                this.renderTimePicker('right');
                if (!this.endDate) {
                    this.container.find('.right .calendar-time select').attr('disabled', 'disabled').addClass('disabled');
                } else {
                    this.container.find('.right .calendar-time select').removeAttr('disabled').removeClass('disabled');
                }
            }
            if (this.endDate) {
                this.container.find('input[name="daterangepicker_end"]').removeClass('active');
                this.container.find('input[name="daterangepicker_start"]').addClass('active');
            } else {
                this.container.find('input[name="daterangepicker_end"]').addClass('active');
                this.container.find('input[name="daterangepicker_start"]').removeClass('active');
            }
            this.updateMonthsInView();
            this.updateCalendars();
            this.updateFormInputs();
        },

        updateMonthsInView: function() {
            if (this.endDate) {

                //if both dates are visible already, do nothing
                if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month &&
                    (this.startDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.startDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))
                    &&
                    (this.endDate.format('YYYY-MM') == this.leftCalendar.month.format('YYYY-MM') || this.endDate.format('YYYY-MM') == this.rightCalendar.month.format('YYYY-MM'))
                    ) {
                    return;
                }

                this.leftCalendar.month = this.startDate.clone().date(2);
                if (!this.linkedCalendars && (this.endDate.month() != this.startDate.month() || this.endDate.year() != this.startDate.year())) {
                    this.rightCalendar.month = this.endDate.clone().date(2);
                } else {
                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');
                }
                
            } else {
                if (this.leftCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM') && this.rightCalendar.month.format('YYYY-MM') != this.startDate.format('YYYY-MM')) {
                    this.leftCalendar.month = this.startDate.clone().date(2);
                    this.rightCalendar.month = this.startDate.clone().date(2).add(1, 'month');
                }
            }
        },

        updateCalendars: function() {

            if (this.timePicker) {
                var hour, minute, second;
                if (this.endDate) {
                    hour = parseInt(this.container.find('.left .hourselect').val(), 10);
                    minute = parseInt(this.container.find('.left .minuteselect').val(), 10);
                    second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;
                    if (!this.timePicker24Hour) {
                        var ampm = this.container.find('.left .ampmselect').val();
                        if (ampm === 'PM' && hour < 12)
                            hour += 12;
                        if (ampm === 'AM' && hour === 12)
                            hour = 0;
                    }
                } else {
                    hour = parseInt(this.container.find('.right .hourselect').val(), 10);
                    minute = parseInt(this.container.find('.right .minuteselect').val(), 10);
                    second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;
                    if (!this.timePicker24Hour) {
                        var ampm = this.container.find('.left .ampmselect').val();
                        if (ampm === 'PM' && hour < 12)
                            hour += 12;
                        if (ampm === 'AM' && hour === 12)
                            hour = 0;
                    }
                }
                this.leftCalendar.month.hour(hour).minute(minute).second(second);
                this.rightCalendar.month.hour(hour).minute(minute).second(second);
            }

            this.renderCalendar('left');
            this.renderCalendar('right');

            //highlight any predefined range matching the current start and end dates
            this.container.find('.ranges li').removeClass('active');
            if (this.endDate == null) return;

            var customRange = true;
            var i = 0;
            for (var range in this.ranges) {
                if (this.timePicker) {
                    if (this.startDate.isSame(this.ranges[range][0]) && this.endDate.isSame(this.ranges[range][1])) {
                        customRange = false;
                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').html();
                        break;
                    }
                } else {
                    //ignore times when comparing dates if time picker is not enabled
                    if (this.startDate.format('YYYY-MM-DD') == this.ranges[range][0].format('YYYY-MM-DD') && this.endDate.format('YYYY-MM-DD') == this.ranges[range][1].format('YYYY-MM-DD')) {
                        customRange = false;
                        this.chosenLabel = this.container.find('.ranges li:eq(' + i + ')').addClass('active').html();
                        break;
                    }
                }
                i++;
            }
            if (customRange) {
                this.chosenLabel = this.container.find('.ranges li:last').addClass('active').html();
                this.showCalendars();
            }

        },

        renderCalendar: function(side) {

            //
            // Build the matrix of dates that will populate the calendar
            //

            var calendar = side == 'left' ? this.leftCalendar : this.rightCalendar;
            var month = calendar.month.month();
            var year = calendar.month.year();
            var hour = calendar.month.hour();
            var minute = calendar.month.minute();
            var second = calendar.month.second();
            var daysInMonth = moment([year, month]).daysInMonth();
            var firstDay = moment([year, month, 1]);
            var lastDay = moment([year, month, daysInMonth]);
            var lastMonth = moment(firstDay).subtract(1, 'month').month();
            var lastYear = moment(firstDay).subtract(1, 'month').year();
            var daysInLastMonth = moment([lastYear, lastMonth]).daysInMonth();
            var dayOfWeek = firstDay.day();

            //initialize a 6 rows x 7 columns array for the calendar
            var calendar = [];
            calendar.firstDay = firstDay;
            calendar.lastDay = lastDay;

            for (var i = 0; i < 6; i++) {
                calendar[i] = [];
            }

            //populate the calendar with date objects
            var startDay = daysInLastMonth - dayOfWeek + this.locale.firstDay + 1;
            if (startDay > daysInLastMonth)
                startDay -= 7;

            if (dayOfWeek == this.locale.firstDay)
                startDay = daysInLastMonth - 6;

            var curDate = moment([lastYear, lastMonth, startDay, 12, minute, second]);

            var col, row;
            for (var i = 0, col = 0, row = 0; i < 42; i++, col++, curDate = moment(curDate).add(24, 'hour')) {
                if (i > 0 && col % 7 === 0) {
                    col = 0;
                    row++;
                }
                calendar[row][col] = curDate.clone().hour(hour).minute(minute).second(second);
                curDate.hour(12);

                if (this.minDate && calendar[row][col].format('YYYY-MM-DD') == this.minDate.format('YYYY-MM-DD') && calendar[row][col].isBefore(this.minDate) && side == 'left') {
                    calendar[row][col] = this.minDate.clone();
                }

                if (this.maxDate && calendar[row][col].format('YYYY-MM-DD') == this.maxDate.format('YYYY-MM-DD') && calendar[row][col].isAfter(this.maxDate) && side == 'right') {
                    calendar[row][col] = this.maxDate.clone();
                }

            }

            //make the calendar object available to hoverDate/clickDate
            if (side == 'left') {
                this.leftCalendar.calendar = calendar;
            } else {
                this.rightCalendar.calendar = calendar;
            }

            //
            // Display the calendar
            //

            var minDate = side == 'left' ? this.minDate : this.startDate;
            var maxDate = this.maxDate;
            var selected = side == 'left' ? this.startDate : this.endDate;

            var html = '<table class="table-condensed">';
            html += '<thead>';
            html += '<tr>';

            // add empty cell for week number
            if (this.showWeekNumbers)
                html += '<th></th>';

            if ((!minDate || minDate.isBefore(calendar.firstDay)) && (!this.linkedCalendars || side == 'left')) {
                html += '<th class="prev available"><i class="fa fa-chevron-left glyphicon glyphicon-chevron-left"></i></th>';
            } else {
                html += '<th></th>';
            }

            var dateHtml = this.locale.monthNames[calendar[1][1].month()] + calendar[1][1].format(" YYYY");

            if (this.showDropdowns) {
                var currentMonth = calendar[1][1].month();
                var currentYear = calendar[1][1].year();
                var maxYear = (maxDate && maxDate.year()) || (currentYear + 5);
                var minYear = (minDate && minDate.year()) || (currentYear - 50);
                var inMinYear = currentYear == minYear;
                var inMaxYear = currentYear == maxYear;

                var monthHtml = '<select class="monthselect">';
                for (var m = 0; m < 12; m++) {
                    if ((!inMinYear || m >= minDate.month()) && (!inMaxYear || m <= maxDate.month())) {
                        monthHtml += "<option value='" + m + "'" +
                            (m === currentMonth ? " selected='selected'" : "") +
                            ">" + this.locale.monthNames[m] + "</option>";
                    } else {
                        monthHtml += "<option value='" + m + "'" +
                            (m === currentMonth ? " selected='selected'" : "") +
                            " disabled='disabled'>" + this.locale.monthNames[m] + "</option>";
                    }
                }
                monthHtml += "</select>";

                var yearHtml = '<select class="yearselect">';
                for (var y = minYear; y <= maxYear; y++) {
                    yearHtml += '<option value="' + y + '"' +
                        (y === currentYear ? ' selected="selected"' : '') +
                        '>' + y + '</option>';
                }
                yearHtml += '</select>';

                dateHtml = monthHtml + yearHtml;
            }

            html += '<th colspan="5" class="month">' + dateHtml + '</th>';
            if ((!maxDate || maxDate.isAfter(calendar.lastDay)) && (!this.linkedCalendars || side == 'right' || this.singleDatePicker)) {
                html += '<th class="next available"><i class="fa fa-chevron-right glyphicon glyphicon-chevron-right"></i></th>';
            } else {
                html += '<th></th>';
            }

            html += '</tr>';
            html += '<tr>';

            // add week number label
            if (this.showWeekNumbers)
                html += '<th class="week">' + this.locale.weekLabel + '</th>';

            $.each(this.locale.daysOfWeek, function(index, dayOfWeek) {
                html += '<th>' + dayOfWeek + '</th>';
            });

            html += '</tr>';
            html += '</thead>';
            html += '<tbody>';

            //adjust maxDate to reflect the dateLimit setting in order to
            //grey out end dates beyond the dateLimit
            if (this.endDate == null && this.dateLimit) {
                var maxLimit = this.startDate.clone().add(this.dateLimit).endOf('day');
                if (!maxDate || maxLimit.isBefore(maxDate)) {
                    maxDate = maxLimit;
                }
            }

            for (var row = 0; row < 6; row++) {
                html += '<tr>';

                // add week number
                if (this.showWeekNumbers)
                    html += '<td class="week">' + calendar[row][0].week() + '</td>';

                for (var col = 0; col < 7; col++) {

                    var classes = [];

                    //highlight today's date
                    if (calendar[row][col].isSame(new Date(), "day"))
                        classes.push('today');

                    //highlight weekends
                    if (calendar[row][col].isoWeekday() > 5)
                        classes.push('weekend');

                    //grey out the dates in other months displayed at beginning and end of this calendar
                    if (calendar[row][col].month() != calendar[1][1].month())
                        classes.push('off');

                    //don't allow selection of dates before the minimum date
                    if (this.minDate && calendar[row][col].isBefore(this.minDate, 'day'))
                        classes.push('off', 'disabled');

                    //don't allow selection of dates after the maximum date
                    if (maxDate && calendar[row][col].isAfter(maxDate, 'day'))
                        classes.push('off', 'disabled');

                    //don't allow selection of date if a custom function decides it's invalid
                    if (this.isInvalidDate(calendar[row][col]))
                        classes.push('off', 'disabled');

                    //highlight the currently selected start date
                    if (calendar[row][col].format('YYYY-MM-DD') == this.startDate.format('YYYY-MM-DD'))
                        classes.push('active', 'start-date');

                    //highlight the currently selected end date
                    if (this.endDate != null && calendar[row][col].format('YYYY-MM-DD') == this.endDate.format('YYYY-MM-DD'))
                        classes.push('active', 'end-date');

                    //highlight dates in-between the selected dates
                    if (this.endDate != null && calendar[row][col] > this.startDate && calendar[row][col] < this.endDate)
                        classes.push('in-range');

                    var cname = '', disabled = false;
                    for (var i = 0; i < classes.length; i++) {
                        cname += classes[i] + ' ';
                        if (classes[i] == 'disabled')
                            disabled = true;
                    }
                    if (!disabled)
                        cname += 'available';

                    html += '<td class="' + cname.replace(/^\s+|\s+$/g, '') + '" data-title="' + 'r' + row + 'c' + col + '">' + calendar[row][col].date() + '</td>';

                }
                html += '</tr>';
            }

            html += '</tbody>';
            html += '</table>';

            this.container.find('.calendar.' + side + ' .calendar-table').html(html);

        },

        renderTimePicker: function(side) {

            var html, selected, minDate, maxDate = this.maxDate;

            if (this.dateLimit && (!this.maxDate || this.startDate.clone().add(this.dateLimit).isAfter(this.maxDate)))
                maxDate = this.startDate.clone().add(this.dateLimit);

            if (side == 'left') {
                selected = this.startDate.clone();
                minDate = this.minDate;
            } else if (side == 'right') {
                selected = this.endDate ? this.endDate.clone() : this.startDate.clone();
                minDate = this.startDate;
            }

            //
            // hours
            //

            html = '<select class="hourselect">';

            var start = this.timePicker24Hour ? 0 : 1;
            var end = this.timePicker24Hour ? 23 : 12;

            for (var i = start; i <= end; i++) {
                var i_in_24 = i;
                if (!this.timePicker24Hour)
                    i_in_24 = selected.hour() >= 12 ? (i == 12 ? 12 : i + 12) : (i == 12 ? 0 : i);

                var time = selected.clone().hour(i_in_24);
                var disabled = false;
                if (minDate && time.minute(59).isBefore(minDate))
                    disabled = true;
                if (maxDate && time.minute(0).isAfter(maxDate))
                    disabled = true;

                if (i_in_24 == selected.hour() && !disabled) {
                    html += '<option value="' + i + '" selected="selected">' + i + '</option>';
                } else if (disabled) {
                    html += '<option value="' + i + '" disabled="disabled" class="disabled">' + i + '</option>';
                } else {
                    html += '<option value="' + i + '">' + i + '</option>';
                }
            }

            html += '</select> ';

            //
            // minutes
            //

            html += ': <select class="minuteselect">';

            for (var i = 0; i < 60; i += this.timePickerIncrement) {
                var padded = i < 10 ? '0' + i : i;
                var time = selected.clone().minute(i);

                var disabled = false;
                if (minDate && time.second(59).isBefore(minDate))
                    disabled = true;
                if (maxDate && time.second(0).isAfter(maxDate))
                    disabled = true;

                if (selected.minute() == i && !disabled) {
                    html += '<option value="' + i + '" selected="selected">' + padded + '</option>';
                } else if (disabled) {
                    html += '<option value="' + i + '" disabled="disabled" class="disabled">' + padded + '</option>';
                } else {
                    html += '<option value="' + i + '">' + padded + '</option>';
                }
            }

            html += '</select> ';

            //
            // seconds
            //

            if (this.timePickerSeconds) {
                html += ': <select class="secondselect">';

                for (var i = 0; i < 60; i++) {
                    var padded = i < 10 ? '0' + i : i;
                    var time = selected.clone().second(i);

                    var disabled = false;
                    if (minDate && time.isBefore(minDate))
                        disabled = true;
                    if (maxDate && time.isAfter(maxDate))
                        disabled = true;

                    if (selected.second() == i && !disabled) {
                        html += '<option value="' + i + '" selected="selected">' + padded + '</option>';
                    } else if (disabled) {
                        html += '<option value="' + i + '" disabled="disabled" class="disabled">' + padded + '</option>';
                    } else {
                        html += '<option value="' + i + '">' + padded + '</option>';
                    }
                }

                html += '</select> ';
            }

            //
            // AM/PM
            //

            if (!this.timePicker24Hour) {
                html += '<select class="ampmselect">';

                var am_html = '';
                var pm_html = '';

                if (minDate && selected.clone().hour(12).minute(0).second(0).isBefore(minDate))
                    am_html = ' disabled="disabled" class="disabled"';

                if (maxDate && selected.clone().hour(0).minute(0).second(0).isAfter(maxDate))
                    pm_html = ' disabled="disabled" class="disabled"';

                if (selected.hour() >= 12) {
                    html += '<option value="AM"' + am_html + '>AM</option><option value="PM" selected="selected"' + pm_html + '>PM</option>';
                } else {
                    html += '<option value="AM" selected="selected"' + am_html + '>AM</option><option value="PM"' + pm_html + '>PM</option>';
                }

                html += '</select>';
            }

            this.container.find('.calendar.' + side + ' .calendar-time div').html(html);

        },

        updateFormInputs: function() {

            //ignore mouse movements while an above-calendar text input has focus
            if (this.container.find('input[name=daterangepicker_start]').is(":focus") || this.container.find('input[name=daterangepicker_end]').is(":focus"))
                return;

            this.container.find('input[name=daterangepicker_start]').val(this.startDate.format(this.locale.format));
            if (this.endDate)
                this.container.find('input[name=daterangepicker_end]').val(this.endDate.format(this.locale.format));

            if (this.singleDatePicker || (this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)))) {
                this.container.find('button.applyBtn').removeAttr('disabled');
            } else {
                this.container.find('button.applyBtn').attr('disabled', 'disabled');
            }

        },

        move: function() {
            var parentOffset = { top: 0, left: 0 },
                containerTop;
            var parentRightEdge = $(window).width();
            if (!this.parentEl.is('body')) {
                parentOffset = {
                    top: this.parentEl.offset().top - this.parentEl.scrollTop(),
                    left: this.parentEl.offset().left - this.parentEl.scrollLeft()
                };
                parentRightEdge = this.parentEl[0].clientWidth + this.parentEl.offset().left;
            }

            if (this.drops == 'up')
                containerTop = this.element.offset().top - this.container.outerHeight() - parentOffset.top;
            else
                containerTop = this.element.offset().top + this.element.outerHeight() - parentOffset.top;
            this.container[this.drops == 'up' ? 'addClass' : 'removeClass']('dropup');

            if (this.opens == 'left') {
                this.container.css({
                    top: containerTop,
                    right: parentRightEdge - this.element.offset().left - this.element.outerWidth(),
                    left: 'auto'
                });
                if (this.container.offset().left < 0) {
                    this.container.css({
                        right: 'auto',
                        left: 9
                    });
                }
            } else if (this.opens == 'center') {
                this.container.css({
                    top: containerTop,
                    left: this.element.offset().left - parentOffset.left + this.element.outerWidth() / 2
                            - this.container.outerWidth() / 2,
                    right: 'auto'
                });
                if (this.container.offset().left < 0) {
                    this.container.css({
                        right: 'auto',
                        left: 9
                    });
                }
            } else {
                this.container.css({
                    top: containerTop,
                    left: this.element.offset().left - parentOffset.left,
                    right: 'auto'
                });
                if (this.container.offset().left + this.container.outerWidth() > $(window).width()) {
                    this.container.css({
                        left: 'auto',
                        right: 0
                    });
                }
            }
        },

        show: function(e) {
            if (this.isShowing) return;

            // Create a click proxy that is private to this instance of datepicker, for unbinding
            this._outsideClickProxy = $.proxy(function(e) { this.outsideClick(e); }, this);
            // Bind global datepicker mousedown for hiding and
            $(document)
              .on('mousedown.daterangepicker', this._outsideClickProxy)
              // also support mobile devices
              .on('touchend.daterangepicker', this._outsideClickProxy)
              // also explicitly play nice with Bootstrap dropdowns, which stopPropagation when clicking them
              .on('click.daterangepicker', '[data-toggle=dropdown]', this._outsideClickProxy)
              // and also close when focus changes to outside the picker (eg. tabbing between controls)
              .on('focusin.daterangepicker', this._outsideClickProxy);

            this.oldStartDate = this.startDate.clone();
            this.oldEndDate = this.endDate.clone();

            this.updateView();
            this.container.show();
            this.move();
            this.element.trigger('show.daterangepicker', this);
            this.isShowing = true;
        },

        hide: function(e) {
            if (!this.isShowing) return;

            //incomplete date selection, revert to last values
            if (!this.endDate) {
                this.startDate = this.oldStartDate.clone();
                this.endDate = this.oldEndDate.clone();
            }

            //if a new date range was selected, invoke the user callback function
            if (!this.startDate.isSame(this.oldStartDate) || !this.endDate.isSame(this.oldEndDate))
                this.callback(this.startDate, this.endDate, this.chosenLabel);

            //if picker is attached to a text input, update it
            this.updateElement();

            $(document).off('.daterangepicker');
            this.container.hide();
            this.element.trigger('hide.daterangepicker', this);
            this.isShowing = false;
        },

        toggle: function(e) {
            if (this.isShowing) {
                this.hide();
            } else {
                this.show();
            }
        },

        outsideClick: function(e) {
            var target = $(e.target);
            // if the page is clicked anywhere except within the daterangerpicker/button
            // itself then call this.hide()
            if (
                // ie modal dialog fix
                e.type == "focusin" ||
                target.closest(this.element).length ||
                target.closest(this.container).length ||
                target.closest('.calendar-table').length
                ) return;
            this.hide();
        },

        showCalendars: function() {
            this.container.addClass('show-calendar');
            this.move();
            this.element.trigger('showCalendar.daterangepicker', this);
        },

        hideCalendars: function() {
            this.container.removeClass('show-calendar');
            this.element.trigger('hideCalendar.daterangepicker', this);
        },

        hoverRange: function(e) {

            //ignore mouse movements while an above-calendar text input has focus
            if (this.container.find('input[name=daterangepicker_start]').is(":focus") || this.container.find('input[name=daterangepicker_end]').is(":focus"))
                return;

            var label = e.target.innerHTML;
            if (label == this.locale.customRangeLabel) {
                this.updateView();
            } else {
                var dates = this.ranges[label];
                this.container.find('input[name=daterangepicker_start]').val(dates[0].format(this.locale.format));
                this.container.find('input[name=daterangepicker_end]').val(dates[1].format(this.locale.format));
            }
            
        },

        clickRange: function(e) {
            var label = e.target.innerHTML;
            this.chosenLabel = label;
            if (label == this.locale.customRangeLabel) {
                this.showCalendars();
            } else {
                var dates = this.ranges[label];
                this.startDate = dates[0];
                this.endDate = dates[1];

                if (!this.timePicker) {
                    this.startDate.startOf('day');
                    this.endDate.endOf('day');
                }

                this.hideCalendars();
                this.clickApply();
            }
        },

        clickPrev: function(e) {
            var cal = $(e.target).parents('.calendar');
            if (cal.hasClass('left')) {
                this.leftCalendar.month.subtract(1, 'month');
                if (this.linkedCalendars)
                    this.rightCalendar.month.subtract(1, 'month');
            } else {
                this.rightCalendar.month.subtract(1, 'month');
            }
            this.updateCalendars();
        },

        clickNext: function(e) {
            var cal = $(e.target).parents('.calendar');
            if (cal.hasClass('left')) {
                this.leftCalendar.month.add(1, 'month');
            } else {
                this.rightCalendar.month.add(1, 'month');
                if (this.linkedCalendars)
                    this.leftCalendar.month.add(1, 'month');
            }
            this.updateCalendars();
        },

        hoverDate: function(e) {

            //ignore mouse movements while an above-calendar text input has focus
            if (this.container.find('input[name=daterangepicker_start]').is(":focus") || this.container.find('input[name=daterangepicker_end]').is(":focus"))
                return;

            //ignore dates that can't be selected
            if (!$(e.target).hasClass('available')) return;

            //have the text inputs above calendars reflect the date being hovered over
            var title = $(e.target).attr('data-title');
            var row = title.substr(1, 1);
            var col = title.substr(3, 1);
            var cal = $(e.target).parents('.calendar');
            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];

            if (this.endDate) {
                this.container.find('input[name=daterangepicker_start]').val(date.format(this.locale.format));
            } else {
                this.container.find('input[name=daterangepicker_end]').val(date.format(this.locale.format));
            }

            //highlight the dates between the start date and the date being hovered as a potential end date
            var leftCalendar = this.leftCalendar;
            var rightCalendar = this.rightCalendar;
            var startDate = this.startDate;
            if (!this.endDate) {
                this.container.find('.calendar td').each(function(index, el) {

                    //skip week numbers, only look at dates
                    if ($(el).hasClass('week')) return;

                    var title = $(el).attr('data-title');
                    var row = title.substr(1, 1);
                    var col = title.substr(3, 1);
                    var cal = $(el).parents('.calendar');
                    var dt = cal.hasClass('left') ? leftCalendar.calendar[row][col] : rightCalendar.calendar[row][col];

                    if (dt.isAfter(startDate) && dt.isBefore(date)) {
                        $(el).addClass('in-range');
                    } else {
                        $(el).removeClass('in-range');
                    }

                });
            }

        },

        clickDate: function(e) {

            if (!$(e.target).hasClass('available')) return;

            var title = $(e.target).attr('data-title');
            var row = title.substr(1, 1);
            var col = title.substr(3, 1);
            var cal = $(e.target).parents('.calendar');
            var date = cal.hasClass('left') ? this.leftCalendar.calendar[row][col] : this.rightCalendar.calendar[row][col];

            //
            // this function needs to do a few things:
            // * alternate between selecting a start and end date for the range,
            // * if the time picker is enabled, apply the hour/minute/second from the select boxes to the clicked date
            // * if autoapply is enabled, and an end date was chosen, apply the selection
            // * if single date picker mode, and time picker isn't enabled, apply the selection immediately
            //

            if (this.endDate || date.isBefore(this.startDate)) {
                if (this.timePicker) {
                    var hour = parseInt(this.container.find('.left .hourselect').val(), 10);
                    if (!this.timePicker24Hour) {
                        var ampm = cal.find('.ampmselect').val();
                        if (ampm === 'PM' && hour < 12)
                            hour += 12;
                        if (ampm === 'AM' && hour === 12)
                            hour = 0;
                    }
                    var minute = parseInt(this.container.find('.left .minuteselect').val(), 10);
                    var second = this.timePickerSeconds ? parseInt(this.container.find('.left .secondselect').val(), 10) : 0;
                    date = date.clone().hour(hour).minute(minute).second(second);
                }
                this.endDate = null;
                this.setStartDate(date.clone());
            } else {
                if (this.timePicker) {
                    var hour = parseInt(this.container.find('.right .hourselect').val(), 10);
                    if (!this.timePicker24Hour) {
                        var ampm = this.container.find('.right .ampmselect').val();
                        if (ampm === 'PM' && hour < 12)
                            hour += 12;
                        if (ampm === 'AM' && hour === 12)
                            hour = 0;
                    }
                    var minute = parseInt(this.container.find('.right .minuteselect').val(), 10);
                    var second = this.timePickerSeconds ? parseInt(this.container.find('.right .secondselect').val(), 10) : 0;
                    date = date.clone().hour(hour).minute(minute).second(second);
                }
                this.setEndDate(date.clone());
                if (this.autoApply)
                    this.clickApply();
            }

            if (this.singleDatePicker) {
                this.setEndDate(this.startDate);
                if (!this.timePicker)
                    this.clickApply();
            }

            this.updateView();

        },

        clickApply: function(e) {
            this.hide();
            this.element.trigger('apply.daterangepicker', this);
        },

        clickCancel: function(e) {
            this.startDate = this.oldStartDate;
            this.endDate = this.oldEndDate;
            this.hide();
            this.element.trigger('cancel.daterangepicker', this);
        },

        monthOrYearChanged: function(e) {
            var isLeft = $(e.target).closest('.calendar').hasClass('left'),
                leftOrRight = isLeft ? 'left' : 'right',
                cal = this.container.find('.calendar.'+leftOrRight);

            // Month must be Number for new moment versions
            var month = parseInt(cal.find('.monthselect').val(), 10);
            var year = cal.find('.yearselect').val();

            if (!isLeft) {
                if (year < this.startDate.year() || (year == this.startDate.year() && month < this.startDate.month())) {
                    month = this.startDate.month();
                    year = this.startDate.year();
                }
            }

            if (this.minDate) {
                if (year < this.minDate.year() || (year == this.minDate.year() && month < this.minDate.month())) {
                    month = this.minDate.month();
                    year = this.minDate.year();
                }
            }

            if (this.maxDate) {
                if (year > this.maxDate.year() || (year == this.maxDate.year() && month > this.maxDate.month())) {
                    month = this.maxDate.month();
                    year = this.maxDate.year();
                }
            }

            if (isLeft) {
                this.leftCalendar.month.month(month).year(year);
                if (this.linkedCalendars)
                    this.rightCalendar.month = this.leftCalendar.month.clone().add(1, 'month');
            } else {
                this.rightCalendar.month.month(month).year(year);
                if (this.linkedCalendars)
                    this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, 'month');
            }
            this.updateCalendars();
        },

        timeChanged: function(e) {

            var cal = $(e.target).closest('.calendar'),
                isLeft = cal.hasClass('left');

            var hour = parseInt(cal.find('.hourselect').val(), 10);
            var minute = parseInt(cal.find('.minuteselect').val(), 10);
            var second = this.timePickerSeconds ? parseInt(cal.find('.secondselect').val(), 10) : 0;

            if (!this.timePicker24Hour) {
                var ampm = cal.find('.ampmselect').val();
                if (ampm === 'PM' && hour < 12)
                    hour += 12;
                if (ampm === 'AM' && hour === 12)
                    hour = 0;
            }

            if (isLeft) {
                var start = this.startDate.clone();
                start.hour(hour);
                start.minute(minute);
                start.second(second);
                this.setStartDate(start);
                if (this.singleDatePicker)
                    this.endDate = this.startDate.clone();
            } else if (this.endDate) {
                var end = this.endDate.clone();
                end.hour(hour);
                end.minute(minute);
                end.second(second);
                this.setEndDate(end);
            }

            //update the calendars so all clickable dates reflect the new time component
            this.updateCalendars();

            //update the form inputs above the calendars with the new time
            this.updateFormInputs();

            //re-render the time pickers because changing one selection can affect what's enabled in another
            this.renderTimePicker('left');
            this.renderTimePicker('right');

        },

        formInputsChanged: function(e) {
            var isRight = $(e.target).closest('.calendar').hasClass('right');
            var start = moment(this.container.find('input[name="daterangepicker_start"]').val(), this.locale.format);
            var end = moment(this.container.find('input[name="daterangepicker_end"]').val(), this.locale.format);

            if (start.isValid() && end.isValid()) {

                if (isRight && end.isBefore(start))
                    start = end.clone();

                this.setStartDate(start);
                this.setEndDate(end);

                if (isRight) {
                    this.container.find('input[name="daterangepicker_start"]').val(this.startDate.format(this.locale.format));
                } else {
                    this.container.find('input[name="daterangepicker_end"]').val(this.endDate.format(this.locale.format));
                }

            }

            this.updateCalendars();
            if (this.timePicker) {
                this.renderTimePicker('left');
                this.renderTimePicker('right');
            }
        },

        elementChanged: function() {
            if (!this.element.is('input')) return;
            if (!this.element.val().length) return;

            var dateString = this.element.val().split(this.locale.separator),
                start = null,
                end = null;

            if (dateString.length === 2) {
                start = moment(dateString[0], this.locale.format);
                end = moment(dateString[1], this.locale.format);
            }

            if (this.singleDatePicker || start === null || end === null) {
                start = moment(this.element.val(), this.locale.format);
                end = start;
            }

            this.setStartDate(start);
            this.setEndDate(end);
            this.updateView();
        },

        keydown: function(e) {
            //hide on tab or enter
            if ((e.keyCode === 9) || (e.keyCode === 13)) {
                this.hide();
            }
        },

        updateElement: function() {
            if (this.element.is('input') && !this.singleDatePicker && this.autoUpdateInput) {
                this.element.val(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format));
                this.element.trigger('change');
            } else if (this.element.is('input') && this.autoUpdateInput) {
                this.element.val(this.startDate.format(this.locale.format));
                this.element.trigger('change');
            }
        },

        remove: function() {
            this.container.remove();
            this.element.off('.daterangepicker');
            this.element.removeData();
        }

    };

    $.fn.daterangepicker = function(options, callback) {
        this.each(function() {
            var el = $(this);
            if (el.data('daterangepicker'))
                el.data('daterangepicker').remove();
            el.data('daterangepicker', new DateRangePicker(el, options, callback));
        });
        return this;
    };

}));
/*
     _ _      _       _
 ___| (_) ___| | __  (_)___
/ __| | |/ __| |/ /  | / __|
\__ \ | | (__|   < _ | \__ \
|___/_|_|\___|_|\_(_)/ |___/
                   |__/

 Version: 1.5.8
  Author: Ken Wheeler
 Website: http://kenwheeler.github.io
    Docs: http://kenwheeler.github.io/slick
    Repo: http://github.com/kenwheeler/slick
  Issues: http://github.com/kenwheeler/slick/issues

 */
/* global window, document, define, jQuery, setInterval, clearInterval */
(function(factory) {
    'use strict';
    if (typeof define === 'function' && define.amd) {
        define(['jquery'], factory);
    } else if (typeof exports !== 'undefined') {
        module.exports = factory(require('jquery'));
    } else {
        factory(jQuery);
    }

}(function($) {
    'use strict';
    var Slick = window.Slick || {};

    Slick = (function() {

        var instanceUid = 0;

        function Slick(element, settings) {

            var _ = this, dataSettings;

            _.defaults = {
                accessibility: true,
                adaptiveHeight: false,
                appendArrows: $(element),
                appendDots: $(element),
                arrows: true,
                asNavFor: null,
                prevArrow: '<button type="button" data-role="none" class="slick-prev" aria-label="Previous" tabindex="0" role="button">Previous</button>',
                nextArrow: '<button type="button" data-role="none" class="slick-next" aria-label="Next" tabindex="0" role="button">Next</button>',
                autoplay: false,
                autoplaySpeed: 3000,
                centerMode: false,
                centerPadding: '50px',
                cssEase: 'ease',
                customPaging: function(slider, i) {
                    return '<button type="button" data-role="none" role="button" aria-required="false" tabindex="0">' + (i + 1) + '</button>';
                },
                dots: false,
                dotsClass: 'slick-dots',
                draggable: true,
                easing: 'linear',
                edgeFriction: 0.35,
                fade: false,
                focusOnSelect: false,
                infinite: true,
                initialSlide: 0,
                lazyLoad: 'ondemand',
                mobileFirst: false,
                pauseOnHover: true,
                pauseOnDotsHover: false,
                respondTo: 'window',
                responsive: null,
                rows: 1,
                rtl: false,
                slide: '',
                slidesPerRow: 1,
                slidesToShow: 1,
                slidesToScroll: 1,
                speed: 500,
                swipe: true,
                swipeToSlide: false,
                touchMove: true,
                touchThreshold: 5,
                useCSS: true,
                variableWidth: false,
                vertical: false,
                verticalSwiping: false,
                waitForAnimate: true,
                zIndex: 1000
            };

            _.initials = {
                animating: false,
                dragging: false,
                autoPlayTimer: null,
                currentDirection: 0,
                currentLeft: null,
                currentSlide: 0,
                direction: 1,
                $dots: null,
                listWidth: null,
                listHeight: null,
                loadIndex: 0,
                $nextArrow: null,
                $prevArrow: null,
                slideCount: null,
                slideWidth: null,
                $slideTrack: null,
                $slides: null,
                sliding: false,
                slideOffset: 0,
                swipeLeft: null,
                $list: null,
                touchObject: {},
                transformsEnabled: false,
                unslicked: false
            };

            $.extend(_, _.initials);

            _.activeBreakpoint = null;
            _.animType = null;
            _.animProp = null;
            _.breakpoints = [];
            _.breakpointSettings = [];
            _.cssTransitions = false;
            _.hidden = 'hidden';
            _.paused = false;
            _.positionProp = null;
            _.respondTo = null;
            _.rowCount = 1;
            _.shouldClick = true;
            _.$slider = $(element);
            _.$slidesCache = null;
            _.transformType = null;
            _.transitionType = null;
            _.visibilityChange = 'visibilitychange';
            _.windowWidth = 0;
            _.windowTimer = null;

            dataSettings = $(element).data('slick') || {};

            _.options = $.extend({}, _.defaults, dataSettings, settings);

            _.currentSlide = _.options.initialSlide;

            _.originalSettings = _.options;

            if (typeof document.mozHidden !== 'undefined') {
                _.hidden = 'mozHidden';
                _.visibilityChange = 'mozvisibilitychange';
            } else if (typeof document.webkitHidden !== 'undefined') {
                _.hidden = 'webkitHidden';
                _.visibilityChange = 'webkitvisibilitychange';
            }

            _.autoPlay = $.proxy(_.autoPlay, _);
            _.autoPlayClear = $.proxy(_.autoPlayClear, _);
            _.changeSlide = $.proxy(_.changeSlide, _);
            _.clickHandler = $.proxy(_.clickHandler, _);
            _.selectHandler = $.proxy(_.selectHandler, _);
            _.setPosition = $.proxy(_.setPosition, _);
            _.swipeHandler = $.proxy(_.swipeHandler, _);
            _.dragHandler = $.proxy(_.dragHandler, _);
            _.keyHandler = $.proxy(_.keyHandler, _);
            _.autoPlayIterator = $.proxy(_.autoPlayIterator, _);

            _.instanceUid = instanceUid++;

            // A simple way to check for HTML strings
            // Strict HTML recognition (must start with <)
            // Extracted from jQuery v1.11 source
            _.htmlExpr = /^(?:\s*(<[\w\W]+>)[^>]*)$/;


            _.registerBreakpoints();
            _.init(true);
            _.checkResponsive(true);

        }

        return Slick;

    }());

    Slick.prototype.addSlide = Slick.prototype.slickAdd = function(markup, index, addBefore) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            addBefore = index;
            index = null;
        } else if (index < 0 || (index >= _.slideCount)) {
            return false;
        }

        _.unload();

        if (typeof(index) === 'number') {
            if (index === 0 && _.$slides.length === 0) {
                $(markup).appendTo(_.$slideTrack);
            } else if (addBefore) {
                $(markup).insertBefore(_.$slides.eq(index));
            } else {
                $(markup).insertAfter(_.$slides.eq(index));
            }
        } else {
            if (addBefore === true) {
                $(markup).prependTo(_.$slideTrack);
            } else {
                $(markup).appendTo(_.$slideTrack);
            }
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slides.each(function(index, element) {
            $(element).attr('data-slick-index', index);
        });

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.animateHeight = function() {
        var _ = this;
        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.animate({
                height: targetHeight
            }, _.options.speed);
        }
    };

    Slick.prototype.animateSlide = function(targetLeft, callback) {

        var animProps = {},
            _ = this;

        _.animateHeight();

        if (_.options.rtl === true && _.options.vertical === false) {
            targetLeft = -targetLeft;
        }
        if (_.transformsEnabled === false) {
            if (_.options.vertical === false) {
                _.$slideTrack.animate({
                    left: targetLeft
                }, _.options.speed, _.options.easing, callback);
            } else {
                _.$slideTrack.animate({
                    top: targetLeft
                }, _.options.speed, _.options.easing, callback);
            }

        } else {

            if (_.cssTransitions === false) {
                if (_.options.rtl === true) {
                    _.currentLeft = -(_.currentLeft);
                }
                $({
                    animStart: _.currentLeft
                }).animate({
                    animStart: targetLeft
                }, {
                    duration: _.options.speed,
                    easing: _.options.easing,
                    step: function(now) {
                        now = Math.ceil(now);
                        if (_.options.vertical === false) {
                            animProps[_.animType] = 'translate(' +
                                now + 'px, 0px)';
                            _.$slideTrack.css(animProps);
                        } else {
                            animProps[_.animType] = 'translate(0px,' +
                                now + 'px)';
                            _.$slideTrack.css(animProps);
                        }
                    },
                    complete: function() {
                        if (callback) {
                            callback.call();
                        }
                    }
                });

            } else {

                _.applyTransition();
                targetLeft = Math.ceil(targetLeft);

                if (_.options.vertical === false) {
                    animProps[_.animType] = 'translate3d(' + targetLeft + 'px, 0px, 0px)';
                } else {
                    animProps[_.animType] = 'translate3d(0px,' + targetLeft + 'px, 0px)';
                }
                _.$slideTrack.css(animProps);

                if (callback) {
                    setTimeout(function() {

                        _.disableTransition();

                        callback.call();
                    }, _.options.speed);
                }

            }

        }

    };

    Slick.prototype.asNavFor = function(index) {

        var _ = this,
            asNavFor = _.options.asNavFor;

        if ( asNavFor && asNavFor !== null ) {
            asNavFor = $(asNavFor).not(_.$slider);
        }

        if ( asNavFor !== null && typeof asNavFor === 'object' ) {
            asNavFor.each(function() {
                var target = $(this).slick('getSlick');
                if(!target.unslicked) {
                    target.slideHandler(index, true);
                }
            });
        }

    };

    Slick.prototype.applyTransition = function(slide) {

        var _ = this,
            transition = {};

        if (_.options.fade === false) {
            transition[_.transitionType] = _.transformType + ' ' + _.options.speed + 'ms ' + _.options.cssEase;
        } else {
            transition[_.transitionType] = 'opacity ' + _.options.speed + 'ms ' + _.options.cssEase;
        }

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.autoPlay = function() {

        var _ = this;

        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

        if (_.slideCount > _.options.slidesToShow && _.paused !== true) {
            _.autoPlayTimer = setInterval(_.autoPlayIterator,
                _.options.autoplaySpeed);
        }

    };

    Slick.prototype.autoPlayClear = function() {

        var _ = this;
        if (_.autoPlayTimer) {
            clearInterval(_.autoPlayTimer);
        }

    };

    Slick.prototype.autoPlayIterator = function() {

        var _ = this;

        if (_.options.infinite === false) {

            if (_.direction === 1) {

                if ((_.currentSlide + 1) === _.slideCount -
                    1) {
                    _.direction = 0;
                }

                _.slideHandler(_.currentSlide + _.options.slidesToScroll);

            } else {

                if ((_.currentSlide - 1 === 0)) {

                    _.direction = 1;

                }

                _.slideHandler(_.currentSlide - _.options.slidesToScroll);

            }

        } else {

            _.slideHandler(_.currentSlide + _.options.slidesToScroll);

        }

    };

    Slick.prototype.buildArrows = function() {

        var _ = this;

        if (_.options.arrows === true ) {

            _.$prevArrow = $(_.options.prevArrow).addClass('slick-arrow');
            _.$nextArrow = $(_.options.nextArrow).addClass('slick-arrow');

            if( _.slideCount > _.options.slidesToShow ) {

                _.$prevArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');
                _.$nextArrow.removeClass('slick-hidden').removeAttr('aria-hidden tabindex');

                if (_.htmlExpr.test(_.options.prevArrow)) {
                    _.$prevArrow.prependTo(_.options.appendArrows);
                }

                if (_.htmlExpr.test(_.options.nextArrow)) {
                    _.$nextArrow.appendTo(_.options.appendArrows);
                }

                if (_.options.infinite !== true) {
                    _.$prevArrow
                        .addClass('slick-disabled')
                        .attr('aria-disabled', 'true');
                }

            } else {

                _.$prevArrow.add( _.$nextArrow )

                    .addClass('slick-hidden')
                    .attr({
                        'aria-disabled': 'true',
                        'tabindex': '-1'
                    });

            }

        }

    };

    Slick.prototype.buildDots = function() {

        var _ = this,
            i, dotString;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            dotString = '<ul class="' + _.options.dotsClass + '">';

            for (i = 0; i <= _.getDotCount(); i += 1) {
                dotString += '<li>' + _.options.customPaging.call(this, _, i) + '</li>';
            }

            dotString += '</ul>';

            _.$dots = $(dotString).appendTo(
                _.options.appendDots);

            _.$dots.find('li').first().addClass('slick-active').attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.buildOut = function() {

        var _ = this;

        _.$slides =
            _.$slider
                .children( _.options.slide + ':not(.slick-cloned)')
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        _.$slides.each(function(index, element) {
            $(element)
                .attr('data-slick-index', index)
                .data('originalStyling', $(element).attr('style') || '');
        });

        _.$slidesCache = _.$slides;

        _.$slider.addClass('slick-slider');

        _.$slideTrack = (_.slideCount === 0) ?
            $('<div class="slick-track"/>').appendTo(_.$slider) :
            _.$slides.wrapAll('<div class="slick-track"/>').parent();

        _.$list = _.$slideTrack.wrap(
            '<div aria-live="polite" class="slick-list"/>').parent();
        _.$slideTrack.css('opacity', 0);

        if (_.options.centerMode === true || _.options.swipeToSlide === true) {
            _.options.slidesToScroll = 1;
        }

        $('img[data-lazy]', _.$slider).not('[src]').addClass('slick-loading');

        _.setupInfinite();

        _.buildArrows();

        _.buildDots();

        _.updateDots();


        _.setSlideClasses(typeof _.currentSlide === 'number' ? _.currentSlide : 0);

        if (_.options.draggable === true) {
            _.$list.addClass('draggable');
        }

    };

    Slick.prototype.buildRows = function() {

        var _ = this, a, b, c, newSlides, numOfSlides, originalSlides,slidesPerSection;

        newSlides = document.createDocumentFragment();
        originalSlides = _.$slider.children();

        if(_.options.rows > 1) {

            slidesPerSection = _.options.slidesPerRow * _.options.rows;
            numOfSlides = Math.ceil(
                originalSlides.length / slidesPerSection
            );

            for(a = 0; a < numOfSlides; a++){
                var slide = document.createElement('div');
                for(b = 0; b < _.options.rows; b++) {
                    var row = document.createElement('div');
                    for(c = 0; c < _.options.slidesPerRow; c++) {
                        var target = (a * slidesPerSection + ((b * _.options.slidesPerRow) + c));
                        if (originalSlides.get(target)) {
                            row.appendChild(originalSlides.get(target));
                        }
                    }
                    slide.appendChild(row);
                }
                newSlides.appendChild(slide);
            }

            _.$slider.html(newSlides);
            _.$slider.children().children().children()
                .css({
                    'width':(100 / _.options.slidesPerRow) + '%',
                    'display': 'inline-block'
                });

        }

    };

    Slick.prototype.checkResponsive = function(initial, forceUpdate) {

        var _ = this,
            breakpoint, targetBreakpoint, respondToWidth, triggerBreakpoint = false;
        var sliderWidth = _.$slider.width();
        var windowWidth = window.innerWidth || $(window).width();

        if (_.respondTo === 'window') {
            respondToWidth = windowWidth;
        } else if (_.respondTo === 'slider') {
            respondToWidth = sliderWidth;
        } else if (_.respondTo === 'min') {
            respondToWidth = Math.min(windowWidth, sliderWidth);
        }

        if ( _.options.responsive &&
            _.options.responsive.length &&
            _.options.responsive !== null) {

            targetBreakpoint = null;

            for (breakpoint in _.breakpoints) {
                if (_.breakpoints.hasOwnProperty(breakpoint)) {
                    if (_.originalSettings.mobileFirst === false) {
                        if (respondToWidth < _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    } else {
                        if (respondToWidth > _.breakpoints[breakpoint]) {
                            targetBreakpoint = _.breakpoints[breakpoint];
                        }
                    }
                }
            }

            if (targetBreakpoint !== null) {
                if (_.activeBreakpoint !== null) {
                    if (targetBreakpoint !== _.activeBreakpoint || forceUpdate) {
                        _.activeBreakpoint =
                            targetBreakpoint;
                        if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                            _.unslick(targetBreakpoint);
                        } else {
                            _.options = $.extend({}, _.originalSettings,
                                _.breakpointSettings[
                                    targetBreakpoint]);
                            if (initial === true) {
                                _.currentSlide = _.options.initialSlide;
                            }
                            _.refresh(initial);
                        }
                        triggerBreakpoint = targetBreakpoint;
                    }
                } else {
                    _.activeBreakpoint = targetBreakpoint;
                    if (_.breakpointSettings[targetBreakpoint] === 'unslick') {
                        _.unslick(targetBreakpoint);
                    } else {
                        _.options = $.extend({}, _.originalSettings,
                            _.breakpointSettings[
                                targetBreakpoint]);
                        if (initial === true) {
                            _.currentSlide = _.options.initialSlide;
                        }
                        _.refresh(initial);
                    }
                    triggerBreakpoint = targetBreakpoint;
                }
            } else {
                if (_.activeBreakpoint !== null) {
                    _.activeBreakpoint = null;
                    _.options = _.originalSettings;
                    if (initial === true) {
                        _.currentSlide = _.options.initialSlide;
                    }
                    _.refresh(initial);
                    triggerBreakpoint = targetBreakpoint;
                }
            }

            // only trigger breakpoints during an actual break. not on initialize.
            if( !initial && triggerBreakpoint !== false ) {
                _.$slider.trigger('breakpoint', [_, triggerBreakpoint]);
            }
        }

    };

    Slick.prototype.changeSlide = function(event, dontAnimate) {

        var _ = this,
            $target = $(event.target),
            indexOffset, slideOffset, unevenOffset;

        // If target is a link, prevent default action.
        if($target.is('a')) {
            event.preventDefault();
        }

        // If target is not the <li> element (ie: a child), find the <li>.
        if(!$target.is('li')) {
            $target = $target.closest('li');
        }

        unevenOffset = (_.slideCount % _.options.slidesToScroll !== 0);
        indexOffset = unevenOffset ? 0 : (_.slideCount - _.currentSlide) % _.options.slidesToScroll;

        switch (event.data.message) {

            case 'previous':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : _.options.slidesToShow - indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide - slideOffset, false, dontAnimate);
                }
                break;

            case 'next':
                slideOffset = indexOffset === 0 ? _.options.slidesToScroll : indexOffset;
                if (_.slideCount > _.options.slidesToShow) {
                    _.slideHandler(_.currentSlide + slideOffset, false, dontAnimate);
                }
                break;

            case 'index':
                var index = event.data.index === 0 ? 0 :
                    event.data.index || $target.index() * _.options.slidesToScroll;

                _.slideHandler(_.checkNavigable(index), false, dontAnimate);
                $target.children().trigger('focus');
                break;

            default:
                return;
        }

    };

    Slick.prototype.checkNavigable = function(index) {

        var _ = this,
            navigables, prevNavigable;

        navigables = _.getNavigableIndexes();
        prevNavigable = 0;
        if (index > navigables[navigables.length - 1]) {
            index = navigables[navigables.length - 1];
        } else {
            for (var n in navigables) {
                if (index < navigables[n]) {
                    index = prevNavigable;
                    break;
                }
                prevNavigable = navigables[n];
            }
        }

        return index;
    };

    Slick.prototype.cleanUpEvents = function() {

        var _ = this;

        if (_.options.dots && _.$dots !== null) {

            $('li', _.$dots).off('click.slick', _.changeSlide);

            if (_.options.pauseOnDotsHover === true && _.options.autoplay === true) {

                $('li', _.$dots)
                    .off('mouseenter.slick', $.proxy(_.setPaused, _, true))
                    .off('mouseleave.slick', $.proxy(_.setPaused, _, false));

            }

        }

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow && _.$prevArrow.off('click.slick', _.changeSlide);
            _.$nextArrow && _.$nextArrow.off('click.slick', _.changeSlide);
        }

        _.$list.off('touchstart.slick mousedown.slick', _.swipeHandler);
        _.$list.off('touchmove.slick mousemove.slick', _.swipeHandler);
        _.$list.off('touchend.slick mouseup.slick', _.swipeHandler);
        _.$list.off('touchcancel.slick mouseleave.slick', _.swipeHandler);

        _.$list.off('click.slick', _.clickHandler);

        $(document).off(_.visibilityChange, _.visibility);

        _.$list.off('mouseenter.slick', $.proxy(_.setPaused, _, true));
        _.$list.off('mouseleave.slick', $.proxy(_.setPaused, _, false));

        if (_.options.accessibility === true) {
            _.$list.off('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().off('click.slick', _.selectHandler);
        }

        $(window).off('orientationchange.slick.slick-' + _.instanceUid, _.orientationChange);

        $(window).off('resize.slick.slick-' + _.instanceUid, _.resize);

        $('[draggable!=true]', _.$slideTrack).off('dragstart', _.preventDefault);

        $(window).off('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).off('ready.slick.slick-' + _.instanceUid, _.setPosition);
    };

    Slick.prototype.cleanUpRows = function() {

        var _ = this, originalSlides;

        if(_.options.rows > 1) {
            originalSlides = _.$slides.children().children();
            originalSlides.removeAttr('style');
            _.$slider.html(originalSlides);
        }

    };

    Slick.prototype.clickHandler = function(event) {

        var _ = this;

        if (_.shouldClick === false) {
            event.stopImmediatePropagation();
            event.stopPropagation();
            event.preventDefault();
        }

    };

    Slick.prototype.destroy = function(refresh) {

        var _ = this;

        _.autoPlayClear();

        _.touchObject = {};

        _.cleanUpEvents();

        $('.slick-cloned', _.$slider).detach();

        if (_.$dots) {
            _.$dots.remove();
        }


        if ( _.$prevArrow && _.$prevArrow.length ) {

            _.$prevArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css("display","");

            if ( _.htmlExpr.test( _.options.prevArrow )) {
                _.$prevArrow.remove();
            }
        }

        if ( _.$nextArrow && _.$nextArrow.length ) {

            _.$nextArrow
                .removeClass('slick-disabled slick-arrow slick-hidden')
                .removeAttr('aria-hidden aria-disabled tabindex')
                .css("display","");

            if ( _.htmlExpr.test( _.options.nextArrow )) {
                _.$nextArrow.remove();
            }

        }


        if (_.$slides) {

            _.$slides
                .removeClass('slick-slide slick-active slick-center slick-visible slick-current')
                .removeAttr('aria-hidden')
                .removeAttr('data-slick-index')
                .each(function(){
                    $(this).attr('style', $(this).data('originalStyling'));
                });

            _.$slideTrack.children(this.options.slide).detach();

            _.$slideTrack.detach();

            _.$list.detach();

            _.$slider.append(_.$slides);
        }

        _.cleanUpRows();

        _.$slider.removeClass('slick-slider');
        _.$slider.removeClass('slick-initialized');

        _.unslicked = true;

        if(!refresh) {
            _.$slider.trigger('destroy', [_]);
        }

    };

    Slick.prototype.disableTransition = function(slide) {

        var _ = this,
            transition = {};

        transition[_.transitionType] = '';

        if (_.options.fade === false) {
            _.$slideTrack.css(transition);
        } else {
            _.$slides.eq(slide).css(transition);
        }

    };

    Slick.prototype.fadeSlide = function(slideIndex, callback) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).css({
                zIndex: _.options.zIndex
            });

            _.$slides.eq(slideIndex).animate({
                opacity: 1
            }, _.options.speed, _.options.easing, callback);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 1,
                zIndex: _.options.zIndex
            });

            if (callback) {
                setTimeout(function() {

                    _.disableTransition(slideIndex);

                    callback.call();
                }, _.options.speed);
            }

        }

    };

    Slick.prototype.fadeSlideOut = function(slideIndex) {

        var _ = this;

        if (_.cssTransitions === false) {

            _.$slides.eq(slideIndex).animate({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            }, _.options.speed, _.options.easing);

        } else {

            _.applyTransition(slideIndex);

            _.$slides.eq(slideIndex).css({
                opacity: 0,
                zIndex: _.options.zIndex - 2
            });

        }

    };

    Slick.prototype.filterSlides = Slick.prototype.slickFilter = function(filter) {

        var _ = this;

        if (filter !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.filter(filter).appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.getCurrent = Slick.prototype.slickCurrentSlide = function() {

        var _ = this;
        return _.currentSlide;

    };

    Slick.prototype.getDotCount = function() {

        var _ = this;

        var breakPoint = 0;
        var counter = 0;
        var pagerQty = 0;

        if (_.options.infinite === true) {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToShow;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        } else if (_.options.centerMode === true) {
            pagerQty = _.slideCount;
        } else {
            while (breakPoint < _.slideCount) {
                ++pagerQty;
                breakPoint = counter + _.options.slidesToShow;
                counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
            }
        }

        return pagerQty - 1;

    };

    Slick.prototype.getLeft = function(slideIndex) {

        var _ = this,
            targetLeft,
            verticalHeight,
            verticalOffset = 0,
            targetSlide;

        _.slideOffset = 0;
        verticalHeight = _.$slides.first().outerHeight(true);

        if (_.options.infinite === true) {
            if (_.slideCount > _.options.slidesToShow) {
                _.slideOffset = (_.slideWidth * _.options.slidesToShow) * -1;
                verticalOffset = (verticalHeight * _.options.slidesToShow) * -1;
            }
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                if (slideIndex + _.options.slidesToScroll > _.slideCount && _.slideCount > _.options.slidesToShow) {
                    if (slideIndex > _.slideCount) {
                        _.slideOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * _.slideWidth) * -1;
                        verticalOffset = ((_.options.slidesToShow - (slideIndex - _.slideCount)) * verticalHeight) * -1;
                    } else {
                        _.slideOffset = ((_.slideCount % _.options.slidesToScroll) * _.slideWidth) * -1;
                        verticalOffset = ((_.slideCount % _.options.slidesToScroll) * verticalHeight) * -1;
                    }
                }
            }
        } else {
            if (slideIndex + _.options.slidesToShow > _.slideCount) {
                _.slideOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * _.slideWidth;
                verticalOffset = ((slideIndex + _.options.slidesToShow) - _.slideCount) * verticalHeight;
            }
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.slideOffset = 0;
            verticalOffset = 0;
        }

        if (_.options.centerMode === true && _.options.infinite === true) {
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2) - _.slideWidth;
        } else if (_.options.centerMode === true) {
            _.slideOffset = 0;
            _.slideOffset += _.slideWidth * Math.floor(_.options.slidesToShow / 2);
        }

        if (_.options.vertical === false) {
            targetLeft = ((slideIndex * _.slideWidth) * -1) + _.slideOffset;
        } else {
            targetLeft = ((slideIndex * verticalHeight) * -1) + verticalOffset;
        }

        if (_.options.variableWidth === true) {

            if (_.slideCount <= _.options.slidesToShow || _.options.infinite === false) {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
            } else {
                targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow);
            }

            targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;

            if (_.options.centerMode === true) {
                if (_.options.infinite === false) {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex);
                } else {
                    targetSlide = _.$slideTrack.children('.slick-slide').eq(slideIndex + _.options.slidesToShow + 1);
                }
                targetLeft = targetSlide[0] ? targetSlide[0].offsetLeft * -1 : 0;
                targetLeft += (_.$list.width() - targetSlide.outerWidth()) / 2;
            }
        }

        return targetLeft;

    };

    Slick.prototype.getOption = Slick.prototype.slickGetOption = function(option) {

        var _ = this;

        return _.options[option];

    };

    Slick.prototype.getNavigableIndexes = function() {

        var _ = this,
            breakPoint = 0,
            counter = 0,
            indexes = [],
            max;

        if (_.options.infinite === false) {
            max = _.slideCount;
        } else {
            breakPoint = _.options.slidesToScroll * -1;
            counter = _.options.slidesToScroll * -1;
            max = _.slideCount * 2;
        }

        while (breakPoint < max) {
            indexes.push(breakPoint);
            breakPoint = counter + _.options.slidesToScroll;
            counter += _.options.slidesToScroll <= _.options.slidesToShow ? _.options.slidesToScroll : _.options.slidesToShow;
        }

        return indexes;

    };

    Slick.prototype.getSlick = function() {

        return this;

    };

    Slick.prototype.getSlideCount = function() {

        var _ = this,
            slidesTraversed, swipedSlide, centerOffset;

        centerOffset = _.options.centerMode === true ? _.slideWidth * Math.floor(_.options.slidesToShow / 2) : 0;

        if (_.options.swipeToSlide === true) {
            _.$slideTrack.find('.slick-slide').each(function(index, slide) {
                if (slide.offsetLeft - centerOffset + ($(slide).outerWidth() / 2) > (_.swipeLeft * -1)) {
                    swipedSlide = slide;
                    return false;
                }
            });

            slidesTraversed = Math.abs($(swipedSlide).attr('data-slick-index') - _.currentSlide) || 1;

            return slidesTraversed;

        } else {
            return _.options.slidesToScroll;
        }

    };

    Slick.prototype.goTo = Slick.prototype.slickGoTo = function(slide, dontAnimate) {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'index',
                index: parseInt(slide)
            }
        }, dontAnimate);

    };

    Slick.prototype.init = function(creation) {

        var _ = this;

        if (!$(_.$slider).hasClass('slick-initialized')) {

            $(_.$slider).addClass('slick-initialized');

            _.buildRows();
            _.buildOut();
            _.setProps();
            _.startLoad();
            _.loadSlider();
            _.initializeEvents();
            _.updateArrows();
            _.updateDots();

        }

        if (creation) {
            _.$slider.trigger('init', [_]);
        }

        if (_.options.accessibility === true) {
            _.initADA();
        }

    };

    Slick.prototype.initArrowEvents = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {
            _.$prevArrow.on('click.slick', {
                message: 'previous'
            }, _.changeSlide);
            _.$nextArrow.on('click.slick', {
                message: 'next'
            }, _.changeSlide);
        }

    };

    Slick.prototype.initDotEvents = function() {

        var _ = this;

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {
            $('li', _.$dots).on('click.slick', {
                message: 'index'
            }, _.changeSlide);
        }

        if (_.options.dots === true && _.options.pauseOnDotsHover === true && _.options.autoplay === true) {
            $('li', _.$dots)
                .on('mouseenter.slick', $.proxy(_.setPaused, _, true))
                .on('mouseleave.slick', $.proxy(_.setPaused, _, false));
        }

    };

    Slick.prototype.initializeEvents = function() {

        var _ = this;

        _.initArrowEvents();

        _.initDotEvents();

        _.$list.on('touchstart.slick mousedown.slick', {
            action: 'start'
        }, _.swipeHandler);
        _.$list.on('touchmove.slick mousemove.slick', {
            action: 'move'
        }, _.swipeHandler);
        _.$list.on('touchend.slick mouseup.slick', {
            action: 'end'
        }, _.swipeHandler);
        _.$list.on('touchcancel.slick mouseleave.slick', {
            action: 'end'
        }, _.swipeHandler);

        _.$list.on('click.slick', _.clickHandler);

        $(document).on(_.visibilityChange, $.proxy(_.visibility, _));

        _.$list.on('mouseenter.slick', $.proxy(_.setPaused, _, true));
        _.$list.on('mouseleave.slick', $.proxy(_.setPaused, _, false));

        if (_.options.accessibility === true) {
            _.$list.on('keydown.slick', _.keyHandler);
        }

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        $(window).on('orientationchange.slick.slick-' + _.instanceUid, $.proxy(_.orientationChange, _));

        $(window).on('resize.slick.slick-' + _.instanceUid, $.proxy(_.resize, _));

        $('[draggable!=true]', _.$slideTrack).on('dragstart', _.preventDefault);

        $(window).on('load.slick.slick-' + _.instanceUid, _.setPosition);
        $(document).on('ready.slick.slick-' + _.instanceUid, _.setPosition);

    };

    Slick.prototype.initUI = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.show();
            _.$nextArrow.show();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.show();

        }

        if (_.options.autoplay === true) {

            _.autoPlay();

        }

    };

    Slick.prototype.keyHandler = function(event) {

        var _ = this;
         //Dont slide if the cursor is inside the form fields and arrow keys are pressed
        if(!event.target.tagName.match('TEXTAREA|INPUT|SELECT')) {
            if (event.keyCode === 37 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: 'previous'
                    }
                });
            } else if (event.keyCode === 39 && _.options.accessibility === true) {
                _.changeSlide({
                    data: {
                        message: 'next'
                    }
                });
            }
        }

    };

    Slick.prototype.lazyLoad = function() {

        var _ = this,
            loadRange, cloneRange, rangeStart, rangeEnd;

        function loadImages(imagesScope) {
            $('img[data-lazy]', imagesScope).each(function() {

                var image = $(this),
                    imageSource = $(this).attr('data-lazy'),
                    imageToLoad = document.createElement('img');

                imageToLoad.onload = function() {
                    image
                        .animate({ opacity: 0 }, 100, function() {
                            image
                                .attr('src', imageSource)
                                .animate({ opacity: 1 }, 200, function() {
                                    image
                                        .removeAttr('data-lazy')
                                        .removeClass('slick-loading');
                                });
                        });
                };

                imageToLoad.src = imageSource;

            });
        }

        if (_.options.centerMode === true) {
            if (_.options.infinite === true) {
                rangeStart = _.currentSlide + (_.options.slidesToShow / 2 + 1);
                rangeEnd = rangeStart + _.options.slidesToShow + 2;
            } else {
                rangeStart = Math.max(0, _.currentSlide - (_.options.slidesToShow / 2 + 1));
                rangeEnd = 2 + (_.options.slidesToShow / 2 + 1) + _.currentSlide;
            }
        } else {
            rangeStart = _.options.infinite ? _.options.slidesToShow + _.currentSlide : _.currentSlide;
            rangeEnd = rangeStart + _.options.slidesToShow;
            if (_.options.fade === true) {
                if (rangeStart > 0) rangeStart--;
                if (rangeEnd <= _.slideCount) rangeEnd++;
            }
        }

        loadRange = _.$slider.find('.slick-slide').slice(rangeStart, rangeEnd);
        loadImages(loadRange);

        if (_.slideCount <= _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-slide');
            loadImages(cloneRange);
        } else
        if (_.currentSlide >= _.slideCount - _.options.slidesToShow) {
            cloneRange = _.$slider.find('.slick-cloned').slice(0, _.options.slidesToShow);
            loadImages(cloneRange);
        } else if (_.currentSlide === 0) {
            cloneRange = _.$slider.find('.slick-cloned').slice(_.options.slidesToShow * -1);
            loadImages(cloneRange);
        }

    };

    Slick.prototype.loadSlider = function() {

        var _ = this;

        _.setPosition();

        _.$slideTrack.css({
            opacity: 1
        });

        _.$slider.removeClass('slick-loading');

        _.initUI();

        if (_.options.lazyLoad === 'progressive') {
            _.progressiveLazyLoad();
        }

    };

    Slick.prototype.next = Slick.prototype.slickNext = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'next'
            }
        });

    };

    Slick.prototype.orientationChange = function() {

        var _ = this;

        _.checkResponsive();
        _.setPosition();

    };

    Slick.prototype.pause = Slick.prototype.slickPause = function() {

        var _ = this;

        _.autoPlayClear();
        _.paused = true;

    };

    Slick.prototype.play = Slick.prototype.slickPlay = function() {

        var _ = this;

        _.paused = false;
        _.autoPlay();

    };

    Slick.prototype.postSlide = function(index) {

        var _ = this;

        _.$slider.trigger('afterChange', [_, index]);

        _.animating = false;

        _.setPosition();

        _.swipeLeft = null;

        if (_.options.autoplay === true && _.paused === false) {
            _.autoPlay();
        }
        if (_.options.accessibility === true) {
            _.initADA();
        }

    };

    Slick.prototype.prev = Slick.prototype.slickPrev = function() {

        var _ = this;

        _.changeSlide({
            data: {
                message: 'previous'
            }
        });

    };

    Slick.prototype.preventDefault = function(event) {
        event.preventDefault();
    };

    Slick.prototype.progressiveLazyLoad = function() {

        var _ = this,
            imgCount, targetImage;

        imgCount = $('img[data-lazy]', _.$slider).length;

        if (imgCount > 0) {
            targetImage = $('img[data-lazy]', _.$slider).first();
            targetImage.attr('src', targetImage.attr('data-lazy')).removeClass('slick-loading').load(function() {
                    targetImage.removeAttr('data-lazy');
                    _.progressiveLazyLoad();

                    if (_.options.adaptiveHeight === true) {
                        _.setPosition();
                    }
                })
                .error(function() {
                    targetImage.removeAttr('data-lazy');
                    _.progressiveLazyLoad();
                });
        }

    };

    Slick.prototype.refresh = function( initializing ) {

        var _ = this,
            currentSlide = _.currentSlide;

        _.destroy(true);

        $.extend(_, _.initials, { currentSlide: currentSlide });

        _.init();

        if( !initializing ) {

            _.changeSlide({
                data: {
                    message: 'index',
                    index: currentSlide
                }
            }, false);

        }

    };

    Slick.prototype.registerBreakpoints = function() {

        var _ = this, breakpoint, currentBreakpoint, l,
            responsiveSettings = _.options.responsive || null;

        if ( $.type(responsiveSettings) === "array" && responsiveSettings.length ) {

            _.respondTo = _.options.respondTo || 'window';

            for ( breakpoint in responsiveSettings ) {

                l = _.breakpoints.length-1;
                currentBreakpoint = responsiveSettings[breakpoint].breakpoint;

                if (responsiveSettings.hasOwnProperty(breakpoint)) {

                    // loop through the breakpoints and cut out any existing
                    // ones with the same breakpoint number, we don't want dupes.
                    while( l >= 0 ) {
                        if( _.breakpoints[l] && _.breakpoints[l] === currentBreakpoint ) {
                            _.breakpoints.splice(l,1);
                        }
                        l--;
                    }

                    _.breakpoints.push(currentBreakpoint);
                    _.breakpointSettings[currentBreakpoint] = responsiveSettings[breakpoint].settings;

                }

            }

            _.breakpoints.sort(function(a, b) {
                return ( _.options.mobileFirst ) ? a-b : b-a;
            });

        }

    };

    Slick.prototype.reinit = function() {

        var _ = this;

        _.$slides =
            _.$slideTrack
                .children(_.options.slide)
                .addClass('slick-slide');

        _.slideCount = _.$slides.length;

        if (_.currentSlide >= _.slideCount && _.currentSlide !== 0) {
            _.currentSlide = _.currentSlide - _.options.slidesToScroll;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            _.currentSlide = 0;
        }

        _.registerBreakpoints();

        _.setProps();
        _.setupInfinite();
        _.buildArrows();
        _.updateArrows();
        _.initArrowEvents();
        _.buildDots();
        _.updateDots();
        _.initDotEvents();

        _.checkResponsive(false, true);

        if (_.options.focusOnSelect === true) {
            $(_.$slideTrack).children().on('click.slick', _.selectHandler);
        }

        _.setSlideClasses(0);

        _.setPosition();

        _.$slider.trigger('reInit', [_]);

        if (_.options.autoplay === true) {
            _.focusHandler();
        }

    };

    Slick.prototype.resize = function() {

        var _ = this;

        if ($(window).width() !== _.windowWidth) {
            clearTimeout(_.windowDelay);
            _.windowDelay = window.setTimeout(function() {
                _.windowWidth = $(window).width();
                _.checkResponsive();
                if( !_.unslicked ) { _.setPosition(); }
            }, 50);
        }
    };

    Slick.prototype.removeSlide = Slick.prototype.slickRemove = function(index, removeBefore, removeAll) {

        var _ = this;

        if (typeof(index) === 'boolean') {
            removeBefore = index;
            index = removeBefore === true ? 0 : _.slideCount - 1;
        } else {
            index = removeBefore === true ? --index : index;
        }

        if (_.slideCount < 1 || index < 0 || index > _.slideCount - 1) {
            return false;
        }

        _.unload();

        if (removeAll === true) {
            _.$slideTrack.children().remove();
        } else {
            _.$slideTrack.children(this.options.slide).eq(index).remove();
        }

        _.$slides = _.$slideTrack.children(this.options.slide);

        _.$slideTrack.children(this.options.slide).detach();

        _.$slideTrack.append(_.$slides);

        _.$slidesCache = _.$slides;

        _.reinit();

    };

    Slick.prototype.setCSS = function(position) {

        var _ = this,
            positionProps = {},
            x, y;

        if (_.options.rtl === true) {
            position = -position;
        }
        x = _.positionProp == 'left' ? Math.ceil(position) + 'px' : '0px';
        y = _.positionProp == 'top' ? Math.ceil(position) + 'px' : '0px';

        positionProps[_.positionProp] = position;

        if (_.transformsEnabled === false) {
            _.$slideTrack.css(positionProps);
        } else {
            positionProps = {};
            if (_.cssTransitions === false) {
                positionProps[_.animType] = 'translate(' + x + ', ' + y + ')';
                _.$slideTrack.css(positionProps);
            } else {
                positionProps[_.animType] = 'translate3d(' + x + ', ' + y + ', 0px)';
                _.$slideTrack.css(positionProps);
            }
        }

    };

    Slick.prototype.setDimensions = function() {

        var _ = this;

        if (_.options.vertical === false) {
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: ('0px ' + _.options.centerPadding)
                });
            }
        } else {
            _.$list.height(_.$slides.first().outerHeight(true) * _.options.slidesToShow);
            if (_.options.centerMode === true) {
                _.$list.css({
                    padding: (_.options.centerPadding + ' 0px')
                });
            }
        }

        _.listWidth = _.$list.width();
        _.listHeight = _.$list.height();


        if (_.options.vertical === false && _.options.variableWidth === false) {
            _.slideWidth = Math.ceil(_.listWidth / _.options.slidesToShow);
            _.$slideTrack.width(Math.ceil((_.slideWidth * _.$slideTrack.children('.slick-slide').length)));

        } else if (_.options.variableWidth === true) {
            _.$slideTrack.width(5000 * _.slideCount);
        } else {
            _.slideWidth = Math.ceil(_.listWidth);
            _.$slideTrack.height(Math.ceil((_.$slides.first().outerHeight(true) * _.$slideTrack.children('.slick-slide').length)));
        }

        var offset = _.$slides.first().outerWidth(true) - _.$slides.first().width();
        if (_.options.variableWidth === false) _.$slideTrack.children('.slick-slide').width(_.slideWidth - offset);

    };

    Slick.prototype.setFade = function() {

        var _ = this,
            targetLeft;

        _.$slides.each(function(index, element) {
            targetLeft = (_.slideWidth * index) * -1;
            if (_.options.rtl === true) {
                $(element).css({
                    position: 'relative',
                    right: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            } else {
                $(element).css({
                    position: 'relative',
                    left: targetLeft,
                    top: 0,
                    zIndex: _.options.zIndex - 2,
                    opacity: 0
                });
            }
        });

        _.$slides.eq(_.currentSlide).css({
            zIndex: _.options.zIndex - 1,
            opacity: 1
        });

    };

    Slick.prototype.setHeight = function() {

        var _ = this;

        if (_.options.slidesToShow === 1 && _.options.adaptiveHeight === true && _.options.vertical === false) {
            var targetHeight = _.$slides.eq(_.currentSlide).outerHeight(true);
            _.$list.css('height', targetHeight);
        }

    };

    Slick.prototype.setOption = Slick.prototype.slickSetOption = function(option, value, refresh) {

        var _ = this, l, item;

        if( option === "responsive" && $.type(value) === "array" ) {
            for ( item in value ) {
                if( $.type( _.options.responsive ) !== "array" ) {
                    _.options.responsive = [ value[item] ];
                } else {
                    l = _.options.responsive.length-1;
                    // loop through the responsive object and splice out duplicates.
                    while( l >= 0 ) {
                        if( _.options.responsive[l].breakpoint === value[item].breakpoint ) {
                            _.options.responsive.splice(l,1);
                        }
                        l--;
                    }
                    _.options.responsive.push( value[item] );
                }
            }
        } else {
            _.options[option] = value;
        }

        if (refresh === true) {
            _.unload();
            _.reinit();
        }

    };

    Slick.prototype.setPosition = function() {

        var _ = this;

        _.setDimensions();

        _.setHeight();

        if (_.options.fade === false) {
            _.setCSS(_.getLeft(_.currentSlide));
        } else {
            _.setFade();
        }

        _.$slider.trigger('setPosition', [_]);

    };

    Slick.prototype.setProps = function() {

        var _ = this,
            bodyStyle = document.body.style;

        _.positionProp = _.options.vertical === true ? 'top' : 'left';

        if (_.positionProp === 'top') {
            _.$slider.addClass('slick-vertical');
        } else {
            _.$slider.removeClass('slick-vertical');
        }

        if (bodyStyle.WebkitTransition !== undefined ||
            bodyStyle.MozTransition !== undefined ||
            bodyStyle.msTransition !== undefined) {
            if (_.options.useCSS === true) {
                _.cssTransitions = true;
            }
        }

        if ( _.options.fade ) {
            if ( typeof _.options.zIndex === 'number' ) {
                if( _.options.zIndex < 3 ) {
                    _.options.zIndex = 3;
                }
            } else {
                _.options.zIndex = _.defaults.zIndex;
            }
        }

        if (bodyStyle.OTransform !== undefined) {
            _.animType = 'OTransform';
            _.transformType = '-o-transform';
            _.transitionType = 'OTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.MozTransform !== undefined) {
            _.animType = 'MozTransform';
            _.transformType = '-moz-transform';
            _.transitionType = 'MozTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.MozPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.webkitTransform !== undefined) {
            _.animType = 'webkitTransform';
            _.transformType = '-webkit-transform';
            _.transitionType = 'webkitTransition';
            if (bodyStyle.perspectiveProperty === undefined && bodyStyle.webkitPerspective === undefined) _.animType = false;
        }
        if (bodyStyle.msTransform !== undefined) {
            _.animType = 'msTransform';
            _.transformType = '-ms-transform';
            _.transitionType = 'msTransition';
            if (bodyStyle.msTransform === undefined) _.animType = false;
        }
        if (bodyStyle.transform !== undefined && _.animType !== false) {
            _.animType = 'transform';
            _.transformType = 'transform';
            _.transitionType = 'transition';
        }
        _.transformsEnabled = (_.animType !== null && _.animType !== false);

    };


    Slick.prototype.setSlideClasses = function(index) {

        var _ = this,
            centerOffset, allSlides, indexOffset, remainder;

        allSlides = _.$slider
            .find('.slick-slide')
            .removeClass('slick-active slick-center slick-current')
            .attr('aria-hidden', 'true');

        _.$slides
            .eq(index)
            .addClass('slick-current');

        if (_.options.centerMode === true) {

            centerOffset = Math.floor(_.options.slidesToShow / 2);

            if (_.options.infinite === true) {

                if (index >= centerOffset && index <= (_.slideCount - 1) - centerOffset) {

                    _.$slides
                        .slice(index - centerOffset, index + centerOffset + 1)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    indexOffset = _.options.slidesToShow + index;
                    allSlides
                        .slice(indexOffset - centerOffset + 1, indexOffset + centerOffset + 2)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

                if (index === 0) {

                    allSlides
                        .eq(allSlides.length - 1 - _.options.slidesToShow)
                        .addClass('slick-center');

                } else if (index === _.slideCount - 1) {

                    allSlides
                        .eq(_.options.slidesToShow)
                        .addClass('slick-center');

                }

            }

            _.$slides
                .eq(index)
                .addClass('slick-center');

        } else {

            if (index >= 0 && index <= (_.slideCount - _.options.slidesToShow)) {

                _.$slides
                    .slice(index, index + _.options.slidesToShow)
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else if (allSlides.length <= _.options.slidesToShow) {

                allSlides
                    .addClass('slick-active')
                    .attr('aria-hidden', 'false');

            } else {

                remainder = _.slideCount % _.options.slidesToShow;
                indexOffset = _.options.infinite === true ? _.options.slidesToShow + index : index;

                if (_.options.slidesToShow == _.options.slidesToScroll && (_.slideCount - index) < _.options.slidesToShow) {

                    allSlides
                        .slice(indexOffset - (_.options.slidesToShow - remainder), indexOffset + remainder)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                } else {

                    allSlides
                        .slice(indexOffset, indexOffset + _.options.slidesToShow)
                        .addClass('slick-active')
                        .attr('aria-hidden', 'false');

                }

            }

        }

        if (_.options.lazyLoad === 'ondemand') {
            _.lazyLoad();
        }

    };

    Slick.prototype.setupInfinite = function() {

        var _ = this,
            i, slideIndex, infiniteCount;

        if (_.options.fade === true) {
            _.options.centerMode = false;
        }

        if (_.options.infinite === true && _.options.fade === false) {

            slideIndex = null;

            if (_.slideCount > _.options.slidesToShow) {

                if (_.options.centerMode === true) {
                    infiniteCount = _.options.slidesToShow + 1;
                } else {
                    infiniteCount = _.options.slidesToShow;
                }

                for (i = _.slideCount; i > (_.slideCount -
                        infiniteCount); i -= 1) {
                    slideIndex = i - 1;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex - _.slideCount)
                        .prependTo(_.$slideTrack).addClass('slick-cloned');
                }
                for (i = 0; i < infiniteCount; i += 1) {
                    slideIndex = i;
                    $(_.$slides[slideIndex]).clone(true).attr('id', '')
                        .attr('data-slick-index', slideIndex + _.slideCount)
                        .appendTo(_.$slideTrack).addClass('slick-cloned');
                }
                _.$slideTrack.find('.slick-cloned').find('[id]').each(function() {
                    $(this).attr('id', '');
                });

            }

        }

    };

    Slick.prototype.setPaused = function(paused) {

        var _ = this;

        if (_.options.autoplay === true && _.options.pauseOnHover === true) {
            _.paused = paused;
            if (!paused) {
                _.autoPlay();
            } else {
                _.autoPlayClear();
            }
        }
    };

    Slick.prototype.selectHandler = function(event) {

        var _ = this;

        var targetElement =
            $(event.target).is('.slick-slide') ?
                $(event.target) :
                $(event.target).parents('.slick-slide');

        var index = parseInt(targetElement.attr('data-slick-index'));

        if (!index) index = 0;

        if (_.slideCount <= _.options.slidesToShow) {

            _.setSlideClasses(index);
            _.asNavFor(index);
            return;

        }

        _.slideHandler(index);

    };

    Slick.prototype.slideHandler = function(index, sync, dontAnimate) {

        var targetSlide, animSlide, oldSlide, slideLeft, targetLeft = null,
            _ = this;

        sync = sync || false;

        if (_.animating === true && _.options.waitForAnimate === true) {
            return;
        }

        if (_.options.fade === true && _.currentSlide === index) {
            return;
        }

        if (_.slideCount <= _.options.slidesToShow) {
            return;
        }

        if (sync === false) {
            _.asNavFor(index);
        }

        targetSlide = index;
        targetLeft = _.getLeft(targetSlide);
        slideLeft = _.getLeft(_.currentSlide);

        _.currentLeft = _.swipeLeft === null ? slideLeft : _.swipeLeft;

        if (_.options.infinite === false && _.options.centerMode === false && (index < 0 || index > _.getDotCount() * _.options.slidesToScroll)) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        } else if (_.options.infinite === false && _.options.centerMode === true && (index < 0 || index > (_.slideCount - _.options.slidesToScroll))) {
            if (_.options.fade === false) {
                targetSlide = _.currentSlide;
                if (dontAnimate !== true) {
                    _.animateSlide(slideLeft, function() {
                        _.postSlide(targetSlide);
                    });
                } else {
                    _.postSlide(targetSlide);
                }
            }
            return;
        }

        if (_.options.autoplay === true) {
            clearInterval(_.autoPlayTimer);
        }

        if (targetSlide < 0) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = _.slideCount - (_.slideCount % _.options.slidesToScroll);
            } else {
                animSlide = _.slideCount + targetSlide;
            }
        } else if (targetSlide >= _.slideCount) {
            if (_.slideCount % _.options.slidesToScroll !== 0) {
                animSlide = 0;
            } else {
                animSlide = targetSlide - _.slideCount;
            }
        } else {
            animSlide = targetSlide;
        }

        _.animating = true;

        _.$slider.trigger('beforeChange', [_, _.currentSlide, animSlide]);

        oldSlide = _.currentSlide;
        _.currentSlide = animSlide;

        _.setSlideClasses(_.currentSlide);

        _.updateDots();
        _.updateArrows();

        if (_.options.fade === true) {
            if (dontAnimate !== true) {

                _.fadeSlideOut(oldSlide);

                _.fadeSlide(animSlide, function() {
                    _.postSlide(animSlide);
                });

            } else {
                _.postSlide(animSlide);
            }
            _.animateHeight();
            return;
        }

        if (dontAnimate !== true) {
            _.animateSlide(targetLeft, function() {
                _.postSlide(animSlide);
            });
        } else {
            _.postSlide(animSlide);
        }

    };

    Slick.prototype.startLoad = function() {

        var _ = this;

        if (_.options.arrows === true && _.slideCount > _.options.slidesToShow) {

            _.$prevArrow.hide();
            _.$nextArrow.hide();

        }

        if (_.options.dots === true && _.slideCount > _.options.slidesToShow) {

            _.$dots.hide();

        }

        _.$slider.addClass('slick-loading');

    };

    Slick.prototype.swipeDirection = function() {

        var xDist, yDist, r, swipeAngle, _ = this;

        xDist = _.touchObject.startX - _.touchObject.curX;
        yDist = _.touchObject.startY - _.touchObject.curY;
        r = Math.atan2(yDist, xDist);

        swipeAngle = Math.round(r * 180 / Math.PI);
        if (swipeAngle < 0) {
            swipeAngle = 360 - Math.abs(swipeAngle);
        }

        if ((swipeAngle <= 45) && (swipeAngle >= 0)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle <= 360) && (swipeAngle >= 315)) {
            return (_.options.rtl === false ? 'left' : 'right');
        }
        if ((swipeAngle >= 135) && (swipeAngle <= 225)) {
            return (_.options.rtl === false ? 'right' : 'left');
        }
        if (_.options.verticalSwiping === true) {
            if ((swipeAngle >= 35) && (swipeAngle <= 135)) {
                return 'left';
            } else {
                return 'right';
            }
        }

        return 'vertical';

    };

    Slick.prototype.swipeEnd = function(event) {

        var _ = this,
            slideCount;

        _.dragging = false;

        _.shouldClick = (_.touchObject.swipeLength > 10) ? false : true;

        if (_.touchObject.curX === undefined) {
            return false;
        }

        if (_.touchObject.edgeHit === true) {
            _.$slider.trigger('edge', [_, _.swipeDirection()]);
        }

        if (_.touchObject.swipeLength >= _.touchObject.minSwipe) {

            switch (_.swipeDirection()) {
                case 'left':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide + _.getSlideCount()) : _.currentSlide + _.getSlideCount();
                    _.slideHandler(slideCount);
                    _.currentDirection = 0;
                    _.touchObject = {};
                    _.$slider.trigger('swipe', [_, 'left']);
                    break;

                case 'right':
                    slideCount = _.options.swipeToSlide ? _.checkNavigable(_.currentSlide - _.getSlideCount()) : _.currentSlide - _.getSlideCount();
                    _.slideHandler(slideCount);
                    _.currentDirection = 1;
                    _.touchObject = {};
                    _.$slider.trigger('swipe', [_, 'right']);
                    break;
            }
        } else {
            if (_.touchObject.startX !== _.touchObject.curX) {
                _.slideHandler(_.currentSlide);
                _.touchObject = {};
            }
        }

    };

    Slick.prototype.swipeHandler = function(event) {

        var _ = this;

        if ((_.options.swipe === false) || ('ontouchend' in document && _.options.swipe === false)) {
            return;
        } else if (_.options.draggable === false && event.type.indexOf('mouse') !== -1) {
            return;
        }

        _.touchObject.fingerCount = event.originalEvent && event.originalEvent.touches !== undefined ?
            event.originalEvent.touches.length : 1;

        _.touchObject.minSwipe = _.listWidth / _.options
            .touchThreshold;

        if (_.options.verticalSwiping === true) {
            _.touchObject.minSwipe = _.listHeight / _.options
                .touchThreshold;
        }

        switch (event.data.action) {

            case 'start':
                _.swipeStart(event);
                break;

            case 'move':
                _.swipeMove(event);
                break;

            case 'end':
                _.swipeEnd(event);
                break;

        }

    };

    Slick.prototype.swipeMove = function(event) {

        var _ = this,
            edgeWasHit = false,
            curLeft, swipeDirection, swipeLength, positionOffset, touches;

        touches = event.originalEvent !== undefined ? event.originalEvent.touches : null;

        if (!_.dragging || touches && touches.length !== 1) {
            return false;
        }

        curLeft = _.getLeft(_.currentSlide);

        _.touchObject.curX = touches !== undefined ? touches[0].pageX : event.clientX;
        _.touchObject.curY = touches !== undefined ? touches[0].pageY : event.clientY;

        _.touchObject.swipeLength = Math.round(Math.sqrt(
            Math.pow(_.touchObject.curX - _.touchObject.startX, 2)));

        if (_.options.verticalSwiping === true) {
            _.touchObject.swipeLength = Math.round(Math.sqrt(
                Math.pow(_.touchObject.curY - _.touchObject.startY, 2)));
        }

        swipeDirection = _.swipeDirection();

        if (swipeDirection === 'vertical') {
            return;
        }

        if (event.originalEvent !== undefined && _.touchObject.swipeLength > 4) {
            event.preventDefault();
        }

        positionOffset = (_.options.rtl === false ? 1 : -1) * (_.touchObject.curX > _.touchObject.startX ? 1 : -1);
        if (_.options.verticalSwiping === true) {
            positionOffset = _.touchObject.curY > _.touchObject.startY ? 1 : -1;
        }


        swipeLength = _.touchObject.swipeLength;

        _.touchObject.edgeHit = false;

        if (_.options.infinite === false) {
            if ((_.currentSlide === 0 && swipeDirection === 'right') || (_.currentSlide >= _.getDotCount() && swipeDirection === 'left')) {
                swipeLength = _.touchObject.swipeLength * _.options.edgeFriction;
                _.touchObject.edgeHit = true;
            }
        }

        if (_.options.vertical === false) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        } else {
            _.swipeLeft = curLeft + (swipeLength * (_.$list.height() / _.listWidth)) * positionOffset;
        }
        if (_.options.verticalSwiping === true) {
            _.swipeLeft = curLeft + swipeLength * positionOffset;
        }

        if (_.options.fade === true || _.options.touchMove === false) {
            return false;
        }

        if (_.animating === true) {
            _.swipeLeft = null;
            return false;
        }

        _.setCSS(_.swipeLeft);

    };

    Slick.prototype.swipeStart = function(event) {

        var _ = this,
            touches;

        if (_.touchObject.fingerCount !== 1 || _.slideCount <= _.options.slidesToShow) {
            _.touchObject = {};
            return false;
        }

        if (event.originalEvent !== undefined && event.originalEvent.touches !== undefined) {
            touches = event.originalEvent.touches[0];
        }

        _.touchObject.startX = _.touchObject.curX = touches !== undefined ? touches.pageX : event.clientX;
        _.touchObject.startY = _.touchObject.curY = touches !== undefined ? touches.pageY : event.clientY;

        _.dragging = true;

    };

    Slick.prototype.unfilterSlides = Slick.prototype.slickUnfilter = function() {

        var _ = this;

        if (_.$slidesCache !== null) {

            _.unload();

            _.$slideTrack.children(this.options.slide).detach();

            _.$slidesCache.appendTo(_.$slideTrack);

            _.reinit();

        }

    };

    Slick.prototype.unload = function() {

        var _ = this;

        $('.slick-cloned', _.$slider).remove();

        if (_.$dots) {
            _.$dots.remove();
        }

        if (_.$prevArrow && _.htmlExpr.test(_.options.prevArrow)) {
            _.$prevArrow.remove();
        }

        if (_.$nextArrow && _.htmlExpr.test(_.options.nextArrow)) {
            _.$nextArrow.remove();
        }

        _.$slides
            .removeClass('slick-slide slick-active slick-visible slick-current')
            .attr('aria-hidden', 'true')
            .css('width', '');

    };

    Slick.prototype.unslick = function(fromBreakpoint) {

        var _ = this;
        _.$slider.trigger('unslick', [_, fromBreakpoint]);
        _.destroy();

    };

    Slick.prototype.updateArrows = function() {

        var _ = this,
            centerOffset;

        centerOffset = Math.floor(_.options.slidesToShow / 2);

        if ( _.options.arrows === true &&
            _.slideCount > _.options.slidesToShow &&
            !_.options.infinite ) {

            _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');
            _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            if (_.currentSlide === 0) {

                _.$prevArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$nextArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - _.options.slidesToShow && _.options.centerMode === false) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            } else if (_.currentSlide >= _.slideCount - 1 && _.options.centerMode === true) {

                _.$nextArrow.addClass('slick-disabled').attr('aria-disabled', 'true');
                _.$prevArrow.removeClass('slick-disabled').attr('aria-disabled', 'false');

            }

        }

    };

    Slick.prototype.updateDots = function() {

        var _ = this;

        if (_.$dots !== null) {

            _.$dots
                .find('li')
                .removeClass('slick-active')
                .attr('aria-hidden', 'true');

            _.$dots
                .find('li')
                .eq(Math.floor(_.currentSlide / _.options.slidesToScroll))
                .addClass('slick-active')
                .attr('aria-hidden', 'false');

        }

    };

    Slick.prototype.visibility = function() {

        var _ = this;

        if (document[_.hidden]) {
            _.paused = true;
            _.autoPlayClear();
        } else {
            if (_.options.autoplay === true) {
                _.paused = false;
                _.autoPlay();
            }
        }

    };
    Slick.prototype.initADA = function() {
        var _ = this;
        _.$slides.add(_.$slideTrack.find('.slick-cloned')).attr({
            'aria-hidden': 'true',
            'tabindex': '-1'
        }).find('a, input, button, select').attr({
            'tabindex': '-1'
        });

        _.$slideTrack.attr('role', 'listbox');

        _.$slides.not(_.$slideTrack.find('.slick-cloned')).each(function(i) {
            $(this).attr({
                'role': 'option',
                'aria-describedby': 'slick-slide' + _.instanceUid + i + ''
            });
        });

        if (_.$dots !== null) {
            _.$dots.attr('role', 'tablist').find('li').each(function(i) {
                $(this).attr({
                    'role': 'presentation',
                    'aria-selected': 'false',
                    'aria-controls': 'navigation' + _.instanceUid + i + '',
                    'id': 'slick-slide' + _.instanceUid + i + ''
                });
            })
                .first().attr('aria-selected', 'true').end()
                .find('button').attr('role', 'button').end()
                .closest('div').attr('role', 'toolbar');
        }
        _.activateADA();

    };

    Slick.prototype.activateADA = function() {
        var _ = this,
        _isSlideOnFocus =_.$slider.find('*').is(':focus');
        // _isSlideOnFocus = _.$slides.is(':focus') || _.$slides.find('*').is(':focus');

        _.$slideTrack.find('.slick-active').attr({
            'aria-hidden': 'false',
            'tabindex': '0'
        }).find('a, input, button, select').attr({
            'tabindex': '0'
        });

        (_isSlideOnFocus) &&  _.$slideTrack.find('.slick-active').focus();

    };

    Slick.prototype.focusHandler = function() {
        var _ = this;
        _.$slider.on('focus.slick blur.slick', '*', function(event) {
            event.stopImmediatePropagation();
            var sf = $(this);
            setTimeout(function() {
                if (_.isPlay) {
                    if (sf.is(':focus')) {
                        _.autoPlayClear();
                        _.paused = true;
                    } else {
                        _.paused = false;
                        _.autoPlay();
                    }
                }
            }, 0);
        });
    };

    $.fn.slick = function() {
        var _ = this,
            opt = arguments[0],
            args = Array.prototype.slice.call(arguments, 1),
            l = _.length,
            i = 0,
            ret;
        for (i; i < l; i++) {
            if (typeof opt == 'object' || typeof opt == 'undefined')
                _[i].slick = new Slick(_[i], opt);
            else
                ret = _[i].slick[opt].apply(_[i].slick, args);
            if (typeof ret != 'undefined') return ret;
        }
        return _;
    };

}));
/*
 * jQuery Cookie Plugin v1.4.1
 * https://github.com/carhartl/jquery-cookie
 *
 * Copyright 2006, 2014 Klaus Hartl
 * Released under the MIT license
 */
(function (factory) {
	if (typeof define === 'function' && define.amd) {
		// AMD (Register as an anonymous module)
		define(['jquery'], factory);
	} else if (typeof exports === 'object') {
		// Node/CommonJS
		module.exports = factory(require('jquery'));
	} else {
		// Browser globals
		factory(jQuery);
	}
}(function ($) {

	var pluses = /\+/g;

	function encode(s) {
		return config.raw ? s : encodeURIComponent(s);
	}

	function decode(s) {
		return config.raw ? s : decodeURIComponent(s);
	}

	function stringifyCookieValue(value) {
		return encode(config.json ? JSON.stringify(value) : String(value));
	}

	function parseCookieValue(s) {
		if (s.indexOf('"') === 0) {
			// This is a quoted cookie as according to RFC2068, unescape...
			s = s.slice(1, -1).replace(/\\"/g, '"').replace(/\\\\/g, '\\');
		}

		try {
			// Replace server-side written pluses with spaces.
			// If we can't decode the cookie, ignore it, it's unusable.
			// If we can't parse the cookie, ignore it, it's unusable.
			s = decodeURIComponent(s.replace(pluses, ' '));
			return config.json ? JSON.parse(s) : s;
		} catch(e) {}
	}

	function read(s, converter) {
		var value = config.raw ? s : parseCookieValue(s);
		return $.isFunction(converter) ? converter(value) : value;
	}

	var config = $.cookie = function (key, value, options) {

		// Write

		if (arguments.length > 1 && !$.isFunction(value)) {
			options = $.extend({}, config.defaults, options);

			if (typeof options.expires === 'number') {
				var days = options.expires, t = options.expires = new Date();
				t.setMilliseconds(t.getMilliseconds() + days * 864e+5);
			}

			return (document.cookie = [
				encode(key), '=', stringifyCookieValue(value),
				options.expires ? '; expires=' + options.expires.toUTCString() : '', // use expires attribute, max-age is not supported by IE
				options.path    ? '; path=' + options.path : '',
				options.domain  ? '; domain=' + options.domain : '',
				options.secure  ? '; secure' : ''
			].join(''));
		}

		// Read

		var result = key ? undefined : {},
			// To prevent the for loop in the first place assign an empty array
			// in case there are no cookies at all. Also prevents odd result when
			// calling $.cookie().
			cookies = document.cookie ? document.cookie.split('; ') : [],
			i = 0,
			l = cookies.length;

		for (; i < l; i++) {
			var parts = cookies[i].split('='),
				name = decode(parts.shift()),
				cookie = parts.join('=');

			if (key === name) {
				// If second argument (value) is a function it's a converter...
				result = read(cookie, value);
				break;
			}

			// Prevent storing a cookie that we couldn't decode.
			if (!key && (cookie = read(cookie)) !== undefined) {
				result[name] = cookie;
			}
		}

		return result;
	};

	config.defaults = {};

	$.removeCookie = function (key, options) {
		// Must not alter options, thus extending a fresh object...
		$.cookie(key, '', $.extend({}, options, { expires: -1 }));
		return !$.cookie(key);
	};

}));

var aia = aia || {};

$(document).ready(function() {
	var screenSmMin = '768px';
	var screenSmallMediaQuery = window.matchMedia('(min-width: ' + screenSmMin + ')');

	setTimeout(resizeCards, 300);
    $(".nav-switch a[data-toggle='tab']").on("click", function(){
        var cards = $('.card-1, .card-3, .card-4, .card-6, .card-9, .card-10, .card-11, .card-12, .card-banner-desc, .press-card');

        // resetting card height
        cards.each(function(i,e) {
            $(e).css("height", "auto");
        });
        setTimeout(resizeCards, 300);
    });

	screenSmallMediaQuery.addListener(screenSmResize);
	// And share the same code to set things up with our current state.
	screenSmResize(screenSmallMediaQuery);

	// card sizing
	var timer;
	$(window).bind('resize',function(){
		timer && clearTimeout(timer);
		timer = setTimeout(function(){
			screenSmResize(screenSmallMediaQuery);
			alignCardHeight();
		},100);
	});
	
	// modified by Adobe
	function screenSmResize(screenSmallMediaQuery) {
	  if (screenSmallMediaQuery.matches) {
	  	resizeCards();
	  }
	  else {
	  	var cards = $('.card-1, .card-3, .card-4, .card-6, .card-9, .card-10, .card-11, .card-12, .card-banner-desc, .press-card');

	  	// resetting card height
		cards.each(function(i,e) {
	  	$(e).css("height", "auto");
		});
	  }
	}
	function resizeCard3() {
        var maxHeight = 0;
        $(".card-3").each(function(i,e) {
          var cardContent = $(e).children(".content");
          if (cardContent.outerHeight() > maxHeight) {
            maxHeight = cardContent.outerHeight();
          };
        });

        $(".card-3").each(function(i,e) {
          $(e).height(maxHeight);
        });
	}

	function resizeCards() {
		var cards = ['.card-1', '.card-4', '.card-6', '.card-9', '.card-10', '.card-11', '.card-12', '.press-card','.card-14'];
		var maxCardBannerDescHeight = 0;
		var cardBannerDesc = $('.card-banner-desc');

		$.each(cards,function(idx,cardType){
			var maxHeight = 0;
			$(cardType).each(function(i,e) {
			  if ($(e).height() > maxHeight) {
				maxHeight = $(e).height();
			  };
			});

			$(cardType).each(function(i,e) {
			  $(e).height(maxHeight);
			});
		});

		cardBannerDesc.each(function(i,e) {
		  if ($(e).height() > maxCardBannerDescHeight) {
		  	maxCardBannerDescHeight = $(e).height();
		  };
		});
		cardBannerDesc.each(function(i,e) {
		  $(e).height(maxCardBannerDescHeight);
		});
		resizeCard3();
		
		// modified by Adobe
		alignCardHeight();
	}
	
	aia.resizeCards = resizeCards;

});

+function ($) {
  'use strict';

  // LIST 2 CLASS DEFINITION
  // ======================
  var List2   = function (el) {
    $(el).on('click', '[data-dismiss="list-2"]', this.close)
  }

  List2.VERSION = '1.0';

  List2.prototype.close = function (e) {
    var $this    = $(this);

    if (e) e.preventDefault();

    var $parent = $this.closest('li');

    $parent.trigger(e = $.Event('close.aia.list-2'));

    if (e.isDefaultPrevented()) return;

    $parent.removeClass('in');

    function removeElement() {
      // detach from parent, fire event then clean up data
      $parent.detach().remove();
    }

    $.support.transition && $parent.hasClass('fade') ?
      $parent
        .one('bsTransitionEnd', removeElement)
        .emulateTransitionEnd(List2.TRANSITION_DURATION) :
      removeElement()
  }


  // List 2 PLUGIN DEFINITION
  // =======================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this);
      var data  = $this.data('bs.list-2');

      if (!data) $this.data('bs.list-2', (data = new List2(this)));
      if (typeof option == 'string') data[option].call($this);
    })
  }

  var old = $.fn.alert

  $.fn.alert             = Plugin;
  $.fn.alert.Constructor = List2;


  // LIST 2 NO CONFLICT
  // =================

  $.fn.alert.noConflict = function () {
    $.fn.alert = old;
    return this;
  }


  // LIST 2 DATA-API
  // ==============

  $('.list-2 > li').on('click.bs.list-2.data-api', '[data-dismiss="list-2"]', List2.prototype.close);
}(jQuery);

/* ========================================================================
 * Bootstrap: offcanvas.js v3.1.3
 * http://jasny.github.io/bootstrap/javascript/#offcanvas
 * ========================================================================
 * Copyright 2013-2014 Arnold Daniels
 *
 * Licensed under the Apache License, Version 2.0 (the "License")
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 * ======================================================================== */

+function ($) { "use strict";

  // OFFCANVAS PUBLIC CLASS DEFINITION
  // =================================

  var OffCanvas = function (element, options) {
    this.$element = $(element)
    this.options  = $.extend({}, OffCanvas.DEFAULTS, options)
    this.state    = null
    this.placement = null
    // TC
    this.$canvasBackdrop = $('.navmenu-backdrop');

    if (this.options.recalc) {
      this.calcClone()
      $(window).on('resize', $.proxy(this.recalc, this))
    }
    if (this.options.autohide)
      $(document).on('click', $.proxy(this.autohide, this))

    if (this.options.toggle) this.toggle()

    if (this.options.disablescrolling) {
        this.options.disableScrolling = this.options.disablescrolling
        delete this.options.disablescrolling
    }
  }

  OffCanvas.DEFAULTS = {
    toggle: true,
    placement: 'auto',
    autohide: true,
    recalc: true,
    disableScrolling: true
  }

  OffCanvas.prototype.offset = function () {
    switch (this.placement) {
      case 'left':
      case 'right':  return this.$element.outerWidth()
      case 'top':
      case 'bottom': return this.$element.outerHeight()
    }
  }

  OffCanvas.prototype.calcPlacement = function () {
    if (this.options.placement !== 'auto') {
        this.placement = this.options.placement
        return
    }

    if (!this.$element.hasClass('in')) {
      this.$element.css('visiblity', 'hidden !important').addClass('in')
    }

    var horizontal = $(window).width() / this.$element.width()
    var vertical = $(window).height() / this.$element.height()

    var element = this.$element
    function ab(a, b) {
      if (element.css(b) === 'auto') return a
      if (element.css(a) === 'auto') return b

      var size_a = parseInt(element.css(a), 10)
      var size_b = parseInt(element.css(b), 10)

      return size_a > size_b ? b : a
    }

    this.placement = horizontal >= vertical ? ab('left', 'right') : ab('top', 'bottom')

    if (this.$element.css('visibility') === 'hidden !important') {
      this.$element.removeClass('in').css('visiblity', '')
    }
  }

  OffCanvas.prototype.opposite = function (placement) {
    switch (placement) {
      case 'top':    return 'bottom'
      case 'left':   return 'right'
      case 'bottom': return 'top'
      case 'right':  return 'left'
    }
  }

  OffCanvas.prototype.getCanvasElements = function() {
    // Return a set containing the canvas plus all fixed elements
    var canvas = this.options.canvas ? $(this.options.canvas) : this.$element

    var fixed_elements = canvas.find('*').filter(function() {
      return $(this).css('position') === 'fixed'
    }).not(this.options.exclude)

    return canvas.add(fixed_elements)
  }

  OffCanvas.prototype.slide = function (elements, offset, callback) {
    // Use jQuery animation if CSS transitions aren't supported
    if (!$.support.transition) {
      var anim = {}
      anim[this.placement] = "+=" + offset
      return elements.animate(anim, 350, callback)
    }

    var placement = this.placement
    var opposite = this.opposite(placement)

    elements.each(function() {
      if ($(this).css(placement) !== 'auto')
        $(this).css(placement, (parseInt($(this).css(placement), 10) || 0) + offset)

      if ($(this).css(opposite) !== 'auto')
        $(this).css(opposite, (parseInt($(this).css(opposite), 10) || 0) - offset)
    })

    this.$element
      .one($.support.transition.end, callback)
      .emulateTransitionEnd(350)
  }

  OffCanvas.prototype.disableScrolling = function() {
    var bodyWidth = $('body').width()
    var prop = 'padding-' + this.opposite(this.placement)

    if ($('body').data('offcanvas-style') === undefined) {
      $('body').data('offcanvas-style', $('body').attr('style') || '')
    }

    // fix bug where iOS scrolling still occurs
    // $('body').css('overflow', 'hidden')
    $('body').addClass('offcanvas-lock').css('position', 'fixed')
    // $('body').addClass('offcanvas-lock').css('overflow', 'hidden')

    if ($('body').width() > bodyWidth) {
      var padding = parseInt($('body').css(prop), 10) + $('body').width() - bodyWidth

      setTimeout(function() {
        $('body').css(prop, padding)
      }, 1)
    }
  }

  OffCanvas.prototype.show = function () {
    if (this.state) return

    var startEvent = $.Event('show.bs.offcanvas')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    this.state = 'slide-in'
    this.calcPlacement();

    var elements = this.getCanvasElements()
    var placement = this.placement
    var opposite = this.opposite(placement)
    var offset = this.offset()

    if (elements.index(this.$element) !== -1) {
      $(this.$element).data('offcanvas-style', $(this.$element).attr('style') || '')
      this.$element.css(placement, -1 * offset)
      this.$element.css(placement); // Workaround: Need to get the CSS property for it to be applied before the next line of code
    }

    elements.addClass('canvas-sliding').each(function() {
      if ($(this).data('offcanvas-style') === undefined) $(this).data('offcanvas-style', $(this).attr('style') || '')
      if ($(this).css('position') === 'static') $(this).css('position', 'relative')
      if (($(this).css(placement) === 'auto' || $(this).css(placement) === '0px') &&
          ($(this).css(opposite) === 'auto' || $(this).css(opposite) === '0px')) {
        $(this).css(placement, 0)
      }
    })

    if (this.options.disableScrolling) this.disableScrolling()

    var complete = function () {
      if (this.state != 'slide-in') return

      this.state = 'slid'

      elements.removeClass('canvas-sliding').addClass('canvas-slid')
      this.$element.trigger('shown.bs.offcanvas')
    }

    setTimeout($.proxy(function() {
      this.$element.addClass('in')
      this.slide(elements, offset, $.proxy(complete, this))
    }, this), 1)
  }

  OffCanvas.prototype.hide = function (fast) {
    if (this.state !== 'slid') return

    var startEvent = $.Event('hide.bs.offcanvas')
    this.$element.trigger(startEvent)
    if (startEvent.isDefaultPrevented()) return

    this.state = 'slide-out'

    var elements = $('.canvas-slid')
    var placement = this.placement
    var offset = -1 * this.offset()

    var complete = function () {
      if (this.state != 'slide-out') return

      this.state = null
      this.placement = null

      this.$element.removeClass('in')

      elements.removeClass('canvas-sliding')
      elements.add(this.$element).add('body').each(function() {
        // fix bug where iOS scrolling still occurs
        $(this).attr('style', $(this).data('offcanvas-style')).removeData('offcanvas-style').removeClass('offcanvas-lock')
      })

      this.$element.trigger('hidden.bs.offcanvas')
    }

    elements.removeClass('canvas-slid').addClass('canvas-sliding')

    setTimeout($.proxy(function() {
      this.slide(elements, offset, $.proxy(complete, this))
    }, this), 1)
  }

  OffCanvas.prototype.toggle = function () {
    if (this.state === 'slide-in' || this.state === 'slide-out') return
    this[this.state === 'slid' ? 'hide' : 'show']()
  }

  OffCanvas.prototype.calcClone = function() {
    this.$calcClone = this.$element.clone()
      .html('')
      .addClass('offcanvas-clone').removeClass('in')
      .appendTo($('body'))
  }

  OffCanvas.prototype.recalc = function () {
    if (this.$calcClone.css('display') === 'none' || (this.state !== 'slid' && this.state !== 'slide-in')) return

    this.state = null
    this.placement = null
    var elements = this.getCanvasElements()

    this.$element.removeClass('in')

    elements.removeClass('canvas-slid')
    elements.add(this.$element).add('body').each(function() {
      // fix bug where iOS scrolling still occurs
      $(this).attr('style', $(this).data('offcanvas-style')).removeData('offcanvas-style').removeClass('offcanvas-lock')
    })
  }

  OffCanvas.prototype.autohide = function (e) {
    if ($(e.target).closest(this.$element).length === 0) this.hide()
  }

  // OFFCANVAS PLUGIN DEFINITION
  // ==========================

  var old = $.fn.offcanvas

  $.fn.offcanvas = function (option) {
    return this.each(function () {
      var $this   = $(this)
      var data    = $this.data('bs.offcanvas')
      var options = $.extend({}, OffCanvas.DEFAULTS, $this.data(), typeof option === 'object' && option)

      if (!data) $this.data('bs.offcanvas', (data = new OffCanvas(this, options)))
      if (typeof option === 'string') data[option]()
    })
  }

  $.fn.offcanvas.Constructor = OffCanvas


  // OFFCANVAS NO CONFLICT
  // ====================

  $.fn.offcanvas.noConflict = function () {
    $.fn.offcanvas = old
    return this
  }


  // OFFCANVAS DATA-API
  // =================

  $(document).on('click.bs.offcanvas.data-api', '[data-toggle=offcanvas]', function (e) {
    var $this   = $(this), href
    var target  = $this.attr('data-target')
        || e.preventDefault()
        || (href = $this.attr('href')) && href.replace(/.*(?=#[^\s]+$)/, '') //strip for ie7
    var $canvas = $(target)
    var data    = $canvas.data('bs.offcanvas')
    var option  = data ? 'toggle' : $this.data()

    e.stopPropagation()

    if (data) data.toggle()
      else $canvas.offcanvas(option)
  })

}(window.jQuery);

var toggleButtons = $('[data-target="toggle-group"]').find(".btn-toggle");

$(toggleButtons).on('click', function() {
  var currentToggleIndex = $(toggleButtons).index(this);
  $(toggleButtons).removeClass("btn-selected");
  $(toggleButtons).eq(currentToggleIndex).addClass("btn-selected");
});
/**
 * Project: Bootstrap Hover Dropdown
 * Author: Cameron Spear
 * Version: v2.1.3
 * Contributors: Mattia Larentis
 * Dependencies: Bootstrap's Dropdown plugin, jQuery
 * Description: A simple plugin to enable Bootstrap dropdowns to active on hover and provide a nice user experience.
 * License: MIT
 * Homepage: http://cameronspear.com/blog/bootstrap-dropdown-on-hover-plugin/
 */
;(function ($, window, undefined) {
    // outside the scope of the jQuery plugin to
    // keep track of all dropdowns
    var $allDropdowns = $();

    // if instantlyCloseOthers is true, then it will instantly
    // shut other nav items when a new one is hovered over
    $.fn.dropdownHover = function (options) {
        // don't do anything if touch is supported
        // (plugin causes some issues on mobile)
        if('ontouchstart' in document) return this; // don't want to affect chaining

        // the element we really care about
        // is the dropdown-toggle's parent
        $navtoolDropdowns = $('.navbar-tools .dropdown');
        $searchDropdown = $('.navbar .search-suggest-box');
        $searchInput = $('[data-id="search-input"]');
        /**
         * added navtool dropdowns, so that they are also cleared on hover (TC)
         */
        $allDropdowns = $allDropdowns.add(this.parent()).add($navtoolDropdowns);

        return this.each(function () {
            var $this = $(this),
                $parent = $this.parent(),
                defaults = {
                    delay: 500,
                    hoverDelay: 0,
                    instantlyCloseOthers: true
                },
                data = {
                    delay: $(this).data('delay'),
                    hoverDelay: $(this).data('hover-delay'),
                    instantlyCloseOthers: $(this).data('close-others')
                },
                showEvent   = 'show.bs.dropdown',
                hideEvent   = 'hide.bs.dropdown',
                // shownEvent  = 'shown.bs.dropdown',
                // hiddenEvent = 'hidden.bs.dropdown',
                settings = $.extend(true, {}, defaults, options, data),
                timeout, timeoutHover;

            $parent.hover(function (event) {
                // so a neighbor can't open the dropdown
                /**
                 * added handling for hovering over children of target (TC)
                 */
                if(!$parent.hasClass('open') && !$this.has(event.target)) {
                    // stop this event, stop executing any code
                    // in this callback but continue to propagate
                    return true;
                }

                openDropdown(event);
            }, function () {
                // clear timer for hover event
                window.clearTimeout(timeoutHover)
                timeout = window.setTimeout(function () {
                    $this.attr('aria-expanded', 'false');
                    $parent.removeClass('open');
                    $this.trigger(hideEvent);
                }, settings.delay);
            });

            // this helps with button groups!
            $this.hover(function (event) {
                // this helps prevent a double event from firing.
                // see https://github.com/CWSpear/bootstrap-hover-dropdown/issues/55
                if(!$parent.hasClass('open') && !$parent.is(event.target)) {

                    // stop this event, stop executing any code
                    // in this callback but continue to propagate
                    return true;
                }

                openDropdown(event);
            });

            // handle submenus
            $parent.find('.dropdown-submenu').each(function (){
                var $this = $(this);
                var subTimeout;
                $this.hover(function () {
                    window.clearTimeout(subTimeout);
                    $this.children('.dropdown-menu').show();
                    // always close submenu siblings instantly
                    $this.siblings().children('.dropdown-menu').hide();
                }, function () {
                    var $submenu = $this.children('.dropdown-menu');
                    subTimeout = window.setTimeout(function () {
                        $submenu.hide();
                    }, settings.delay);
                });
            });

            function openDropdown(event) {
                // clear dropdown timeout here so it doesnt close before it should
                window.clearTimeout(timeout);
                // restart hover timer
                window.clearTimeout(timeoutHover);

                // delay for hover event.
                timeoutHover = window.setTimeout(function () {
                    $allDropdowns.find(':focus').blur();

                    if(settings.instantlyCloseOthers === true) {
                        $allDropdowns.removeClass('open');
                        $searchDropdown.hide();
                        $searchInput.val('');
                    }

                    // clear timer for hover event
                    window.clearTimeout(timeoutHover);
                    $this.attr('aria-expanded', 'true');
                    $parent.addClass('open');
                    $this.trigger(showEvent);
                }, settings.hoverDelay);
            }
        });
    };

    $(document).ready(function () {
        // apply dropdownHover to all elements with the data-hover="dropdown" attribute
        $('[data-hover="dropdown"]').dropdownHover();
    });
})(jQuery, window);

+function ($) { "use strict";
  var Navbar = function(navMenuElement, navBarElement) {
    // caching elements
    this.$window = $(window);
    this.$body = $('body');
    this.$navMenu = $(navMenuElement);
    this.$navBar = $(navBarElement);
    this.$navBarZero = this.$navBar.find('.navbar-zero');
    this.$slimBar = this.$navBar.find('.navbar-slim');
    this.$navDropdowns = this.$navBar.find('.navbar-nav li');
    this.$navDropdownDismissButton = this.$navBar.find('[data-dismiss="navbar-dropdown"]');
    this.$navMenuProfile = this.$navMenu.find('#navmenu-profile');
    this.$navMenuLogin = this.$navMenu.find('#navmenu-login');
    this.$searchInput = this.$navBar.find('[data-id="search-input"]');
    this.$searchResults = this.$navBar.find('.search-suggest-box');
    this.$searchButton = this.$navBar.find('.navbar-search-btn');
    this.$searchDismissButton = this.$navBar.find('.dismiss-search-btn'); // [data-dismiss="navbar-search"]
    this.$searchDropdown = this.$navBar.find('.navbar-search-btn > .dropdown-toggle');
    this.authorizationId = this.getUrlParam('authorizationId'); // for future use
    this.screenSmMin = '768px';
    this.screenSdMin = '1025px';
    this.screenSmallMediaQuery = window.matchMedia('(min-width: ' + this.screenSmMin + ')');
    this.screenShmediumMediaQuery = window.matchMedia('(min-width: ' + this.screenSdMin + ')');
    this.navBarHeight = null;
    this.slimBarHeight = null;
    this.slimY = null;
    this.dy = null;
    this.dyPrev = 0;
    this.navBarOffsetClass = 'navbar-offset-xs';
    this.didScroll = false;
    this.delta = 5;
    this.scrollDetectRefreshInterval = 250;

    // initialization
    this.setElementSizes();

    // listeners
    this.$window.on('scroll.aia.navbar', function(e) { this.didScroll = true; }.bind(this));
    this.screenSmallMediaQuery.addListener(this.setElementSizes.bind(this));
    this.screenShmediumMediaQuery.addListener(this.setElementSizes.bind(this));
    this.$navDropdownDismissButton.on('click.aia.navbar', this.dismissNavDropdown.bind(this));
    this.$searchInput.on('keyup.aia.navbar', this.searchInputKeyed.bind(this));
    this.$searchButton.on('hidden.bs.dropdown', this.hideSearchResults.bind(this));
    this.$searchButton.on('shown.bs.dropdown', function(e) { this.$searchInput.focus(); }.bind(this));
    this.$searchDismissButton.on('click.aia.navbar', this.dismissSearchDropdown.bind(this));

    // scroll detection timer
    this.checkScrollInterval = setInterval(function() {
      if (this.didScroll) {
        this.hasScrolled();
        this.didScroll = false;
      }
    }.bind(this), this.scrollDetectRefreshInterval);
  }

  Navbar.prototype.dismissNavDropdown = function() {
    this.$navDropdowns.removeClass('open');
  }

  Navbar.prototype.searchInputKeyed = function() {
    var val = this.$searchInput.val();
    /*
    if (val.length > 3) {
      this.$searchResults.show();
    } else {
      this.$searchResults.hide();
    }*/
    if (this.navBarOffsetClass === 'navbar-offset-xs') {
      var height = this.$window.height() - this.navBarHeight - 60; // search bar height;
      if (height > this.$searchResults.height()) {
        this.$searchResults.height(height);
      }
    }
  }

  Navbar.prototype.hideSearchResults = function() {
    this.$searchResults.hide();
    this.$searchInput.val('');
    this.$searchInput.blur();
  }

  Navbar.prototype.dismissSearchDropdown = function(e) {
    this.$searchDropdown.dropdown('toggle');
    e.preventDefault();
  }

  /**
   *  Sticky header functions
   */
  Navbar.prototype.setElementSizes = function() {
    this.navBarHeight = this.$navBar.height();
    this.slimBarHeight = this.$slimBar.height();
    this.slimY = this.navBarHeight - this.slimBarHeight;
	
    if (this.screenShmediumMediaQuery.matches) {
      if (this.$navBarZero.length && this.$navBarZero.is(':visible')) {
        this.navBarOffsetClass = 'navbar-offset-sd-zero';
      } else {
        this.navBarOffsetClass = 'navbar-offset-sd';
      }
    } else if (this.screenSmallMediaQuery.matches) {
      this.navBarOffsetClass = 'navbar-offset-sm';
	} else if ($('body.ie8').length>0) { // added ie targeting
		this.navBarOffsetClass = 'navbar-offset-sd';
    } else {
      this.navBarOffsetClass = 'navbar-offset-xs';
    }
    // if in slim state,
    if ((this.$navBar).hasClass('navbar-fixed-slim')) {
      this.$navBar.removeClass('navbar-offset-xs navbar-offset-sm navbar-offset-sd navbar-offset-sd-zero');
      this.$navBar.addClass(this.navBarOffsetClass);
    }
  }

  Navbar.prototype.hoverExpandNavBar = function() {
    if (this.screenShmediumMediaQuery.matches) {
      this.$navBar.removeClass('navbar-fixed-slim');
      this.$navBar.removeClass('navbar-offset-xs navbar-offset-sm navbar-offset-sd navbar-offset-sd-zero');
      this.$navBar.on('mouseleave.aia.navbar', this.hoverShrinkNavbar.bind(this));
    }
  }

  Navbar.prototype.hoverShrinkNavbar = function() {
    this.$navBar.addClass('navbar-fixed-slim').addClass(this.navBarOffsetClass);
    this.$navBar.off('mouseleave.aia.navbar');
  }

  Navbar.prototype.hasScrolled = function() {
    this.dy = this.$window.scrollTop();
    if (Math.abs(this.dyPrev - this.dy) <= this.delta)
      return;

    if (this.dy > this.dyPrev && this.dy > this.slimY) { // scroll down
      // affix slim nav bar
      this.$navBar.addClass('navbar-fixed-slim').addClass(this.navBarOffsetClass);
      this.$slimBar.on('mouseenter.aia.navbar', this.hoverExpandNavBar.bind(this));
    } else { // scroll up
      if ('ontouchstart' in document.documentElement) { // for touch devices
        // affix fat bar
        this.$navBar.removeClass('navbar-fixed-slim');
        this.$navBar.removeClass('navbar-offset-xs navbar-offset-sm navbar-offset-sd navbar-offset-sd-zero');
        this.$slimBar.off('mouseenter.aia.navbar');
      } else if (this.dy < this.slimY) { // 768 and above
        // slim bar to fat bar
        this.$navBar.removeClass('navbar-fixed-slim');
        this.$navBar.removeClass('navbar-offset-xs navbar-offset-sm navbar-offset-sd navbar-offset-sd-zero');
        this.$slimBar.off('mouseenter.aia.navbar');
      } // else keep slim bar
    }
    this.dyPrev = this.dy;
  }


  /**
   *  Pre/Post login functions
   */
  Navbar.prototype.isLoggedIn = function() {
    var isLoggedIn = typeof this.authorizationId !== 'undefined' &&
      this.authorizationId.length > 0 &&
      this.authorizationId !== 'anonymous';
    return isLoggedIn;
  }

  Navbar.prototype.getUrlParam = function(param) {
    var pageUrl = window.location.search.substring(1);
    var urlVariables = pageUrl.split('&');
    for (var i = 0; i < urlVariables.length; i++)
    {
      var paramName = urlVariables[i].split('=');
      if (paramName[0] == param)
      {
          return paramName[1];
      }
    }
  }

  // PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this);
      var data  = $this.data('aia.navbar');
      var options = typeof option == 'object' && option;

      if (!data) $this.data('aia.navbar', (data = new Navbar(this, options)));
      if (typeof option == 'string') data[option].call($this);
    });
  }

  var old = $.fn.navbar;

  $.fn.navbar             = Plugin;
  $.fn.navbar.Constructor = Navbar;


  // NO CONFLICT
  // ===============

  $.fn.navbar.noConflict = function () {
    $.fn.navbar = old;
    return this;
  };


  // DATA-API
  // ============

  var loadNavbarHandler = function() {
    // expect only one instance of navbar
    var $navmenu = $('.navmenu');
    var $navbar = $('.navbar');
    Plugin.call($navmenu, $navbar);
  };

  $(window)
    .on('load.aia.navbar', loadNavbarHandler);
}(jQuery);

$('.premium-timeframe').on('click', function() {
	$('.premium-timeframe').removeClass("red-underline-2px");
	$(this).addClass("red-underline-2px");
  $('#premium-by-timespan-value').text($(this).data("premium"));
});


//inject popup with default value, set initial position, width is not reflected on this.
$(".range-slider input[type=range]").on('touchstart', function(e) {
  var container = $(this)
  ,svg = '<svg class="icon-m hide-on-fallback" role="img" title="accarrowdn-glyph"><use xlink:href="/content/dam/aia/icons/icons.svg#accarrowdn-glyph"></use><image class="icon-fallback" src="/content/dam/aia/icons/glyph/accarrowdn-glyph.png" xlink:href=""></image></svg>'
  ,x = e.originalEvent.touches[0].pageX
  ,bubble = $('<div />', { 'class' : 'bubble' })
      .append($('<div />', { 'class': 'value', 'text' : $(this).val()}))
      .css({left: x})
      .append(svg)
      .insertAfter(container);
});
//update left position offset
$(".range-slider input[type=range]").on('touchmove', function(e) {
  var value= $(this).val()
  ,bubble = $(this).parent().find('.bubble')
  ,x = e.originalEvent.touches[0].pageX;

  bubble.css({left: x - (bubble.outerWidth()/2)});
  bubble.find('.value').text(value);

});
//remove range popup
$(".range-slider input[type=range]").on('touchend', function() {
  $(this).parent().find('.bubble').remove()
});


+function ($) { "use strict";

  // INLINE SEARCHBAR CLASS DEFINITION
  // =========================

	var InlineSearchbar = function(element, options) {
    this.$element = $(element);
    this.options  = options;

    this.$searchInput = $(element).find('input');
    this.$searchSuggestList = $(element).find('[data-id="search-suggest"]');
    this.$searchSuggestListItems = $(element).find('[data-id="search-suggest"] li');

    // listeners
    this.$element.on('keyup.aia.inlinesearchbar', this.keyup.bind(this));
    this.$searchInput.on('keyup.aia.inlinesearchbar', this.didKeySuggestion.bind(this));
    this.$searchInput.on('focusout', this.leave.bind(this));
	};

  InlineSearchbar.VERSION = '1.0';
  InlineSearchbar.DEFAULTS = {};

  InlineSearchbar.prototype.leave = function(e) {
    this.$element.removeClass('open');
    this.$searchSuggestList.hide();
  }

  InlineSearchbar.prototype.keyup = function(e) {
    // 38 up
    // 40 down
    // 27 escape
    // 32 space
    if (!/(38|40|27|32)/.test(e.which)) return;
    var isActive = this.$element.hasClass('open');
    if (!isActive) return;
    if (!this.$searchSuggestListItems.length) return;

    e.preventDefault();
    e.stopPropagation();

    var index = 0;
    if (e.which == 27) {
      this.$element.removeClass('open');
      this.$searchSuggestList.hide();
    }
    // if (this.$searchInput.is(':focus')) {
    //   // debugger;
    //   if (e.which == 38) { // up to last item
    //     index = this.$searchSuggestListItems.length - 1;
    //   }
    //   if (e.which == 40) { // down to first item
    //     index = 0;
    //   }
    // } else { // suggest list is in focus
    //   var index = this.$searchSuggestListItems.index(e.target);
    //   if (e.which == 38 && index > 0) { // up
    //     index--;
    //   }
    //   if (e.which == 40 && this.$searchSuggestListItems.length - 1) { // down to first item
    //     index++;
    //   }
    // }
    // this.$searchSuggestListItems.eq(index).trigger('focus');
  }

  InlineSearchbar.prototype.didKeySuggestion = function(e) {
    // ignore accesibility keys
    if (/(38|40|27)/.test(e.which)) return;

    var val = this.$searchInput.val();
    if (val.length > 4) {
      this.$element.addClass('open');
      this.$searchSuggestList.show();
    } else {
      this.$element.removeClass('open');
      this.$searchSuggestList.hide();
    }
  }

  // PLUGIN DEFINITION
  // =====================

  function Plugin(option) {
    return this.each(function () {
      var $this = $(this);
      var data  = $this.data('aia.inlinesearchbar');

      if (!data) $this.data('aia.inlinesearchbar', (data = new InlineSearchbar(this)));
      if (typeof option == 'string') data[option](); // option is method call
    })
  }

  var old = $.fn.inlinesearchbar;

  $.fn.inlinesearchbar             = Plugin;
  $.fn.inlinesearchbar.Constructor = InlineSearchbar;


  // NO CONFLICT
  // ===============

  $.fn.inlinesearchbar.noConflict = function () {
    $.fn.inlinesearchbar = old;
    return this;
  };
}(jQuery);

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhcmRzLmpzIiwibGlzdC0yLmpzIiwib2ZmY2FudmFzLmpzIiwidG9nZ2xlLWJ1dHRvbnMuanMiLCJuYXZiYXIvYm9vdHN0cmFwLWhvdmVyLWRyb3Bkb3duLWN1c3RvbS5qcyIsIm5hdmJhci9uYXZiYXIuanMiLCJwcmVtaXVtLXF1b3RlL3ByZW1pdW0tcXVvdGUuanMiLCJyYW5nZS1zbGlkZXIvcmFuZ2Utc2xpZGVyLmpzIiwiaW5saW5lLXNlYXJjaGJhci9pbmxpbmUtc2VhcmNoYmFyLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDekRBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN0RUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNwVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUNOQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN6SUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDdk5BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ0xBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FDM0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuXHRyZXNpemVDYXJkcygpO1xuXHR2YXIgc2NyZWVuU21NaW4gPSAnNzY4cHgnO1xuICB2YXIgc2NyZWVuU21hbGxNZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6ICcgKyBzY3JlZW5TbU1pbiArICcpJyk7XG5cblx0c2NyZWVuU21hbGxNZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKHNjcmVlblNtUmVzaXplKTtcblx0Ly8gQW5kIHNoYXJlIHRoZSBzYW1lIGNvZGUgdG8gc2V0IHRoaW5ncyB1cCB3aXRoIG91ciBjdXJyZW50IHN0YXRlLlxuXHRzY3JlZW5TbVJlc2l6ZShzY3JlZW5TbWFsbE1lZGlhUXVlcnkpO1xuXG5cdGZ1bmN0aW9uIHNjcmVlblNtUmVzaXplKHNjcmVlblNtYWxsTWVkaWFRdWVyeSkge1xuXHQgIGlmIChzY3JlZW5TbWFsbE1lZGlhUXVlcnkubWF0Y2hlcykge1xuXHQgIFx0cmVzaXplQ2FyZHMoKTtcblx0ICB9XG5cdCAgZWxzZSB7XG5cdCAgXHR2YXIgY2FyZHMgPSAkKCdbZGF0YS1pZD1cImNhcmRzXCJdJykuZmluZCgnLmNhcmQtMSwgLmNhcmQtMiwgLmNhcmQtMywgLmNhcmQtNCwgLmNhcmQtNiwgLmNhcmQtOSwgLmNhcmQtMTAsIC5jYXJkLTExLCAuY2FyZC0xMiwgLmNhcmQtYmFubmVyLWRlc2MnKTtcblx0XHRcdHZhciBjYXJkQmFubmVyRGVzYyA9ICQoJ1tkYXRhLWlkPVwiY2FyZHNcIl0nKS5maW5kKCcuY2FyZC1iYW5uZXItZGVzYycpO1xuXG5cdCAgXHQvLyByZXNldHRpbmcgY2FyZCBoZWlnaHRcblx0XHRcdGNhcmRzLmVhY2goZnVuY3Rpb24oaSxlKSB7XG5cdFx0ICBcdCQoZSkuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRjYXJkQmFubmVyRGVzYy5lYWNoKGZ1bmN0aW9uKGksZSkge1xuXHRcdCAgXHQkKGUpLmNzcyhcImhlaWdodFwiLCBcImF1dG9cIik7XG5cdFx0XHR9KTtcblx0ICB9XG5cdH1cblxuXHRmdW5jdGlvbiByZXNpemVDYXJkcygpIHtcblxuXHRcdHZhciBtYXhIZWlnaHQgPSAwO1xuXHRcdHZhciBjYXJkcyA9ICQoJ1tkYXRhLWlkPVwiY2FyZHNcIl0nKS5maW5kKCcuY2FyZC0xLCAuY2FyZC0yLCAuY2FyZC0zLCAuY2FyZC00LCAuY2FyZC02LCAuY2FyZC05LCAuY2FyZC0xMCwgLmNhcmQtMTEsIC5jYXJkLTEyJyk7XG5cdFx0dmFyIG1heENhcmRCYW5uZXJEZXNjSGVpZ2h0ID0gMDtcblx0XHR2YXIgY2FyZEJhbm5lckRlc2MgPSAkKCdbZGF0YS1pZD1cImNhcmRzXCJdJykuZmluZCgnLmNhcmQtYmFubmVyLWRlc2MnKTtcblxuXHRcdC8vIGNvbnNvbGUubG9nKHdpbmRvdy5vdXRlcldpZHRoKTtcblxuXHRcdGNhcmRzLmVhY2goZnVuY3Rpb24oaSxlKSB7XG5cdFx0ICBpZiAoJChlKS5oZWlnaHQoKSA+IG1heEhlaWdodCkge1xuXHRcdCAgXHRtYXhIZWlnaHQgPSAkKGUpLmhlaWdodCgpO1xuXHRcdCAgfTtcblx0XHR9KTtcblxuXHRcdGNhcmRzLmVhY2goZnVuY3Rpb24oaSxlKSB7XG5cdFx0ICAkKGUpLmhlaWdodChtYXhIZWlnaHQpO1xuXHRcdH0pO1xuXG5cdFx0Y2FyZEJhbm5lckRlc2MuZWFjaChmdW5jdGlvbihpLGUpIHtcblx0XHQgIGlmICgkKGUpLmhlaWdodCgpID4gbWF4Q2FyZEJhbm5lckRlc2NIZWlnaHQpIHtcblx0XHQgIFx0bWF4Q2FyZEJhbm5lckRlc2NIZWlnaHQgPSAkKGUpLmhlaWdodCgpO1xuXHRcdCAgfTtcblx0XHR9KTtcblx0XHRjYXJkQmFubmVyRGVzYy5lYWNoKGZ1bmN0aW9uKGksZSkge1xuXHRcdCAgJChlKS5oZWlnaHQobWF4Q2FyZEJhbm5lckRlc2NIZWlnaHQpO1xuXHRcdH0pO1xuXHR9XG59KTtcbiIsIitmdW5jdGlvbiAoJCkge1xuICAndXNlIHN0cmljdCc7XG5cbiAgLy8gTElTVCAyIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PVxuICB2YXIgTGlzdDIgICA9IGZ1bmN0aW9uIChlbCkge1xuICAgICQoZWwpLm9uKCdjbGljaycsICdbZGF0YS1kaXNtaXNzPVwibGlzdC0yXCJdJywgdGhpcy5jbG9zZSlcbiAgfVxuXG4gIExpc3QyLlZFUlNJT04gPSAnMS4wJztcblxuICBMaXN0Mi5wcm90b3R5cGUuY2xvc2UgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgICA9ICQodGhpcyk7XG5cbiAgICBpZiAoZSkgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdmFyICRwYXJlbnQgPSAkdGhpcy5jbG9zZXN0KCdsaScpO1xuXG4gICAgJHBhcmVudC50cmlnZ2VyKGUgPSAkLkV2ZW50KCdjbG9zZS5haWEubGlzdC0yJykpO1xuXG4gICAgaWYgKGUuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVybjtcblxuICAgICRwYXJlbnQucmVtb3ZlQ2xhc3MoJ2luJyk7XG5cbiAgICBmdW5jdGlvbiByZW1vdmVFbGVtZW50KCkge1xuICAgICAgLy8gZGV0YWNoIGZyb20gcGFyZW50LCBmaXJlIGV2ZW50IHRoZW4gY2xlYW4gdXAgZGF0YVxuICAgICAgJHBhcmVudC5kZXRhY2goKS5yZW1vdmUoKTtcbiAgICB9XG5cbiAgICAkLnN1cHBvcnQudHJhbnNpdGlvbiAmJiAkcGFyZW50Lmhhc0NsYXNzKCdmYWRlJykgP1xuICAgICAgJHBhcmVudFxuICAgICAgICAub25lKCdic1RyYW5zaXRpb25FbmQnLCByZW1vdmVFbGVtZW50KVxuICAgICAgICAuZW11bGF0ZVRyYW5zaXRpb25FbmQoTGlzdDIuVFJBTlNJVElPTl9EVVJBVElPTikgOlxuICAgICAgcmVtb3ZlRWxlbWVudCgpXG4gIH1cblxuXG4gIC8vIExpc3QgMiBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PVxuXG4gIGZ1bmN0aW9uIFBsdWdpbihvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICB2YXIgZGF0YSAgPSAkdGhpcy5kYXRhKCdicy5saXN0LTInKTtcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5saXN0LTInLCAoZGF0YSA9IG5ldyBMaXN0Mih0aGlzKSkpO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT0gJ3N0cmluZycpIGRhdGFbb3B0aW9uXS5jYWxsKCR0aGlzKTtcbiAgICB9KVxuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4uYWxlcnRcblxuICAkLmZuLmFsZXJ0ICAgICAgICAgICAgID0gUGx1Z2luO1xuICAkLmZuLmFsZXJ0LkNvbnN0cnVjdG9yID0gTGlzdDI7XG5cblxuICAvLyBMSVNUIDIgTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09PT1cblxuICAkLmZuLmFsZXJ0Lm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5hbGVydCA9IG9sZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG5cbiAgLy8gTElTVCAyIERBVEEtQVBJXG4gIC8vID09PT09PT09PT09PT09XG5cbiAgJCgnLmxpc3QtMiA+IGxpJykub24oJ2NsaWNrLmJzLmxpc3QtMi5kYXRhLWFwaScsICdbZGF0YS1kaXNtaXNzPVwibGlzdC0yXCJdJywgTGlzdDIucHJvdG90eXBlLmNsb3NlKTtcbn0oalF1ZXJ5KTtcbiIsIi8qID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQm9vdHN0cmFwOiBvZmZjYW52YXMuanMgdjMuMS4zXG4gKiBodHRwOi8vamFzbnkuZ2l0aHViLmlvL2Jvb3RzdHJhcC9qYXZhc2NyaXB0LyNvZmZjYW52YXNcbiAqID09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxuICogQ29weXJpZ2h0IDIwMTMtMjAxNCBBcm5vbGQgRGFuaWVsc1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIilcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKiA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0gKi9cblxuK2Z1bmN0aW9uICgkKSB7IFwidXNlIHN0cmljdFwiO1xuXG4gIC8vIE9GRkNBTlZBUyBQVUJMSUMgQ0xBU1MgREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgT2ZmQ2FudmFzID0gZnVuY3Rpb24gKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICB0aGlzLiRlbGVtZW50ID0gJChlbGVtZW50KVxuICAgIHRoaXMub3B0aW9ucyAgPSAkLmV4dGVuZCh7fSwgT2ZmQ2FudmFzLkRFRkFVTFRTLCBvcHRpb25zKVxuICAgIHRoaXMuc3RhdGUgICAgPSBudWxsXG4gICAgdGhpcy5wbGFjZW1lbnQgPSBudWxsXG4gICAgLy8gVENcbiAgICB0aGlzLiRjYW52YXNCYWNrZHJvcCA9ICQoJy5uYXZtZW51LWJhY2tkcm9wJyk7XG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnJlY2FsYykge1xuICAgICAgdGhpcy5jYWxjQ2xvbmUoKVxuICAgICAgJCh3aW5kb3cpLm9uKCdyZXNpemUnLCAkLnByb3h5KHRoaXMucmVjYWxjLCB0aGlzKSlcbiAgICB9XG4gICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvaGlkZSlcbiAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICQucHJveHkodGhpcy5hdXRvaGlkZSwgdGhpcykpXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLnRvZ2dsZSkgdGhpcy50b2dnbGUoKVxuXG4gICAgaWYgKHRoaXMub3B0aW9ucy5kaXNhYmxlc2Nyb2xsaW5nKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kaXNhYmxlU2Nyb2xsaW5nID0gdGhpcy5vcHRpb25zLmRpc2FibGVzY3JvbGxpbmdcbiAgICAgICAgZGVsZXRlIHRoaXMub3B0aW9ucy5kaXNhYmxlc2Nyb2xsaW5nXG4gICAgfVxuICB9XG5cbiAgT2ZmQ2FudmFzLkRFRkFVTFRTID0ge1xuICAgIHRvZ2dsZTogdHJ1ZSxcbiAgICBwbGFjZW1lbnQ6ICdhdXRvJyxcbiAgICBhdXRvaGlkZTogdHJ1ZSxcbiAgICByZWNhbGM6IHRydWUsXG4gICAgZGlzYWJsZVNjcm9sbGluZzogdHJ1ZVxuICB9XG5cbiAgT2ZmQ2FudmFzLnByb3RvdHlwZS5vZmZzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgc3dpdGNoICh0aGlzLnBsYWNlbWVudCkge1xuICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICBjYXNlICdyaWdodCc6ICByZXR1cm4gdGhpcy4kZWxlbWVudC5vdXRlcldpZHRoKClcbiAgICAgIGNhc2UgJ3RvcCc6XG4gICAgICBjYXNlICdib3R0b20nOiByZXR1cm4gdGhpcy4kZWxlbWVudC5vdXRlckhlaWdodCgpXG4gICAgfVxuICB9XG5cbiAgT2ZmQ2FudmFzLnByb3RvdHlwZS5jYWxjUGxhY2VtZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLm9wdGlvbnMucGxhY2VtZW50ICE9PSAnYXV0bycpIHtcbiAgICAgICAgdGhpcy5wbGFjZW1lbnQgPSB0aGlzLm9wdGlvbnMucGxhY2VtZW50XG4gICAgICAgIHJldHVyblxuICAgIH1cblxuICAgIGlmICghdGhpcy4kZWxlbWVudC5oYXNDbGFzcygnaW4nKSkge1xuICAgICAgdGhpcy4kZWxlbWVudC5jc3MoJ3Zpc2libGl0eScsICdoaWRkZW4gIWltcG9ydGFudCcpLmFkZENsYXNzKCdpbicpXG4gICAgfVxuXG4gICAgdmFyIGhvcml6b250YWwgPSAkKHdpbmRvdykud2lkdGgoKSAvIHRoaXMuJGVsZW1lbnQud2lkdGgoKVxuICAgIHZhciB2ZXJ0aWNhbCA9ICQod2luZG93KS5oZWlnaHQoKSAvIHRoaXMuJGVsZW1lbnQuaGVpZ2h0KClcblxuICAgIHZhciBlbGVtZW50ID0gdGhpcy4kZWxlbWVudFxuICAgIGZ1bmN0aW9uIGFiKGEsIGIpIHtcbiAgICAgIGlmIChlbGVtZW50LmNzcyhiKSA9PT0gJ2F1dG8nKSByZXR1cm4gYVxuICAgICAgaWYgKGVsZW1lbnQuY3NzKGEpID09PSAnYXV0bycpIHJldHVybiBiXG5cbiAgICAgIHZhciBzaXplX2EgPSBwYXJzZUludChlbGVtZW50LmNzcyhhKSwgMTApXG4gICAgICB2YXIgc2l6ZV9iID0gcGFyc2VJbnQoZWxlbWVudC5jc3MoYiksIDEwKVxuXG4gICAgICByZXR1cm4gc2l6ZV9hID4gc2l6ZV9iID8gYiA6IGFcbiAgICB9XG5cbiAgICB0aGlzLnBsYWNlbWVudCA9IGhvcml6b250YWwgPj0gdmVydGljYWwgPyBhYignbGVmdCcsICdyaWdodCcpIDogYWIoJ3RvcCcsICdib3R0b20nKVxuXG4gICAgaWYgKHRoaXMuJGVsZW1lbnQuY3NzKCd2aXNpYmlsaXR5JykgPT09ICdoaWRkZW4gIWltcG9ydGFudCcpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQucmVtb3ZlQ2xhc3MoJ2luJykuY3NzKCd2aXNpYmxpdHknLCAnJylcbiAgICB9XG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLm9wcG9zaXRlID0gZnVuY3Rpb24gKHBsYWNlbWVudCkge1xuICAgIHN3aXRjaCAocGxhY2VtZW50KSB7XG4gICAgICBjYXNlICd0b3AnOiAgICByZXR1cm4gJ2JvdHRvbSdcbiAgICAgIGNhc2UgJ2xlZnQnOiAgIHJldHVybiAncmlnaHQnXG4gICAgICBjYXNlICdib3R0b20nOiByZXR1cm4gJ3RvcCdcbiAgICAgIGNhc2UgJ3JpZ2h0JzogIHJldHVybiAnbGVmdCdcbiAgICB9XG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLmdldENhbnZhc0VsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgLy8gUmV0dXJuIGEgc2V0IGNvbnRhaW5pbmcgdGhlIGNhbnZhcyBwbHVzIGFsbCBmaXhlZCBlbGVtZW50c1xuICAgIHZhciBjYW52YXMgPSB0aGlzLm9wdGlvbnMuY2FudmFzID8gJCh0aGlzLm9wdGlvbnMuY2FudmFzKSA6IHRoaXMuJGVsZW1lbnRcblxuICAgIHZhciBmaXhlZF9lbGVtZW50cyA9IGNhbnZhcy5maW5kKCcqJykuZmlsdGVyKGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuICQodGhpcykuY3NzKCdwb3NpdGlvbicpID09PSAnZml4ZWQnXG4gICAgfSkubm90KHRoaXMub3B0aW9ucy5leGNsdWRlKVxuXG4gICAgcmV0dXJuIGNhbnZhcy5hZGQoZml4ZWRfZWxlbWVudHMpXG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLnNsaWRlID0gZnVuY3Rpb24gKGVsZW1lbnRzLCBvZmZzZXQsIGNhbGxiYWNrKSB7XG4gICAgLy8gVXNlIGpRdWVyeSBhbmltYXRpb24gaWYgQ1NTIHRyYW5zaXRpb25zIGFyZW4ndCBzdXBwb3J0ZWRcbiAgICBpZiAoISQuc3VwcG9ydC50cmFuc2l0aW9uKSB7XG4gICAgICB2YXIgYW5pbSA9IHt9XG4gICAgICBhbmltW3RoaXMucGxhY2VtZW50XSA9IFwiKz1cIiArIG9mZnNldFxuICAgICAgcmV0dXJuIGVsZW1lbnRzLmFuaW1hdGUoYW5pbSwgMzUwLCBjYWxsYmFjaylcbiAgICB9XG5cbiAgICB2YXIgcGxhY2VtZW50ID0gdGhpcy5wbGFjZW1lbnRcbiAgICB2YXIgb3Bwb3NpdGUgPSB0aGlzLm9wcG9zaXRlKHBsYWNlbWVudClcblxuICAgIGVsZW1lbnRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJCh0aGlzKS5jc3MocGxhY2VtZW50KSAhPT0gJ2F1dG8nKVxuICAgICAgICAkKHRoaXMpLmNzcyhwbGFjZW1lbnQsIChwYXJzZUludCgkKHRoaXMpLmNzcyhwbGFjZW1lbnQpLCAxMCkgfHwgMCkgKyBvZmZzZXQpXG5cbiAgICAgIGlmICgkKHRoaXMpLmNzcyhvcHBvc2l0ZSkgIT09ICdhdXRvJylcbiAgICAgICAgJCh0aGlzKS5jc3Mob3Bwb3NpdGUsIChwYXJzZUludCgkKHRoaXMpLmNzcyhvcHBvc2l0ZSksIDEwKSB8fCAwKSAtIG9mZnNldClcbiAgICB9KVxuXG4gICAgdGhpcy4kZWxlbWVudFxuICAgICAgLm9uZSgkLnN1cHBvcnQudHJhbnNpdGlvbi5lbmQsIGNhbGxiYWNrKVxuICAgICAgLmVtdWxhdGVUcmFuc2l0aW9uRW5kKDM1MClcbiAgfVxuXG4gIE9mZkNhbnZhcy5wcm90b3R5cGUuZGlzYWJsZVNjcm9sbGluZyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib2R5V2lkdGggPSAkKCdib2R5Jykud2lkdGgoKVxuICAgIHZhciBwcm9wID0gJ3BhZGRpbmctJyArIHRoaXMub3Bwb3NpdGUodGhpcy5wbGFjZW1lbnQpXG5cbiAgICBpZiAoJCgnYm9keScpLmRhdGEoJ29mZmNhbnZhcy1zdHlsZScpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICQoJ2JvZHknKS5kYXRhKCdvZmZjYW52YXMtc3R5bGUnLCAkKCdib2R5JykuYXR0cignc3R5bGUnKSB8fCAnJylcbiAgICB9XG5cbiAgICAvLyBmaXggYnVnIHdoZXJlIGlPUyBzY3JvbGxpbmcgc3RpbGwgb2NjdXJzXG4gICAgLy8gJCgnYm9keScpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJylcbiAgICAkKCdib2R5JykuYWRkQ2xhc3MoJ29mZmNhbnZhcy1sb2NrJykuY3NzKCdwb3NpdGlvbicsICdmaXhlZCcpXG4gICAgLy8gJCgnYm9keScpLmFkZENsYXNzKCdvZmZjYW52YXMtbG9jaycpLmNzcygnb3ZlcmZsb3cnLCAnaGlkZGVuJylcblxuICAgIGlmICgkKCdib2R5Jykud2lkdGgoKSA+IGJvZHlXaWR0aCkge1xuICAgICAgdmFyIHBhZGRpbmcgPSBwYXJzZUludCgkKCdib2R5JykuY3NzKHByb3ApLCAxMCkgKyAkKCdib2R5Jykud2lkdGgoKSAtIGJvZHlXaWR0aFxuXG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAkKCdib2R5JykuY3NzKHByb3AsIHBhZGRpbmcpXG4gICAgICB9LCAxKVxuICAgIH1cbiAgfVxuXG4gIE9mZkNhbnZhcy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSkgcmV0dXJuXG5cbiAgICB2YXIgc3RhcnRFdmVudCA9ICQuRXZlbnQoJ3Nob3cuYnMub2ZmY2FudmFzJylcbiAgICB0aGlzLiRlbGVtZW50LnRyaWdnZXIoc3RhcnRFdmVudClcbiAgICBpZiAoc3RhcnRFdmVudC5pc0RlZmF1bHRQcmV2ZW50ZWQoKSkgcmV0dXJuXG5cbiAgICB0aGlzLnN0YXRlID0gJ3NsaWRlLWluJ1xuICAgIHRoaXMuY2FsY1BsYWNlbWVudCgpO1xuXG4gICAgdmFyIGVsZW1lbnRzID0gdGhpcy5nZXRDYW52YXNFbGVtZW50cygpXG4gICAgdmFyIHBsYWNlbWVudCA9IHRoaXMucGxhY2VtZW50XG4gICAgdmFyIG9wcG9zaXRlID0gdGhpcy5vcHBvc2l0ZShwbGFjZW1lbnQpXG4gICAgdmFyIG9mZnNldCA9IHRoaXMub2Zmc2V0KClcblxuICAgIGlmIChlbGVtZW50cy5pbmRleCh0aGlzLiRlbGVtZW50KSAhPT0gLTEpIHtcbiAgICAgICQodGhpcy4kZWxlbWVudCkuZGF0YSgnb2ZmY2FudmFzLXN0eWxlJywgJCh0aGlzLiRlbGVtZW50KS5hdHRyKCdzdHlsZScpIHx8ICcnKVxuICAgICAgdGhpcy4kZWxlbWVudC5jc3MocGxhY2VtZW50LCAtMSAqIG9mZnNldClcbiAgICAgIHRoaXMuJGVsZW1lbnQuY3NzKHBsYWNlbWVudCk7IC8vIFdvcmthcm91bmQ6IE5lZWQgdG8gZ2V0IHRoZSBDU1MgcHJvcGVydHkgZm9yIGl0IHRvIGJlIGFwcGxpZWQgYmVmb3JlIHRoZSBuZXh0IGxpbmUgb2YgY29kZVxuICAgIH1cblxuICAgIGVsZW1lbnRzLmFkZENsYXNzKCdjYW52YXMtc2xpZGluZycpLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoJCh0aGlzKS5kYXRhKCdvZmZjYW52YXMtc3R5bGUnKSA9PT0gdW5kZWZpbmVkKSAkKHRoaXMpLmRhdGEoJ29mZmNhbnZhcy1zdHlsZScsICQodGhpcykuYXR0cignc3R5bGUnKSB8fCAnJylcbiAgICAgIGlmICgkKHRoaXMpLmNzcygncG9zaXRpb24nKSA9PT0gJ3N0YXRpYycpICQodGhpcykuY3NzKCdwb3NpdGlvbicsICdyZWxhdGl2ZScpXG4gICAgICBpZiAoKCQodGhpcykuY3NzKHBsYWNlbWVudCkgPT09ICdhdXRvJyB8fCAkKHRoaXMpLmNzcyhwbGFjZW1lbnQpID09PSAnMHB4JykgJiZcbiAgICAgICAgICAoJCh0aGlzKS5jc3Mob3Bwb3NpdGUpID09PSAnYXV0bycgfHwgJCh0aGlzKS5jc3Mob3Bwb3NpdGUpID09PSAnMHB4JykpIHtcbiAgICAgICAgJCh0aGlzKS5jc3MocGxhY2VtZW50LCAwKVxuICAgICAgfVxuICAgIH0pXG5cbiAgICBpZiAodGhpcy5vcHRpb25zLmRpc2FibGVTY3JvbGxpbmcpIHRoaXMuZGlzYWJsZVNjcm9sbGluZygpXG5cbiAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAodGhpcy5zdGF0ZSAhPSAnc2xpZGUtaW4nKSByZXR1cm5cblxuICAgICAgdGhpcy5zdGF0ZSA9ICdzbGlkJ1xuXG4gICAgICBlbGVtZW50cy5yZW1vdmVDbGFzcygnY2FudmFzLXNsaWRpbmcnKS5hZGRDbGFzcygnY2FudmFzLXNsaWQnKVxuICAgICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKCdzaG93bi5icy5vZmZjYW52YXMnKVxuICAgIH1cblxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuJGVsZW1lbnQuYWRkQ2xhc3MoJ2luJylcbiAgICAgIHRoaXMuc2xpZGUoZWxlbWVudHMsIG9mZnNldCwgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgfSwgdGhpcyksIDEpXG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLmhpZGUgPSBmdW5jdGlvbiAoZmFzdCkge1xuICAgIGlmICh0aGlzLnN0YXRlICE9PSAnc2xpZCcpIHJldHVyblxuXG4gICAgdmFyIHN0YXJ0RXZlbnQgPSAkLkV2ZW50KCdoaWRlLmJzLm9mZmNhbnZhcycpXG4gICAgdGhpcy4kZWxlbWVudC50cmlnZ2VyKHN0YXJ0RXZlbnQpXG4gICAgaWYgKHN0YXJ0RXZlbnQuaXNEZWZhdWx0UHJldmVudGVkKCkpIHJldHVyblxuXG4gICAgdGhpcy5zdGF0ZSA9ICdzbGlkZS1vdXQnXG5cbiAgICB2YXIgZWxlbWVudHMgPSAkKCcuY2FudmFzLXNsaWQnKVxuICAgIHZhciBwbGFjZW1lbnQgPSB0aGlzLnBsYWNlbWVudFxuICAgIHZhciBvZmZzZXQgPSAtMSAqIHRoaXMub2Zmc2V0KClcblxuICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmICh0aGlzLnN0YXRlICE9ICdzbGlkZS1vdXQnKSByZXR1cm5cblxuICAgICAgdGhpcy5zdGF0ZSA9IG51bGxcbiAgICAgIHRoaXMucGxhY2VtZW50ID0gbnVsbFxuXG4gICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdpbicpXG5cbiAgICAgIGVsZW1lbnRzLnJlbW92ZUNsYXNzKCdjYW52YXMtc2xpZGluZycpXG4gICAgICBlbGVtZW50cy5hZGQodGhpcy4kZWxlbWVudCkuYWRkKCdib2R5JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gZml4IGJ1ZyB3aGVyZSBpT1Mgc2Nyb2xsaW5nIHN0aWxsIG9jY3Vyc1xuICAgICAgICAkKHRoaXMpLmF0dHIoJ3N0eWxlJywgJCh0aGlzKS5kYXRhKCdvZmZjYW52YXMtc3R5bGUnKSkucmVtb3ZlRGF0YSgnb2ZmY2FudmFzLXN0eWxlJykucmVtb3ZlQ2xhc3MoJ29mZmNhbnZhcy1sb2NrJylcbiAgICAgIH0pXG5cbiAgICAgIHRoaXMuJGVsZW1lbnQudHJpZ2dlcignaGlkZGVuLmJzLm9mZmNhbnZhcycpXG4gICAgfVxuXG4gICAgZWxlbWVudHMucmVtb3ZlQ2xhc3MoJ2NhbnZhcy1zbGlkJykuYWRkQ2xhc3MoJ2NhbnZhcy1zbGlkaW5nJylcblxuICAgIHNldFRpbWVvdXQoJC5wcm94eShmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuc2xpZGUoZWxlbWVudHMsIG9mZnNldCwgJC5wcm94eShjb21wbGV0ZSwgdGhpcykpXG4gICAgfSwgdGhpcyksIDEpXG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLnRvZ2dsZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5zdGF0ZSA9PT0gJ3NsaWRlLWluJyB8fCB0aGlzLnN0YXRlID09PSAnc2xpZGUtb3V0JykgcmV0dXJuXG4gICAgdGhpc1t0aGlzLnN0YXRlID09PSAnc2xpZCcgPyAnaGlkZScgOiAnc2hvdyddKClcbiAgfVxuXG4gIE9mZkNhbnZhcy5wcm90b3R5cGUuY2FsY0Nsb25lID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy4kY2FsY0Nsb25lID0gdGhpcy4kZWxlbWVudC5jbG9uZSgpXG4gICAgICAuaHRtbCgnJylcbiAgICAgIC5hZGRDbGFzcygnb2ZmY2FudmFzLWNsb25lJykucmVtb3ZlQ2xhc3MoJ2luJylcbiAgICAgIC5hcHBlbmRUbygkKCdib2R5JykpXG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLnJlY2FsYyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy4kY2FsY0Nsb25lLmNzcygnZGlzcGxheScpID09PSAnbm9uZScgfHwgKHRoaXMuc3RhdGUgIT09ICdzbGlkJyAmJiB0aGlzLnN0YXRlICE9PSAnc2xpZGUtaW4nKSkgcmV0dXJuXG5cbiAgICB0aGlzLnN0YXRlID0gbnVsbFxuICAgIHRoaXMucGxhY2VtZW50ID0gbnVsbFxuICAgIHZhciBlbGVtZW50cyA9IHRoaXMuZ2V0Q2FudmFzRWxlbWVudHMoKVxuXG4gICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygnaW4nKVxuXG4gICAgZWxlbWVudHMucmVtb3ZlQ2xhc3MoJ2NhbnZhcy1zbGlkJylcbiAgICBlbGVtZW50cy5hZGQodGhpcy4kZWxlbWVudCkuYWRkKCdib2R5JykuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIC8vIGZpeCBidWcgd2hlcmUgaU9TIHNjcm9sbGluZyBzdGlsbCBvY2N1cnNcbiAgICAgICQodGhpcykuYXR0cignc3R5bGUnLCAkKHRoaXMpLmRhdGEoJ29mZmNhbnZhcy1zdHlsZScpKS5yZW1vdmVEYXRhKCdvZmZjYW52YXMtc3R5bGUnKS5yZW1vdmVDbGFzcygnb2ZmY2FudmFzLWxvY2snKVxuICAgIH0pXG4gIH1cblxuICBPZmZDYW52YXMucHJvdG90eXBlLmF1dG9oaWRlID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoJChlLnRhcmdldCkuY2xvc2VzdCh0aGlzLiRlbGVtZW50KS5sZW5ndGggPT09IDApIHRoaXMuaGlkZSgpXG4gIH1cblxuICAvLyBPRkZDQU5WQVMgUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PT1cblxuICB2YXIgb2xkID0gJC5mbi5vZmZjYW52YXNcblxuICAkLmZuLm9mZmNhbnZhcyA9IGZ1bmN0aW9uIChvcHRpb24pIHtcbiAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKVxuICAgICAgdmFyIGRhdGEgICAgPSAkdGhpcy5kYXRhKCdicy5vZmZjYW52YXMnKVxuICAgICAgdmFyIG9wdGlvbnMgPSAkLmV4dGVuZCh7fSwgT2ZmQ2FudmFzLkRFRkFVTFRTLCAkdGhpcy5kYXRhKCksIHR5cGVvZiBvcHRpb24gPT09ICdvYmplY3QnICYmIG9wdGlvbilcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdicy5vZmZjYW52YXMnLCAoZGF0YSA9IG5ldyBPZmZDYW52YXModGhpcywgb3B0aW9ucykpKVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb24gPT09ICdzdHJpbmcnKSBkYXRhW29wdGlvbl0oKVxuICAgIH0pXG4gIH1cblxuICAkLmZuLm9mZmNhbnZhcy5Db25zdHJ1Y3RvciA9IE9mZkNhbnZhc1xuXG5cbiAgLy8gT0ZGQ0FOVkFTIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PT09PT09XG5cbiAgJC5mbi5vZmZjYW52YXMubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLm9mZmNhbnZhcyA9IG9sZFxuICAgIHJldHVybiB0aGlzXG4gIH1cblxuXG4gIC8vIE9GRkNBTlZBUyBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT09PT09PVxuXG4gICQoZG9jdW1lbnQpLm9uKCdjbGljay5icy5vZmZjYW52YXMuZGF0YS1hcGknLCAnW2RhdGEtdG9nZ2xlPW9mZmNhbnZhc10nLCBmdW5jdGlvbiAoZSkge1xuICAgIHZhciAkdGhpcyAgID0gJCh0aGlzKSwgaHJlZlxuICAgIHZhciB0YXJnZXQgID0gJHRoaXMuYXR0cignZGF0YS10YXJnZXQnKVxuICAgICAgICB8fCBlLnByZXZlbnREZWZhdWx0KClcbiAgICAgICAgfHwgKGhyZWYgPSAkdGhpcy5hdHRyKCdocmVmJykpICYmIGhyZWYucmVwbGFjZSgvLiooPz0jW15cXHNdKyQpLywgJycpIC8vc3RyaXAgZm9yIGllN1xuICAgIHZhciAkY2FudmFzID0gJCh0YXJnZXQpXG4gICAgdmFyIGRhdGEgICAgPSAkY2FudmFzLmRhdGEoJ2JzLm9mZmNhbnZhcycpXG4gICAgdmFyIG9wdGlvbiAgPSBkYXRhID8gJ3RvZ2dsZScgOiAkdGhpcy5kYXRhKClcblxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKClcblxuICAgIGlmIChkYXRhKSBkYXRhLnRvZ2dsZSgpXG4gICAgICBlbHNlICRjYW52YXMub2ZmY2FudmFzKG9wdGlvbilcbiAgfSlcblxufSh3aW5kb3cualF1ZXJ5KTtcbiIsInZhciB0b2dnbGVCdXR0b25zID0gJCgnW2RhdGEtdGFyZ2V0PVwidG9nZ2xlLWdyb3VwXCJdJykuZmluZChcIi5idG4tdG9nZ2xlXCIpO1xuXG4kKHRvZ2dsZUJ1dHRvbnMpLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICB2YXIgY3VycmVudFRvZ2dsZUluZGV4ID0gJCh0b2dnbGVCdXR0b25zKS5pbmRleCh0aGlzKTtcbiAgJCh0b2dnbGVCdXR0b25zKS5yZW1vdmVDbGFzcyhcImJ0bi1zZWxlY3RlZFwiKTtcbiAgJCh0b2dnbGVCdXR0b25zKS5lcShjdXJyZW50VG9nZ2xlSW5kZXgpLmFkZENsYXNzKFwiYnRuLXNlbGVjdGVkXCIpO1xufSk7IiwiLyoqXG4gKiBAcHJlc2VydmVcbiAqIFByb2plY3Q6IEJvb3RzdHJhcCBIb3ZlciBEcm9wZG93blxuICogQXV0aG9yOiBDYW1lcm9uIFNwZWFyXG4gKiBWZXJzaW9uOiB2Mi4xLjNcbiAqIENvbnRyaWJ1dG9yczogTWF0dGlhIExhcmVudGlzXG4gKiBEZXBlbmRlbmNpZXM6IEJvb3RzdHJhcCdzIERyb3Bkb3duIHBsdWdpbiwgalF1ZXJ5XG4gKiBEZXNjcmlwdGlvbjogQSBzaW1wbGUgcGx1Z2luIHRvIGVuYWJsZSBCb290c3RyYXAgZHJvcGRvd25zIHRvIGFjdGl2ZSBvbiBob3ZlciBhbmQgcHJvdmlkZSBhIG5pY2UgdXNlciBleHBlcmllbmNlLlxuICogTGljZW5zZTogTUlUXG4gKiBIb21lcGFnZTogaHR0cDovL2NhbWVyb25zcGVhci5jb20vYmxvZy9ib290c3RyYXAtZHJvcGRvd24tb24taG92ZXItcGx1Z2luL1xuICovXG47KGZ1bmN0aW9uICgkLCB3aW5kb3csIHVuZGVmaW5lZCkge1xuICAgIC8vIG91dHNpZGUgdGhlIHNjb3BlIG9mIHRoZSBqUXVlcnkgcGx1Z2luIHRvXG4gICAgLy8ga2VlcCB0cmFjayBvZiBhbGwgZHJvcGRvd25zXG4gICAgdmFyICRhbGxEcm9wZG93bnMgPSAkKCk7XG5cbiAgICAvLyBpZiBpbnN0YW50bHlDbG9zZU90aGVycyBpcyB0cnVlLCB0aGVuIGl0IHdpbGwgaW5zdGFudGx5XG4gICAgLy8gc2h1dCBvdGhlciBuYXYgaXRlbXMgd2hlbiBhIG5ldyBvbmUgaXMgaG92ZXJlZCBvdmVyXG4gICAgJC5mbi5kcm9wZG93bkhvdmVyID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcbiAgICAgICAgLy8gZG9uJ3QgZG8gYW55dGhpbmcgaWYgdG91Y2ggaXMgc3VwcG9ydGVkXG4gICAgICAgIC8vIChwbHVnaW4gY2F1c2VzIHNvbWUgaXNzdWVzIG9uIG1vYmlsZSlcbiAgICAgICAgaWYoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQpIHJldHVybiB0aGlzOyAvLyBkb24ndCB3YW50IHRvIGFmZmVjdCBjaGFpbmluZ1xuXG4gICAgICAgIC8vIHRoZSBlbGVtZW50IHdlIHJlYWxseSBjYXJlIGFib3V0XG4gICAgICAgIC8vIGlzIHRoZSBkcm9wZG93bi10b2dnbGUncyBwYXJlbnRcbiAgICAgICAgJG5hdnRvb2xEcm9wZG93bnMgPSAkKCcubmF2YmFyLXRvb2xzIC5kcm9wZG93bicpO1xuICAgICAgICAkc2VhcmNoRHJvcGRvd24gPSAkKCcubmF2YmFyIC5zZWFyY2gtc3VnZ2VzdC1ib3gnKTtcbiAgICAgICAgJHNlYXJjaElucHV0ID0gJCgnW2RhdGEtaWQ9XCJzZWFyY2gtaW5wdXRcIl0nKTtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIGFkZGVkIG5hdnRvb2wgZHJvcGRvd25zLCBzbyB0aGF0IHRoZXkgYXJlIGFsc28gY2xlYXJlZCBvbiBob3ZlciAoVEMpXG4gICAgICAgICAqL1xuICAgICAgICAkYWxsRHJvcGRvd25zID0gJGFsbERyb3Bkb3ducy5hZGQodGhpcy5wYXJlbnQoKSkuYWRkKCRuYXZ0b29sRHJvcGRvd25zKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyksXG4gICAgICAgICAgICAgICAgJHBhcmVudCA9ICR0aGlzLnBhcmVudCgpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgICAgICAgICBkZWxheTogNTAwLFxuICAgICAgICAgICAgICAgICAgICBob3ZlckRlbGF5OiAwLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW50bHlDbG9zZU90aGVyczogdHJ1ZVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0YSA9IHtcbiAgICAgICAgICAgICAgICAgICAgZGVsYXk6ICQodGhpcykuZGF0YSgnZGVsYXknKSxcbiAgICAgICAgICAgICAgICAgICAgaG92ZXJEZWxheTogJCh0aGlzKS5kYXRhKCdob3Zlci1kZWxheScpLFxuICAgICAgICAgICAgICAgICAgICBpbnN0YW50bHlDbG9zZU90aGVyczogJCh0aGlzKS5kYXRhKCdjbG9zZS1vdGhlcnMnKVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2hvd0V2ZW50ICAgPSAnc2hvdy5icy5kcm9wZG93bicsXG4gICAgICAgICAgICAgICAgaGlkZUV2ZW50ICAgPSAnaGlkZS5icy5kcm9wZG93bicsXG4gICAgICAgICAgICAgICAgLy8gc2hvd25FdmVudCAgPSAnc2hvd24uYnMuZHJvcGRvd24nLFxuICAgICAgICAgICAgICAgIC8vIGhpZGRlbkV2ZW50ID0gJ2hpZGRlbi5icy5kcm9wZG93bicsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3MgPSAkLmV4dGVuZCh0cnVlLCB7fSwgZGVmYXVsdHMsIG9wdGlvbnMsIGRhdGEpLFxuICAgICAgICAgICAgICAgIHRpbWVvdXQsIHRpbWVvdXRIb3ZlcjtcblxuICAgICAgICAgICAgJHBhcmVudC5ob3ZlcihmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBzbyBhIG5laWdoYm9yIGNhbid0IG9wZW4gdGhlIGRyb3Bkb3duXG4gICAgICAgICAgICAgICAgLyoqXG4gICAgICAgICAgICAgICAgICogYWRkZWQgaGFuZGxpbmcgZm9yIGhvdmVyaW5nIG92ZXIgY2hpbGRyZW4gb2YgdGFyZ2V0IChUQylcbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZighJHBhcmVudC5oYXNDbGFzcygnb3BlbicpICYmICEkdGhpcy5oYXMoZXZlbnQudGFyZ2V0KSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzdG9wIHRoaXMgZXZlbnQsIHN0b3AgZXhlY3V0aW5nIGFueSBjb2RlXG4gICAgICAgICAgICAgICAgICAgIC8vIGluIHRoaXMgY2FsbGJhY2sgYnV0IGNvbnRpbnVlIHRvIHByb3BhZ2F0ZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBvcGVuRHJvcGRvd24oZXZlbnQpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyIGZvciBob3ZlciBldmVudFxuICAgICAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQodGltZW91dEhvdmVyKVxuICAgICAgICAgICAgICAgIHRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAnZmFsc2UnKTtcbiAgICAgICAgICAgICAgICAgICAgJHBhcmVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy50cmlnZ2VyKGhpZGVFdmVudCk7XG4gICAgICAgICAgICAgICAgfSwgc2V0dGluZ3MuZGVsYXkpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIC8vIHRoaXMgaGVscHMgd2l0aCBidXR0b24gZ3JvdXBzIVxuICAgICAgICAgICAgJHRoaXMuaG92ZXIoZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gdGhpcyBoZWxwcyBwcmV2ZW50IGEgZG91YmxlIGV2ZW50IGZyb20gZmlyaW5nLlxuICAgICAgICAgICAgICAgIC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vQ1dTcGVhci9ib290c3RyYXAtaG92ZXItZHJvcGRvd24vaXNzdWVzLzU1XG4gICAgICAgICAgICAgICAgaWYoISRwYXJlbnQuaGFzQ2xhc3MoJ29wZW4nKSAmJiAhJHBhcmVudC5pcyhldmVudC50YXJnZXQpKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc3RvcCB0aGlzIGV2ZW50LCBzdG9wIGV4ZWN1dGluZyBhbnkgY29kZVxuICAgICAgICAgICAgICAgICAgICAvLyBpbiB0aGlzIGNhbGxiYWNrIGJ1dCBjb250aW51ZSB0byBwcm9wYWdhdGVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3BlbkRyb3Bkb3duKGV2ZW50KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBoYW5kbGUgc3VibWVudXNcbiAgICAgICAgICAgICRwYXJlbnQuZmluZCgnLmRyb3Bkb3duLXN1Ym1lbnUnKS5lYWNoKGZ1bmN0aW9uICgpe1xuICAgICAgICAgICAgICAgIHZhciAkdGhpcyA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIHN1YlRpbWVvdXQ7XG4gICAgICAgICAgICAgICAgJHRoaXMuaG92ZXIoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHN1YlRpbWVvdXQpO1xuICAgICAgICAgICAgICAgICAgICAkdGhpcy5jaGlsZHJlbignLmRyb3Bkb3duLW1lbnUnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFsd2F5cyBjbG9zZSBzdWJtZW51IHNpYmxpbmdzIGluc3RhbnRseVxuICAgICAgICAgICAgICAgICAgICAkdGhpcy5zaWJsaW5ncygpLmNoaWxkcmVuKCcuZHJvcGRvd24tbWVudScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciAkc3VibWVudSA9ICR0aGlzLmNoaWxkcmVuKCcuZHJvcGRvd24tbWVudScpO1xuICAgICAgICAgICAgICAgICAgICBzdWJUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgJHN1Ym1lbnUuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9LCBzZXR0aW5ncy5kZWxheSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gb3BlbkRyb3Bkb3duKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gY2xlYXIgZHJvcGRvd24gdGltZW91dCBoZXJlIHNvIGl0IGRvZXNudCBjbG9zZSBiZWZvcmUgaXQgc2hvdWxkXG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgICAgICAgICAvLyByZXN0YXJ0IGhvdmVyIHRpbWVyXG4gICAgICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dCh0aW1lb3V0SG92ZXIpO1xuXG4gICAgICAgICAgICAgICAgLy8gZGVsYXkgZm9yIGhvdmVyIGV2ZW50LlxuICAgICAgICAgICAgICAgIHRpbWVvdXRIb3ZlciA9IHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgJGFsbERyb3Bkb3ducy5maW5kKCc6Zm9jdXMnKS5ibHVyKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYoc2V0dGluZ3MuaW5zdGFudGx5Q2xvc2VPdGhlcnMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICRhbGxEcm9wZG93bnMucmVtb3ZlQ2xhc3MoJ29wZW4nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICRzZWFyY2hEcm9wZG93bi5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkc2VhcmNoSW5wdXQudmFsKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsZWFyIHRpbWVyIGZvciBob3ZlciBldmVudFxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHRpbWVvdXRIb3Zlcik7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLmF0dHIoJ2FyaWEtZXhwYW5kZWQnLCAndHJ1ZScpO1xuICAgICAgICAgICAgICAgICAgICAkcGFyZW50LmFkZENsYXNzKCdvcGVuJyk7XG4gICAgICAgICAgICAgICAgICAgICR0aGlzLnRyaWdnZXIoc2hvd0V2ZW50KTtcbiAgICAgICAgICAgICAgICB9LCBzZXR0aW5ncy5ob3ZlckRlbGF5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gYXBwbHkgZHJvcGRvd25Ib3ZlciB0byBhbGwgZWxlbWVudHMgd2l0aCB0aGUgZGF0YS1ob3Zlcj1cImRyb3Bkb3duXCIgYXR0cmlidXRlXG4gICAgICAgICQoJ1tkYXRhLWhvdmVyPVwiZHJvcGRvd25cIl0nKS5kcm9wZG93bkhvdmVyKCk7XG4gICAgfSk7XG59KShqUXVlcnksIHdpbmRvdyk7XG4iLCIrZnVuY3Rpb24gKCQpIHsgXCJ1c2Ugc3RyaWN0XCI7XG4gIHZhciBOYXZiYXIgPSBmdW5jdGlvbihuYXZNZW51RWxlbWVudCwgbmF2QmFyRWxlbWVudCkge1xuICAgIC8vIGNhY2hpbmcgZWxlbWVudHNcbiAgICB0aGlzLiR3aW5kb3cgPSAkKHdpbmRvdyk7XG4gICAgdGhpcy4kYm9keSA9ICQoJ2JvZHknKTtcbiAgICB0aGlzLiRuYXZNZW51ID0gJChuYXZNZW51RWxlbWVudCk7XG4gICAgdGhpcy4kbmF2QmFyID0gJChuYXZCYXJFbGVtZW50KTtcbiAgICB0aGlzLiRuYXZCYXJaZXJvID0gdGhpcy4kbmF2QmFyLmZpbmQoJy5uYXZiYXItemVybycpO1xuICAgIHRoaXMuJHNsaW1CYXIgPSB0aGlzLiRuYXZCYXIuZmluZCgnLm5hdmJhci1zbGltJyk7XG4gICAgdGhpcy4kbmF2RHJvcGRvd25zID0gdGhpcy4kbmF2QmFyLmZpbmQoJy5uYXZiYXItbmF2IGxpJyk7XG4gICAgdGhpcy4kbmF2RHJvcGRvd25EaXNtaXNzQnV0dG9uID0gdGhpcy4kbmF2QmFyLmZpbmQoJ1tkYXRhLWRpc21pc3M9XCJuYXZiYXItZHJvcGRvd25cIl0nKTtcbiAgICB0aGlzLiRuYXZNZW51UHJvZmlsZSA9IHRoaXMuJG5hdk1lbnUuZmluZCgnI25hdm1lbnUtcHJvZmlsZScpO1xuICAgIHRoaXMuJG5hdk1lbnVMb2dpbiA9IHRoaXMuJG5hdk1lbnUuZmluZCgnI25hdm1lbnUtbG9naW4nKTtcbiAgICB0aGlzLiRzZWFyY2hJbnB1dCA9IHRoaXMuJG5hdkJhci5maW5kKCdbZGF0YS1pZD1cInNlYXJjaC1pbnB1dFwiXScpO1xuICAgIHRoaXMuJHNlYXJjaFJlc3VsdHMgPSB0aGlzLiRuYXZCYXIuZmluZCgnLnNlYXJjaC1zdWdnZXN0LWJveCcpO1xuICAgIHRoaXMuJHNlYXJjaEJ1dHRvbiA9IHRoaXMuJG5hdkJhci5maW5kKCcubmF2YmFyLXNlYXJjaC1idG4nKTtcbiAgICB0aGlzLiRzZWFyY2hEaXNtaXNzQnV0dG9uID0gdGhpcy4kbmF2QmFyLmZpbmQoJy5kaXNtaXNzLXNlYXJjaC1idG4nKTsgLy8gW2RhdGEtZGlzbWlzcz1cIm5hdmJhci1zZWFyY2hcIl1cbiAgICB0aGlzLiRzZWFyY2hEcm9wZG93biA9IHRoaXMuJG5hdkJhci5maW5kKCcubmF2YmFyLXNlYXJjaC1idG4gPiAuZHJvcGRvd24tdG9nZ2xlJyk7XG4gICAgdGhpcy5hdXRob3JpemF0aW9uSWQgPSB0aGlzLmdldFVybFBhcmFtKCdhdXRob3JpemF0aW9uSWQnKTsgLy8gZm9yIGZ1dHVyZSB1c2VcbiAgICB0aGlzLnNjcmVlblNtTWluID0gJzc2OHB4JztcbiAgICB0aGlzLnNjcmVlblNkTWluID0gJzEwMjVweCc7XG4gICAgdGhpcy5zY3JlZW5TbWFsbE1lZGlhUXVlcnkgPSB3aW5kb3cubWF0Y2hNZWRpYSgnKG1pbi13aWR0aDogJyArIHRoaXMuc2NyZWVuU21NaW4gKyAnKScpO1xuICAgIHRoaXMuc2NyZWVuU2htZWRpdW1NZWRpYVF1ZXJ5ID0gd2luZG93Lm1hdGNoTWVkaWEoJyhtaW4td2lkdGg6ICcgKyB0aGlzLnNjcmVlblNkTWluICsgJyknKTtcbiAgICB0aGlzLm5hdkJhckhlaWdodCA9IG51bGw7XG4gICAgdGhpcy5zbGltQmFySGVpZ2h0ID0gbnVsbDtcbiAgICB0aGlzLnNsaW1ZID0gbnVsbDtcbiAgICB0aGlzLmR5ID0gbnVsbDtcbiAgICB0aGlzLmR5UHJldiA9IDA7XG4gICAgdGhpcy5uYXZCYXJPZmZzZXRDbGFzcyA9ICduYXZiYXItb2Zmc2V0LXhzJztcbiAgICB0aGlzLmRpZFNjcm9sbCA9IGZhbHNlO1xuICAgIHRoaXMuZGVsdGEgPSA1O1xuICAgIHRoaXMuc2Nyb2xsRGV0ZWN0UmVmcmVzaEludGVydmFsID0gMjUwO1xuXG4gICAgLy8gaW5pdGlhbGl6YXRpb25cbiAgICB0aGlzLnNldEVsZW1lbnRTaXplcygpO1xuXG4gICAgLy8gbGlzdGVuZXJzXG4gICAgdGhpcy4kd2luZG93Lm9uKCdzY3JvbGwuYWlhLm5hdmJhcicsIGZ1bmN0aW9uKGUpIHsgdGhpcy5kaWRTY3JvbGwgPSB0cnVlOyB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NyZWVuU21hbGxNZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKHRoaXMuc2V0RWxlbWVudFNpemVzLmJpbmQodGhpcykpO1xuICAgIHRoaXMuc2NyZWVuU2htZWRpdW1NZWRpYVF1ZXJ5LmFkZExpc3RlbmVyKHRoaXMuc2V0RWxlbWVudFNpemVzLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJG5hdkRyb3Bkb3duRGlzbWlzc0J1dHRvbi5vbignY2xpY2suYWlhLm5hdmJhcicsIHRoaXMuZGlzbWlzc05hdkRyb3Bkb3duLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJHNlYXJjaElucHV0Lm9uKCdrZXl1cC5haWEubmF2YmFyJywgdGhpcy5zZWFyY2hJbnB1dEtleWVkLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJHNlYXJjaEJ1dHRvbi5vbignaGlkZGVuLmJzLmRyb3Bkb3duJywgdGhpcy5oaWRlU2VhcmNoUmVzdWx0cy5iaW5kKHRoaXMpKTtcbiAgICB0aGlzLiRzZWFyY2hCdXR0b24ub24oJ3Nob3duLmJzLmRyb3Bkb3duJywgZnVuY3Rpb24oZSkgeyB0aGlzLiRzZWFyY2hJbnB1dC5mb2N1cygpOyB9LmJpbmQodGhpcykpO1xuICAgIHRoaXMuJHNlYXJjaERpc21pc3NCdXR0b24ub24oJ2NsaWNrLmFpYS5uYXZiYXInLCB0aGlzLmRpc21pc3NTZWFyY2hEcm9wZG93bi5iaW5kKHRoaXMpKTtcblxuICAgIC8vIHNjcm9sbCBkZXRlY3Rpb24gdGltZXJcbiAgICB0aGlzLmNoZWNrU2Nyb2xsSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLmRpZFNjcm9sbCkge1xuICAgICAgICB0aGlzLmhhc1Njcm9sbGVkKCk7XG4gICAgICAgIHRoaXMuZGlkU2Nyb2xsID0gZmFsc2U7XG4gICAgICB9XG4gICAgfS5iaW5kKHRoaXMpLCB0aGlzLnNjcm9sbERldGVjdFJlZnJlc2hJbnRlcnZhbCk7XG4gIH1cblxuICBOYXZiYXIucHJvdG90eXBlLmRpc21pc3NOYXZEcm9wZG93biA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJG5hdkRyb3Bkb3ducy5yZW1vdmVDbGFzcygnb3BlbicpO1xuICB9XG5cbiAgTmF2YmFyLnByb3RvdHlwZS5zZWFyY2hJbnB1dEtleWVkID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHZhbCA9IHRoaXMuJHNlYXJjaElucHV0LnZhbCgpO1xuICAgIGlmICh2YWwubGVuZ3RoID4gMykge1xuICAgICAgdGhpcy4kc2VhcmNoUmVzdWx0cy5zaG93KCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuJHNlYXJjaFJlc3VsdHMuaGlkZSgpO1xuICAgIH1cbiAgICBpZiAodGhpcy5uYXZCYXJPZmZzZXRDbGFzcyA9PT0gJ25hdmJhci1vZmZzZXQteHMnKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gdGhpcy4kd2luZG93LmhlaWdodCgpIC0gdGhpcy5uYXZCYXJIZWlnaHQgLSA2MDsgLy8gc2VhcmNoIGJhciBoZWlnaHQ7XG4gICAgICBpZiAoaGVpZ2h0ID4gdGhpcy4kc2VhcmNoUmVzdWx0cy5oZWlnaHQoKSkge1xuICAgICAgICB0aGlzLiRzZWFyY2hSZXN1bHRzLmhlaWdodChoZWlnaHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIE5hdmJhci5wcm90b3R5cGUuaGlkZVNlYXJjaFJlc3VsdHMgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLiRzZWFyY2hSZXN1bHRzLmhpZGUoKTtcbiAgICB0aGlzLiRzZWFyY2hJbnB1dC52YWwoJycpO1xuICAgIHRoaXMuJHNlYXJjaElucHV0LmJsdXIoKTtcbiAgfVxuXG4gIE5hdmJhci5wcm90b3R5cGUuZGlzbWlzc1NlYXJjaERyb3Bkb3duID0gZnVuY3Rpb24oZSkge1xuICAgIHRoaXMuJHNlYXJjaERyb3Bkb3duLmRyb3Bkb3duKCd0b2dnbGUnKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIH1cblxuICAvKipcbiAgICogIFN0aWNreSBoZWFkZXIgZnVuY3Rpb25zXG4gICAqL1xuICBOYXZiYXIucHJvdG90eXBlLnNldEVsZW1lbnRTaXplcyA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMubmF2QmFySGVpZ2h0ID0gdGhpcy4kbmF2QmFyLmhlaWdodCgpO1xuICAgIHRoaXMuc2xpbUJhckhlaWdodCA9IHRoaXMuJHNsaW1CYXIuaGVpZ2h0KCk7XG4gICAgdGhpcy5zbGltWSA9IHRoaXMubmF2QmFySGVpZ2h0IC0gdGhpcy5zbGltQmFySGVpZ2h0O1xuXG4gICAgaWYgKHRoaXMuc2NyZWVuU2htZWRpdW1NZWRpYVF1ZXJ5Lm1hdGNoZXMpIHtcbiAgICAgIGlmICh0aGlzLiRuYXZCYXJaZXJvLmxlbmd0aCAmJiB0aGlzLiRuYXZCYXJaZXJvLmlzKCc6dmlzaWJsZScpKSB7XG4gICAgICAgIHRoaXMubmF2QmFyT2Zmc2V0Q2xhc3MgPSAnbmF2YmFyLW9mZnNldC1zZC16ZXJvJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMubmF2QmFyT2Zmc2V0Q2xhc3MgPSAnbmF2YmFyLW9mZnNldC1zZCc7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0aGlzLnNjcmVlblNtYWxsTWVkaWFRdWVyeS5tYXRjaGVzKSB7XG4gICAgICB0aGlzLm5hdkJhck9mZnNldENsYXNzID0gJ25hdmJhci1vZmZzZXQtc20nO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLm5hdkJhck9mZnNldENsYXNzID0gJ25hdmJhci1vZmZzZXQteHMnO1xuICAgIH1cbiAgICAvLyBpZiBpbiBzbGltIHN0YXRlLFxuICAgIGlmICgodGhpcy4kbmF2QmFyKS5oYXNDbGFzcygnbmF2YmFyLWZpeGVkLXNsaW0nKSkge1xuICAgICAgdGhpcy4kbmF2QmFyLnJlbW92ZUNsYXNzKCduYXZiYXItb2Zmc2V0LXhzIG5hdmJhci1vZmZzZXQtc20gbmF2YmFyLW9mZnNldC1zZCBuYXZiYXItb2Zmc2V0LXNkLXplcm8nKTtcbiAgICAgIHRoaXMuJG5hdkJhci5hZGRDbGFzcyh0aGlzLm5hdkJhck9mZnNldENsYXNzKTtcbiAgICB9XG4gIH1cblxuICBOYXZiYXIucHJvdG90eXBlLmhvdmVyRXhwYW5kTmF2QmFyID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKHRoaXMuc2NyZWVuU2htZWRpdW1NZWRpYVF1ZXJ5Lm1hdGNoZXMpIHtcbiAgICAgIHRoaXMuJG5hdkJhci5yZW1vdmVDbGFzcygnbmF2YmFyLWZpeGVkLXNsaW0nKTtcbiAgICAgIHRoaXMuJG5hdkJhci5yZW1vdmVDbGFzcygnbmF2YmFyLW9mZnNldC14cyBuYXZiYXItb2Zmc2V0LXNtIG5hdmJhci1vZmZzZXQtc2QgbmF2YmFyLW9mZnNldC1zZC16ZXJvJyk7XG4gICAgICB0aGlzLiRuYXZCYXIub24oJ21vdXNlbGVhdmUuYWlhLm5hdmJhcicsIHRoaXMuaG92ZXJTaHJpbmtOYXZiYXIuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgTmF2YmFyLnByb3RvdHlwZS5ob3ZlclNocmlua05hdmJhciA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuJG5hdkJhci5hZGRDbGFzcygnbmF2YmFyLWZpeGVkLXNsaW0nKS5hZGRDbGFzcyh0aGlzLm5hdkJhck9mZnNldENsYXNzKTtcbiAgICB0aGlzLiRuYXZCYXIub2ZmKCdtb3VzZWxlYXZlLmFpYS5uYXZiYXInKTtcbiAgfVxuXG4gIE5hdmJhci5wcm90b3R5cGUuaGFzU2Nyb2xsZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmR5ID0gdGhpcy4kd2luZG93LnNjcm9sbFRvcCgpO1xuICAgIGlmIChNYXRoLmFicyh0aGlzLmR5UHJldiAtIHRoaXMuZHkpIDw9IHRoaXMuZGVsdGEpXG4gICAgICByZXR1cm47XG5cbiAgICBpZiAodGhpcy5keSA+IHRoaXMuZHlQcmV2ICYmIHRoaXMuZHkgPiB0aGlzLnNsaW1ZKSB7IC8vIHNjcm9sbCBkb3duXG4gICAgICAvLyBhZmZpeCBzbGltIG5hdiBiYXJcbiAgICAgIHRoaXMuJG5hdkJhci5hZGRDbGFzcygnbmF2YmFyLWZpeGVkLXNsaW0nKS5hZGRDbGFzcyh0aGlzLm5hdkJhck9mZnNldENsYXNzKTtcbiAgICAgIHRoaXMuJHNsaW1CYXIub24oJ21vdXNlZW50ZXIuYWlhLm5hdmJhcicsIHRoaXMuaG92ZXJFeHBhbmROYXZCYXIuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHsgLy8gc2Nyb2xsIHVwXG4gICAgICBpZiAoJ29udG91Y2hzdGFydCcgaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7IC8vIGZvciB0b3VjaCBkZXZpY2VzXG4gICAgICAgIC8vIGFmZml4IGZhdCBiYXJcbiAgICAgICAgdGhpcy4kbmF2QmFyLnJlbW92ZUNsYXNzKCduYXZiYXItZml4ZWQtc2xpbScpO1xuICAgICAgICB0aGlzLiRuYXZCYXIucmVtb3ZlQ2xhc3MoJ25hdmJhci1vZmZzZXQteHMgbmF2YmFyLW9mZnNldC1zbSBuYXZiYXItb2Zmc2V0LXNkIG5hdmJhci1vZmZzZXQtc2QtemVybycpO1xuICAgICAgICB0aGlzLiRzbGltQmFyLm9mZignbW91c2VlbnRlci5haWEubmF2YmFyJyk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZHkgPCB0aGlzLnNsaW1ZKSB7IC8vIDc2OCBhbmQgYWJvdmVcbiAgICAgICAgLy8gc2xpbSBiYXIgdG8gZmF0IGJhclxuICAgICAgICB0aGlzLiRuYXZCYXIucmVtb3ZlQ2xhc3MoJ25hdmJhci1maXhlZC1zbGltJyk7XG4gICAgICAgIHRoaXMuJG5hdkJhci5yZW1vdmVDbGFzcygnbmF2YmFyLW9mZnNldC14cyBuYXZiYXItb2Zmc2V0LXNtIG5hdmJhci1vZmZzZXQtc2QgbmF2YmFyLW9mZnNldC1zZC16ZXJvJyk7XG4gICAgICAgIHRoaXMuJHNsaW1CYXIub2ZmKCdtb3VzZWVudGVyLmFpYS5uYXZiYXInKTtcbiAgICAgIH0gLy8gZWxzZSBrZWVwIHNsaW0gYmFyXG4gICAgfVxuICAgIHRoaXMuZHlQcmV2ID0gdGhpcy5keTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqICBQcmUvUG9zdCBsb2dpbiBmdW5jdGlvbnNcbiAgICovXG4gIE5hdmJhci5wcm90b3R5cGUuaXNMb2dnZWRJbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpc0xvZ2dlZEluID0gdHlwZW9mIHRoaXMuYXV0aG9yaXphdGlvbklkICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdGhpcy5hdXRob3JpemF0aW9uSWQubGVuZ3RoID4gMCAmJlxuICAgICAgdGhpcy5hdXRob3JpemF0aW9uSWQgIT09ICdhbm9ueW1vdXMnO1xuICAgIHJldHVybiBpc0xvZ2dlZEluO1xuICB9XG5cbiAgTmF2YmFyLnByb3RvdHlwZS5nZXRVcmxQYXJhbSA9IGZ1bmN0aW9uKHBhcmFtKSB7XG4gICAgdmFyIHBhZ2VVcmwgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnN1YnN0cmluZygxKTtcbiAgICB2YXIgdXJsVmFyaWFibGVzID0gcGFnZVVybC5zcGxpdCgnJicpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdXJsVmFyaWFibGVzLmxlbmd0aDsgaSsrKVxuICAgIHtcbiAgICAgIHZhciBwYXJhbU5hbWUgPSB1cmxWYXJpYWJsZXNbaV0uc3BsaXQoJz0nKTtcbiAgICAgIGlmIChwYXJhbU5hbWVbMF0gPT0gcGFyYW0pXG4gICAgICB7XG4gICAgICAgICAgcmV0dXJuIHBhcmFtTmFtZVsxXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBQTFVHSU4gREVGSU5JVElPTlxuICAvLyA9PT09PT09PT09PT09PT09PT09PT1cblxuICBmdW5jdGlvbiBQbHVnaW4ob3B0aW9uKSB7XG4gICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgJHRoaXMgPSAkKHRoaXMpO1xuICAgICAgdmFyIGRhdGEgID0gJHRoaXMuZGF0YSgnYWlhLm5hdmJhcicpO1xuICAgICAgdmFyIG9wdGlvbnMgPSB0eXBlb2Ygb3B0aW9uID09ICdvYmplY3QnICYmIG9wdGlvbjtcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdhaWEubmF2YmFyJywgKGRhdGEgPSBuZXcgTmF2YmFyKHRoaXMsIG9wdGlvbnMpKSk7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dLmNhbGwoJHRoaXMpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIG9sZCA9ICQuZm4ubmF2YmFyO1xuXG4gICQuZm4ubmF2YmFyICAgICAgICAgICAgID0gUGx1Z2luO1xuICAkLmZuLm5hdmJhci5Db25zdHJ1Y3RvciA9IE5hdmJhcjtcblxuXG4gIC8vIE5PIENPTkZMSUNUXG4gIC8vID09PT09PT09PT09PT09PVxuXG4gICQuZm4ubmF2YmFyLm5vQ29uZmxpY3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgJC5mbi5uYXZiYXIgPSBvbGQ7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cblxuICAvLyBEQVRBLUFQSVxuICAvLyA9PT09PT09PT09PT1cblxuICB2YXIgbG9hZE5hdmJhckhhbmRsZXIgPSBmdW5jdGlvbigpIHtcbiAgICAvLyBleHBlY3Qgb25seSBvbmUgaW5zdGFuY2Ugb2YgbmF2YmFyXG4gICAgdmFyICRuYXZtZW51ID0gJCgnLm5hdm1lbnUnKTtcbiAgICB2YXIgJG5hdmJhciA9ICQoJy5uYXZiYXInKTtcbiAgICBQbHVnaW4uY2FsbCgkbmF2bWVudSwgJG5hdmJhcik7XG4gIH07XG5cbiAgJCh3aW5kb3cpXG4gICAgLm9uKCdsb2FkLmFpYS5uYXZiYXInLCBsb2FkTmF2YmFySGFuZGxlcik7XG59KGpRdWVyeSk7XG4iLCIkKCcucHJlbWl1bS10aW1lZnJhbWUnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcblx0JCgnLnByZW1pdW0tdGltZWZyYW1lJykucmVtb3ZlQ2xhc3MoXCJyZWQtdW5kZXJsaW5lLTJweFwiKTtcblx0JCh0aGlzKS5hZGRDbGFzcyhcInJlZC11bmRlcmxpbmUtMnB4XCIpO1xuICAkKCcjcHJlbWl1bS1ieS10aW1lc3Bhbi12YWx1ZScpLnRleHQoJCh0aGlzKS5kYXRhKFwicHJlbWl1bVwiKSk7XG59KTtcbiIsIlxuLy9pbmplY3QgcG9wdXAgd2l0aCBkZWZhdWx0IHZhbHVlLCBzZXQgaW5pdGlhbCBwb3NpdGlvbiwgd2lkdGggaXMgbm90IHJlZmxlY3RlZCBvbiB0aGlzLlxuJChcIi5yYW5nZS1zbGlkZXIgaW5wdXRbdHlwZT1yYW5nZV1cIikub24oJ3RvdWNoc3RhcnQnLCBmdW5jdGlvbihlKSB7XG4gIHZhciBjb250YWluZXIgPSAkKHRoaXMpXG4gICxzdmcgPSAnPHN2ZyBjbGFzcz1cImljb24tbSBoaWRlLW9uLWZhbGxiYWNrXCIgcm9sZT1cImltZ1wiIHRpdGxlPVwiYWNjYXJyb3dkbi1nbHlwaFwiPjx1c2UgeGxpbms6aHJlZj1cImRpc3QvaW1nL2ljb25zL2ljb25zLnN2ZyNhY2NhcnJvd2RuLWdseXBoXCI+PC91c2U+PGltYWdlIGNsYXNzPVwiaWNvbi1mYWxsYmFja1wiIHNyYz1cImRpc3QvaW1nL2ljb25zL2FjY2Fycm93ZG4tZ2x5cGgucG5nXCIgeGxpbms6aHJlZj1cIlwiPjwvaW1hZ2U+PC9zdmc+J1xuICAseCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYXG4gICxidWJibGUgPSAkKCc8ZGl2IC8+JywgeyAnY2xhc3MnIDogJ2J1YmJsZScgfSlcbiAgICAgIC5hcHBlbmQoJCgnPGRpdiAvPicsIHsgJ2NsYXNzJzogJ3ZhbHVlJywgJ3RleHQnIDogJCh0aGlzKS52YWwoKX0pKVxuICAgICAgLmNzcyh7bGVmdDogeH0pXG4gICAgICAuYXBwZW5kKHN2ZylcbiAgICAgIC5pbnNlcnRBZnRlcihjb250YWluZXIpO1xufSk7XG4vL3VwZGF0ZSBsZWZ0IHBvc2l0aW9uIG9mZnNldFxuJChcIi5yYW5nZS1zbGlkZXIgaW5wdXRbdHlwZT1yYW5nZV1cIikub24oJ3RvdWNobW92ZScsIGZ1bmN0aW9uKGUpIHtcbiAgdmFyIHZhbHVlPSAkKHRoaXMpLnZhbCgpXG4gICxidWJibGUgPSAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5idWJibGUnKVxuICAseCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLnBhZ2VYO1xuXG4gIGJ1YmJsZS5jc3Moe2xlZnQ6IHggLSAoYnViYmxlLm91dGVyV2lkdGgoKS8yKX0pO1xuICBidWJibGUuZmluZCgnLnZhbHVlJykudGV4dCh2YWx1ZSk7XG5cbn0pO1xuLy9yZW1vdmUgcmFuZ2UgcG9wdXBcbiQoXCIucmFuZ2Utc2xpZGVyIGlucHV0W3R5cGU9cmFuZ2VdXCIpLm9uKCd0b3VjaGVuZCcsIGZ1bmN0aW9uKCkge1xuICAkKHRoaXMpLnBhcmVudCgpLmZpbmQoJy5idWJibGUnKS5yZW1vdmUoKVxufSk7XG5cbiIsIitmdW5jdGlvbiAoJCkgeyBcInVzZSBzdHJpY3RcIjtcblxuICAvLyBJTkxJTkUgU0VBUkNIQkFSIENMQVNTIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09PT09PVxuXG5cdHZhciBJbmxpbmVTZWFyY2hiYXIgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgdGhpcy4kZWxlbWVudCA9ICQoZWxlbWVudCk7XG4gICAgdGhpcy5vcHRpb25zICA9IG9wdGlvbnM7XG5cbiAgICB0aGlzLiRzZWFyY2hJbnB1dCA9ICQoZWxlbWVudCkuZmluZCgnaW5wdXQnKTtcbiAgICB0aGlzLiRzZWFyY2hTdWdnZXN0TGlzdCA9ICQoZWxlbWVudCkuZmluZCgnW2RhdGEtaWQ9XCJzZWFyY2gtc3VnZ2VzdFwiXScpO1xuICAgIHRoaXMuJHNlYXJjaFN1Z2dlc3RMaXN0SXRlbXMgPSAkKGVsZW1lbnQpLmZpbmQoJ1tkYXRhLWlkPVwic2VhcmNoLXN1Z2dlc3RcIl0gbGknKTtcblxuICAgIC8vIGxpc3RlbmVyc1xuICAgIHRoaXMuJGVsZW1lbnQub24oJ2tleXVwLmFpYS5pbmxpbmVzZWFyY2hiYXInLCB0aGlzLmtleXVwLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJHNlYXJjaElucHV0Lm9uKCdrZXl1cC5haWEuaW5saW5lc2VhcmNoYmFyJywgdGhpcy5kaWRLZXlTdWdnZXN0aW9uLmJpbmQodGhpcykpO1xuICAgIHRoaXMuJHNlYXJjaElucHV0Lm9uKCdmb2N1c291dCcsIHRoaXMubGVhdmUuYmluZCh0aGlzKSk7XG5cdH07XG5cbiAgSW5saW5lU2VhcmNoYmFyLlZFUlNJT04gPSAnMS4wJztcbiAgSW5saW5lU2VhcmNoYmFyLkRFRkFVTFRTID0ge307XG5cbiAgSW5saW5lU2VhcmNoYmFyLnByb3RvdHlwZS5sZWF2ZSA9IGZ1bmN0aW9uKGUpIHtcbiAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgdGhpcy4kc2VhcmNoU3VnZ2VzdExpc3QuaGlkZSgpO1xuICB9XG5cbiAgSW5saW5lU2VhcmNoYmFyLnByb3RvdHlwZS5rZXl1cCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAvLyAzOCB1cFxuICAgIC8vIDQwIGRvd25cbiAgICAvLyAyNyBlc2NhcGVcbiAgICAvLyAzMiBzcGFjZVxuICAgIGlmICghLygzOHw0MHwyN3wzMikvLnRlc3QoZS53aGljaCkpIHJldHVybjtcbiAgICB2YXIgaXNBY3RpdmUgPSB0aGlzLiRlbGVtZW50Lmhhc0NsYXNzKCdvcGVuJyk7XG4gICAgaWYgKCFpc0FjdGl2ZSkgcmV0dXJuO1xuICAgIGlmICghdGhpcy4kc2VhcmNoU3VnZ2VzdExpc3RJdGVtcy5sZW5ndGgpIHJldHVybjtcblxuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICBpZiAoZS53aGljaCA9PSAyNykge1xuICAgICAgdGhpcy4kZWxlbWVudC5yZW1vdmVDbGFzcygnb3BlbicpO1xuICAgICAgdGhpcy4kc2VhcmNoU3VnZ2VzdExpc3QuaGlkZSgpO1xuICAgIH1cbiAgICAvLyBpZiAodGhpcy4kc2VhcmNoSW5wdXQuaXMoJzpmb2N1cycpKSB7XG4gICAgLy8gICAvLyBkZWJ1Z2dlcjtcbiAgICAvLyAgIGlmIChlLndoaWNoID09IDM4KSB7IC8vIHVwIHRvIGxhc3QgaXRlbVxuICAgIC8vICAgICBpbmRleCA9IHRoaXMuJHNlYXJjaFN1Z2dlc3RMaXN0SXRlbXMubGVuZ3RoIC0gMTtcbiAgICAvLyAgIH1cbiAgICAvLyAgIGlmIChlLndoaWNoID09IDQwKSB7IC8vIGRvd24gdG8gZmlyc3QgaXRlbVxuICAgIC8vICAgICBpbmRleCA9IDA7XG4gICAgLy8gICB9XG4gICAgLy8gfSBlbHNlIHsgLy8gc3VnZ2VzdCBsaXN0IGlzIGluIGZvY3VzXG4gICAgLy8gICB2YXIgaW5kZXggPSB0aGlzLiRzZWFyY2hTdWdnZXN0TGlzdEl0ZW1zLmluZGV4KGUudGFyZ2V0KTtcbiAgICAvLyAgIGlmIChlLndoaWNoID09IDM4ICYmIGluZGV4ID4gMCkgeyAvLyB1cFxuICAgIC8vICAgICBpbmRleC0tO1xuICAgIC8vICAgfVxuICAgIC8vICAgaWYgKGUud2hpY2ggPT0gNDAgJiYgdGhpcy4kc2VhcmNoU3VnZ2VzdExpc3RJdGVtcy5sZW5ndGggLSAxKSB7IC8vIGRvd24gdG8gZmlyc3QgaXRlbVxuICAgIC8vICAgICBpbmRleCsrO1xuICAgIC8vICAgfVxuICAgIC8vIH1cbiAgICAvLyB0aGlzLiRzZWFyY2hTdWdnZXN0TGlzdEl0ZW1zLmVxKGluZGV4KS50cmlnZ2VyKCdmb2N1cycpO1xuICB9XG5cbiAgSW5saW5lU2VhcmNoYmFyLnByb3RvdHlwZS5kaWRLZXlTdWdnZXN0aW9uID0gZnVuY3Rpb24oZSkge1xuICAgIC8vIGlnbm9yZSBhY2Nlc2liaWxpdHkga2V5c1xuICAgIGlmICgvKDM4fDQwfDI3KS8udGVzdChlLndoaWNoKSkgcmV0dXJuO1xuXG4gICAgdmFyIHZhbCA9IHRoaXMuJHNlYXJjaElucHV0LnZhbCgpO1xuICAgIGlmICh2YWwubGVuZ3RoID4gNCkge1xuICAgICAgdGhpcy4kZWxlbWVudC5hZGRDbGFzcygnb3BlbicpO1xuICAgICAgdGhpcy4kc2VhcmNoU3VnZ2VzdExpc3Quc2hvdygpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLiRlbGVtZW50LnJlbW92ZUNsYXNzKCdvcGVuJyk7XG4gICAgICB0aGlzLiRzZWFyY2hTdWdnZXN0TGlzdC5oaWRlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gUExVR0lOIERFRklOSVRJT05cbiAgLy8gPT09PT09PT09PT09PT09PT09PT09XG5cbiAgZnVuY3Rpb24gUGx1Z2luKG9wdGlvbikge1xuICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgdmFyICR0aGlzID0gJCh0aGlzKTtcbiAgICAgIHZhciBkYXRhICA9ICR0aGlzLmRhdGEoJ2FpYS5pbmxpbmVzZWFyY2hiYXInKTtcblxuICAgICAgaWYgKCFkYXRhKSAkdGhpcy5kYXRhKCdhaWEuaW5saW5lc2VhcmNoYmFyJywgKGRhdGEgPSBuZXcgSW5saW5lU2VhcmNoYmFyKHRoaXMpKSk7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbiA9PSAnc3RyaW5nJykgZGF0YVtvcHRpb25dKCk7IC8vIG9wdGlvbiBpcyBtZXRob2QgY2FsbFxuICAgIH0pXG4gIH1cblxuICB2YXIgb2xkID0gJC5mbi5pbmxpbmVzZWFyY2hiYXI7XG5cbiAgJC5mbi5pbmxpbmVzZWFyY2hiYXIgICAgICAgICAgICAgPSBQbHVnaW47XG4gICQuZm4uaW5saW5lc2VhcmNoYmFyLkNvbnN0cnVjdG9yID0gSW5saW5lU2VhcmNoYmFyO1xuXG5cbiAgLy8gTk8gQ09ORkxJQ1RcbiAgLy8gPT09PT09PT09PT09PT09XG5cbiAgJC5mbi5pbmxpbmVzZWFyY2hiYXIubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAkLmZuLmlubGluZXNlYXJjaGJhciA9IG9sZDtcbiAgICByZXR1cm4gdGhpcztcbiAgfTtcbn0oalF1ZXJ5KTtcbiJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==

!function(root, factory) { 
    "function" == typeof define && define.amd ? define([], function() { 
        return root.svg4everybody = factory();
    }) : "object" == typeof exports ? module.exports = factory() : root.svg4everybody = factory();
}(this, function() { 
    /*svg4everybody v2.0.0 | github.com/jonathantneal/svg4everybody */
    function embed(svg, g) { 
        if (g) { 
            var viewBox = !svg.getAttribute("viewBox") && g.getAttribute("viewBox"), fragment = document.createDocumentFragment(), clone = g.cloneNode(!0);
            for (viewBox && svg.setAttribute("viewBox", viewBox); clone.childNodes.length; ) {
                fragment.appendChild(clone.firstChild);
            }
            svg.appendChild(fragment);
        }
    }
    function loadreadystatechange(xhr) {
        xhr.onreadystatechange = function() {
            if (4 === xhr.readyState) {
                var x = document.createElement("x");
                x.innerHTML = xhr.responseText, xhr.s.splice(0).map(function(array) {
                    embed(array[0], x.querySelector("#" + array[1].replace(/(\W)/g, "\\$1")));
                });
            }
        }, xhr.onreadystatechange();
    }
    function svg4everybody(opts) {
        function oninterval() {
            for (var use; use = uses[0]; ) {
                var svg = use.parentNode;
                if (svg && /svg/i.test(svg.nodeName)) {
                    var src = use.getAttribute("xlink:href");
                    if (polyfill && (!validate || validate(src, svg, use))) {
                        var url = src.split("#"), url_root = url[0], url_hash = url[1];
                        if (svg.removeChild(use), url_root.length) {
                            var xhr = svgCache[url_root] = svgCache[url_root] || new XMLHttpRequest();
                            xhr.s || (xhr.s = [], xhr.open("GET", url_root), xhr.send()), xhr.s.push([ svg, url_hash ]), 
                            loadreadystatechange(xhr);
                        } else {
                            embed(svg, document.getElementById(url_hash));
                        }
                    }
                }
            }
            requestAnimationFrame(oninterval, 17);
        }
        opts = opts || {};
        var uses = document.getElementsByTagName("use"), polyfill = "polyfill" in opts ? opts.polyfill : /\bEdge\/12\b|\bTrident\/[567]\b|\bVersion\/7.0 Safari\b/.test(navigator.userAgent) || (navigator.userAgent.match(/AppleWebKit\/(\d+)/) || [])[1] < 537, validate = opts.validate, requestAnimationFrame = window.requestAnimationFrame || setTimeout, svgCache = {};
        polyfill && oninterval();
    }
    return svg4everybody;
});
/* iFrame Resizer (iframeSizer.min.js ) - v3.5.1 - 2015-11-04
 *  Desc: Force cross domain iframes to size to content.
 *  Requires: iframeResizer.contentWindow.min.js to be loaded into the target frame.
 *  Copyright: (c) 2015 David J. Bradshaw - dave@bradshaw.net
 *  License: MIT
 */

!function(a){"use strict";function b(b,c,d){"addEventListener"in a?b.addEventListener(c,d,!1):"attachEvent"in a&&b.attachEvent("on"+c,d)}function c(b,c,d){"removeEventListener"in a?b.removeEventListener(c,d,!1):"detachEvent"in a&&b.detachEvent("on"+c,d)}function d(){var b,c=["moz","webkit","o","ms"];for(b=0;b<c.length&&!N;b+=1)N=a[c[b]+"RequestAnimationFrame"];N||h("setup","RequestAnimationFrame not supported")}function e(b){var c="Host page: "+b;return a.top!==a.self&&(c=a.parentIFrame&&a.parentIFrame.getId?a.parentIFrame.getId()+": "+b:"Nested host page: "+b),c}function f(a){return K+"["+e(a)+"]"}function g(a){return P[a]?P[a].log:G}function h(a,b){k("log",a,b,g(a))}function i(a,b){k("info",a,b,g(a))}function j(a,b){k("warn",a,b,!0)}function k(b,c,d,e){!0===e&&"object"==typeof a.console&&console[b](f(c),d)}function l(d){function e(){function a(){s(V),p(W)}g("Height"),g("Width"),t(a,V,"init")}function f(){var a=U.substr(L).split(":");return{iframe:P[a[0]].iframe,id:a[0],height:a[1],width:a[2],type:a[3]}}function g(a){var b=Number(P[W]["max"+a]),c=Number(P[W]["min"+a]),d=a.toLowerCase(),e=Number(V[d]);h(W,"Checking "+d+" is in range "+c+"-"+b),c>e&&(e=c,h(W,"Set "+d+" to min value")),e>b&&(e=b,h(W,"Set "+d+" to max value")),V[d]=""+e}function k(){function a(){function a(){var a=0,d=!1;for(h(W,"Checking connection is from allowed list of origins: "+c);a<c.length;a++)if(c[a]===b){d=!0;break}return d}function d(){var a=P[W].remoteHost;return h(W,"Checking connection is from: "+a),b===a}return c.constructor===Array?a():d()}var b=d.origin,c=P[W].checkOrigin;if(c&&""+b!="null"&&!a())throw new Error("Unexpected message received from: "+b+" for "+V.iframe.id+". Message was: "+d.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}function l(){return K===(""+U).substr(0,L)&&U.substr(L).split(":")[0]in P}function w(){var a=V.type in{"true":1,"false":1,undefined:1};return a&&h(W,"Ignoring init message from meta parent page"),a}function y(a){return U.substr(U.indexOf(":")+J+a)}function z(a){h(W,"MessageCallback passed: {iframe: "+V.iframe.id+", message: "+a+"}"),N("messageCallback",{iframe:V.iframe,message:JSON.parse(a)}),h(W,"--")}function A(){var b=document.body.getBoundingClientRect(),c=V.iframe.getBoundingClientRect();return JSON.stringify({clientHeight:Math.max(document.documentElement.clientHeight,a.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,a.innerWidth||0),offsetTop:parseInt(c.top-b.top,10),offsetLeft:parseInt(c.left-b.left,10),scrollTop:a.pageYOffset,scrollLeft:a.pageXOffset})}function B(a,b){function c(){u("Send Page Info","pageInfo:"+A(),a,b)}x(c,32)}function C(){function d(b,c){function d(){P[g]?B(P[g].iframe,g):e()}["scroll","resize"].forEach(function(e){h(g,b+e+" listener for sendPageInfo"),c(a,e,d)})}function e(){d("Remove ",c)}function f(){d("Add ",b)}var g=W;f(),P[g].stopPageInfo=e}function D(){P[W]&&P[W].stopPageInfo&&(P[W].stopPageInfo(),delete P[W].stopPageInfo)}function E(){var a=!0;return null===V.iframe&&(j(W,"IFrame ("+V.id+") not found"),a=!1),a}function F(a){var b=a.getBoundingClientRect();return o(W),{x:Math.floor(Number(b.left)+Number(M.x)),y:Math.floor(Number(b.top)+Number(M.y))}}function G(b){function c(){M=g,H(),h(W,"--")}function d(){return{x:Number(V.width)+f.x,y:Number(V.height)+f.y}}function e(){a.parentIFrame?a.parentIFrame["scrollTo"+(b?"Offset":"")](g.x,g.y):j(W,"Unable to scroll to requested position, window.parentIFrame not found")}var f=b?F(V.iframe):{x:0,y:0},g=d();h(W,"Reposition requested from iFrame (offset x:"+f.x+" y:"+f.y+")"),a.top!==a.self?e():c()}function H(){!1!==N("scrollCallback",M)?p(W):q()}function I(b){function c(){var a=F(g);h(W,"Moving to in page link (#"+e+") at x: "+a.x+" y: "+a.y),M={x:a.x,y:a.y},H(),h(W,"--")}function d(){a.parentIFrame?a.parentIFrame.moveToAnchor(e):h(W,"In page link #"+e+" not found and window.parentIFrame not found")}var e=b.split("#")[1]||"",f=decodeURIComponent(e),g=document.getElementById(f)||document.getElementsByName(f)[0];g?c():a.top!==a.self?d():h(W,"In page link #"+e+" not found")}function N(a,b){return m(W,a,b)}function O(){switch(P[W].firstRun&&T(),V.type){case"close":n(V.iframe);break;case"message":z(y(6));break;case"scrollTo":G(!1);break;case"scrollToOffset":G(!0);break;case"pageInfo":B(P[W].iframe,W),C();break;case"pageInfoStop":D();break;case"inPageLink":I(y(9));break;case"reset":r(V);break;case"init":e(),N("initCallback",V.iframe),N("resizedCallback",V);break;default:e(),N("resizedCallback",V)}}function Q(a){var b=!0;return P[a]||(b=!1,j(V.type+" No settings for "+a+". Message was: "+U)),b}function S(){for(var a in P)u("iFrame requested init",v(a),document.getElementById(a),a)}function T(){P[W].firstRun=!1}var U=d.data,V={},W=null;"[iFrameResizerChild]Ready"===U?S():l()?(V=f(),W=R=V.id,!w()&&Q(W)&&(h(W,"Received: "+U),E()&&k()&&O())):i(W,"Ignored: "+U)}function m(a,b,c){var d=null,e=null;if(P[a]){if(d=P[a][b],"function"!=typeof d)throw new TypeError(b+" on iFrame["+a+"] is not a function");e=d(c)}return e}function n(a){var b=a.id;h(b,"Removing iFrame: "+b),a.parentNode.removeChild(a),m(b,"closedCallback",b),h(b,"--"),delete P[b]}function o(b){null===M&&(M={x:void 0!==a.pageXOffset?a.pageXOffset:document.documentElement.scrollLeft,y:void 0!==a.pageYOffset?a.pageYOffset:document.documentElement.scrollTop},h(b,"Get page position: "+M.x+","+M.y))}function p(b){null!==M&&(a.scrollTo(M.x,M.y),h(b,"Set page position: "+M.x+","+M.y),q())}function q(){M=null}function r(a){function b(){s(a),u("reset","reset",a.iframe,a.id)}h(a.id,"Size reset requested by "+("init"===a.type?"host page":"iFrame")),o(a.id),t(b,a,"reset")}function s(a){function b(b){a.iframe.style[b]=a[b]+"px",h(a.id,"IFrame ("+e+") "+b+" set to "+a[b]+"px")}function c(b){H||"0"!==a[b]||(H=!0,h(e,"Hidden iFrame detected, creating visibility listener"),y())}function d(a){b(a),c(a)}var e=a.iframe.id;P[e]&&(P[e].sizeHeight&&d("height"),P[e].sizeWidth&&d("width"))}function t(a,b,c){c!==b.type&&N?(h(b.id,"Requesting animation frame"),N(a)):a()}function u(a,b,c,d){function e(){var e=P[d].targetOrigin;h(d,"["+a+"] Sending msg to iframe["+d+"] ("+b+") targetOrigin: "+e),c.contentWindow.postMessage(K+b,e)}function f(){i(d,"["+a+"] IFrame("+d+") not found"),P[d]&&delete P[d]}function g(){c&&"contentWindow"in c&&null!==c.contentWindow?e():f()}d=d||c.id,P[d]&&g()}function v(a){return a+":"+P[a].bodyMarginV1+":"+P[a].sizeWidth+":"+P[a].log+":"+P[a].interval+":"+P[a].enablePublicMethods+":"+P[a].autoResize+":"+P[a].bodyMargin+":"+P[a].heightCalculationMethod+":"+P[a].bodyBackground+":"+P[a].bodyPadding+":"+P[a].tolerance+":"+P[a].inPageLinks+":"+P[a].resizeFrom+":"+P[a].widthCalculationMethod}function w(a,c){function d(){function b(b){1/0!==P[w][b]&&0!==P[w][b]&&(a.style[b]=P[w][b]+"px",h(w,"Set "+b+" = "+P[w][b]+"px"))}function c(a){if(P[w]["min"+a]>P[w]["max"+a])throw new Error("Value for min"+a+" can not be greater than max"+a)}c("Height"),c("Width"),b("maxHeight"),b("minHeight"),b("maxWidth"),b("minWidth")}function e(){var a=c&&c.id||S.id+F++;return null!==document.getElementById(a)&&(a+=F++),a}function f(b){return R=b,""===b&&(a.id=b=e(),G=(c||{}).log,R=b,h(b,"Added missing iframe ID: "+b+" ("+a.src+")")),b}function g(){h(w,"IFrame scrolling "+(P[w].scrolling?"enabled":"disabled")+" for "+w),a.style.overflow=!1===P[w].scrolling?"hidden":"auto",a.scrolling=!1===P[w].scrolling?"no":"yes"}function i(){("number"==typeof P[w].bodyMargin||"0"===P[w].bodyMargin)&&(P[w].bodyMarginV1=P[w].bodyMargin,P[w].bodyMargin=""+P[w].bodyMargin+"px")}function k(){var b=P[w].firstRun,c=P[w].heightCalculationMethod in O;!b&&c&&r({iframe:a,height:0,width:0,type:"init"})}function l(){Function.prototype.bind&&(P[w].iframe.iFrameResizer={close:n.bind(null,P[w].iframe),resize:u.bind(null,"Window resize","resize",P[w].iframe),moveToAnchor:function(a){u("Move to anchor","inPageLink:"+a,P[w].iframe,w)},sendMessage:function(a){a=JSON.stringify(a),u("Send Message","message:"+a,P[w].iframe,w)}})}function m(c){function d(){u("iFrame.onload",c,a),k()}b(a,"load",d),u("init",c,a)}function o(a){if("object"!=typeof a)throw new TypeError("Options is not an object")}function p(a){for(var b in S)S.hasOwnProperty(b)&&(P[w][b]=a.hasOwnProperty(b)?a[b]:S[b])}function q(a){return""===a||"file://"===a?"*":a}function s(b){b=b||{},P[w]={firstRun:!0,iframe:a,remoteHost:a.src.split("/").slice(0,3).join("/")},o(b),p(b),P[w].targetOrigin=!0===P[w].checkOrigin?q(P[w].remoteHost):"*"}function t(){return w in P&&"iFrameResizer"in a}var w=f(a.id);t()?j(w,"Ignored iFrame, already setup."):(s(c),g(),d(),i(),m(v(w)),l())}function x(a,b){null===Q&&(Q=setTimeout(function(){Q=null,a()},b))}function y(){function b(){function a(a){function b(b){return"0px"===P[a].iframe.style[b]}function c(a){return null!==a.offsetParent}c(P[a].iframe)&&(b("height")||b("width"))&&u("Visibility change","resize",P[a].iframe,a)}for(var b in P)a(b)}function c(a){h("window","Mutation observed: "+a[0].target+" "+a[0].type),x(b,16)}function d(){var a=document.querySelector("body"),b={attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0},d=new e(c);d.observe(a,b)}var e=a.MutationObserver||a.WebKitMutationObserver;e&&d()}function z(a){function b(){B("Window "+a,"resize")}h("window","Trigger event: "+a),x(b,16)}function A(){function a(){B("Tab Visable","resize")}"hidden"!==document.visibilityState&&(h("document","Trigger event: Visiblity change"),x(a,16))}function B(a,b){function c(a){return"parent"===P[a].resizeFrom&&P[a].autoResize&&!P[a].firstRun}for(var d in P)c(d)&&u(a,b,document.getElementById(d),d)}function C(){b(a,"message",l),b(a,"resize",function(){z("resize")}),b(document,"visibilitychange",A),b(document,"-webkit-visibilitychange",A),b(a,"focusin",function(){z("focus")}),b(a,"focus",function(){z("focus")})}function D(){function a(a,c){function d(){if(!c.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==c.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+c.tagName+">")}c&&(d(),w(c,a),b.push(c))}var b;return d(),C(),function(c,d){switch(b=[],typeof d){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(d||"iframe"),a.bind(void 0,c));break;case"object":a(c,d);break;default:throw new TypeError("Unexpected data type ("+typeof d+")")}return b}}function E(a){a.fn.iFrameResize=function(a){return this.filter("iframe").each(function(b,c){w(c,a)}).end()}}var F=0,G=!1,H=!1,I="message",J=I.length,K="[iFrameSizer]",L=K.length,M=null,N=a.requestAnimationFrame,O={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},P={},Q=null,R="Host Page",S={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,widthCalculationMethod:"scroll",closedCallback:function(){},initCallback:function(){},messageCallback:function(){j("MessageCallback function not defined")},resizedCallback:function(){},scrollCallback:function(){return!0}};a.jQuery&&E(jQuery),"function"==typeof define&&define.amd?define([],D):"object"==typeof module&&"object"==typeof module.exports?module.exports=D():a.iFrameResize=a.iFrameResize||D()}(window||{});
//# sourceMappingURL=iframeResizer.map
$(document).ready(function() {
    +function ($) {
        "use strict";

        // INLINE SEARCHBAR CLASS DEFINITION
        // =========================

        var InlineSearchbar = function (element, options) {
        	
            this.$element = $(element);
            this.options = options;

            this.$searchInput = $(element).find('input');
            this.$searchSuggestList = $(element).find('[data-id="search-suggest"]');
            this.$searchSuggestListItems = $(element).find('[data-id="search-suggest"] li');

            // listeners
            this.$element.on('keyup.aia.inlinesearchbar', this.keyup.bind(this));
            this.$searchInput.on('keyup.aia.inlinesearchbar', this.didKeySuggestion.bind(this));
            this.$searchInput.on('focusout', this.leave.bind(this));
            
        };

        InlineSearchbar.VERSION = '1.0';
        InlineSearchbar.DEFAULTS = {};

        InlineSearchbar.prototype.leave = function (e) {
            this.$element.removeClass('open');
            this.$searchSuggestList.hide();
        }

        InlineSearchbar.prototype.keyup = function (e) {
            // 38 up
            // 40 down
            // 27 escape
            // 32 space
            if (!/(38|40|27|32)/.test(e.which)) return;
            var isActive = this.$element.hasClass('open');
            if (!isActive) return;
            if (!this.$searchSuggestListItems.length) return;

            e.preventDefault();
            e.stopPropagation();

            var index = 0;
            if (e.which == 27) {
                this.$element.removeClass('open');
                this.$searchSuggestList.hide();
            }
        }

        InlineSearchbar.prototype.didKeySuggestion = function (e) {
            // ignore accesibility keys
            if (/(38|40|27)/.test(e.which)) return;

            var val = this.$searchInput.val();
            /*
             if (val.length > 4) {
             this.$element.addClass('open');
             this.$searchSuggestList.show();
             } else {
             this.$element.removeClass('open');
             this.$searchSuggestList.hide();
             }
             */
            this.$element.addClass('open');
            //this.$searchSuggestList.show();
        }

        // PLUGIN DEFINITION
        // =====================

        function Plugin(option) {
            return this.each(function () {
                var $this = $(this);
                var data = $this.data('aia.inlinesearchbar');

                if (!data) $this.data('aia.inlinesearchbar', (data = new InlineSearchbar(this)));
                if (typeof option == 'string') data[option](); // option is method call
            })
        }

        var old = $.fn.inlinesearchbar;

        $.fn.inlinesearchbar = Plugin;
        $.fn.inlinesearchbar.Constructor = InlineSearchbar;


        // NO CONFLICT
        // ===============

        $.fn.inlinesearchbar.noConflict = function () {
            $.fn.inlinesearchbar = old;
            return this;
        };
    }(jQuery); 
});

var suggestItem = '';
suggestItem +=  '<li>' +
    '   <a href="javascript:doSearch({keyword})">' +
    '      <svg class="icon-xs hide-on-fallback" role="img" title="search-nav">' +
    '           <use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="{icon}"></use>' +
    '           <image class="icon-fallback" src="{icon}" xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href=""></image> ' +
    '       </svg>' +
    '       <span>{keyword}</span>' +
    '   </a>' +
    '</li>'

$(function () {
    var searchInput = $('[data-id="search-input"]');
    var searchSuggestBox = $('[data-id="search-suggest-box1"]');
    var close = true;
    searchInput.focus(function () {
        var nkey = $.trim($(this).val());

        var keywords = getSuggestItems(nkey);
        var html = '<ul class="search-suggest-list">';

        if (keywords && keywords.length && keywords.length > 0) {
            for (var i = 0; i < keywords.length; i++) {
                var item = suggestItem;
                var target = keywords[i];

                //if (target.indexOf("<") > -1) {
                //    target = target.replace(new RegExp('<', 'g'), '');
                //    target = target.replace(new RegExp('>', 'g'), '');
                //}
				target = target.replace(new RegExp(/'/g),"").replace(new RegExp(/</g),"").replace(new RegExp(/>/g),"").replace(new RegExp(/"/g),"");

                item = item.replace("{icon}", "/content/dam/aia/icons/icons.svg#search-nav");
                item = item.replace("{icon}", "/content/dam/aia/icons/navigation/search-nav.png");

                //item = item.replace("{keyword}", "'"+keywords[i]+"'").replace("{keyword}", target);
                item = item.replace("{keyword}", "'"+target+"'").replace("{keyword}", target);

                html += item;
            }
        }
        if (nkey) {
            html = afterAssociatedkeywords(html, nkey);
        }
        html += "</ul>";
        searchSuggestBox.html(html);
        searchSuggestBox.show();

    }).blur(function () {
        if (close) {
            //searchSuggestBox.hide();
        }
    }).keyup(function() {
        searchInput.focus();
    });

    $(".btn.btn-primary.go-btn").click(function (e) {
        doSearch(searchInput.val()); 
    });

    $('[data-id="search-input"]').attr("autocomplete", "off");
});

function getSuggestItems(keyword) {

    var data = new Array();
    var value = localData.get(aia_search_keyword);
    if (keyword && value) {
        var arr = value.split(aia_search_separator);
        for (var i = 0; i < arr.length; i++) {

            if (arr[i].indexOf(keyword) == 0) {
                data[data.length] = arr[i];
            }
            if (data.length > 4) {
                break;
            }
        }
    } else if (value) {
        var arr = value.split(aia_search_separator);
        for (var i = 0; i < arr.length; i++) {
            if (arr[i] == "") {
                continue;
            }
            data[data.length] = arr[i];
            if (data.length > 4) {
                break;
            }
        }
    }
    return data;
}

function setSuggestItem(keyword) {

    if (keyword && $.trim(keyword) != "") {

        var value = localData.get(aia_search_keyword);

        var target = aia_search_separator + keyword + aia_search_separator;
        if (value && value.indexOf(target) > -1) {
            if (value.indexOf(target) == 0) {
                value = value.replace(aia_search_separator + keyword, "");
            } else {
                value = value.replace(keyword + aia_search_separator, "");
            }
        } else if (value && value.indexOf(target < 0)) {

        } else {
            value = aia_search_separator;
        }

        value = aia_search_separator + keyword + value;
        if (value && value.split(aia_search_separator).length > 100) {
            value = value.substring(0, value.lastIndexOf(aia_search_separator)).substring(0, value.lastIndexOf(aia_search_separator));
        }

        localData.set(aia_search_keyword, value);
    }
}

function doSearch(keyword, type) {
    if(keyword){
		keyword = keyword.replace(new RegExp(/'/g),"").replace(new RegExp(/</g),"").replace(new RegExp(/>/g),"").replace(new RegExp(/"/g),"");
    }
    if (keyword && $.trim(keyword).length > 0) {        
    	setSuggestItem(keyword);
    }

    var searchExecutor = $("#searchExecutor").val();

    if (searchExecutor.lastIndexOf(".html") < 0) {
        searchExecutor = searchExecutor + ".html";
    }
    if (!type) { 
        type = "123";
    }
    
    $("#search_type").val(type);
    $("[data-id='search-input']").val(keyword);
    $("#search-form1").attr("action", searchExecutor);
    $("#search-form1").submit();
}

function afterAssociatedkeywords(html, keyword) {
    var target = keyword;
    target = target.replace(new RegExp(/'/g),"").replace(new RegExp(/</g),"").replace(new RegExp(/>/g),"").replace(new RegExp(/"/g),"");

    var searchOptions = $('[data-id="search-input"]').data('search-options');
    
    var item;
    if( !searchOptions.hideProductsFilter ){
	    item = suggestItem;
	    item = item.replace("{icon}", "/content/dam/aia/icons/icons.svg#productsearchaltg-2ndg");
	    item = item.replace("{icon}", "/content/dam/aia/icons/secondary/productsearchaltg-2ndg.png");
	    //item = item.replace("{keyword}", "'"+keyword + "','1'").replace("{keyword}", search.productString + " " + target);
        item = item.replace("{keyword}", "'"+target + "','1'").replace("{keyword}", search.productString + " " + target);
	    html += item;
    }
    
    if( !searchOptions.hideArticlesFilter ){
	    item = suggestItem;
	    item = item.replace("{icon}", "/content/dam/aia/icons/icons.svg#articlesearchaltg-2ndg");
	    item = item.replace("{icon}", "/content/dam/aia/icons/secondary/articlesearchaltg-2ndg.png");
	    //item = item.replace("{keyword}", "'"+keyword + "','2'").replace("{keyword}", search.articleString + " " + target);
        item = item.replace("{keyword}", "'"+target + "','2'").replace("{keyword}", search.articleString + " " + target);
	    html += item;
    }
    
    if( !searchOptions.hideFormsFilter ){
	    item = suggestItem;
	    item = item.replace("{icon}", "/content/dam/aia/icons/icons.svg#formsearchaltg-2ndg");
	    item = item.replace("{icon}", "/content/dam/aia/icons/secondary/formsearchaltg-2ndg.png");
		//item = item.replace("{keyword}", "'"+keyword + "','3'").replace("{keyword}", search.formString + " " + target);
	    item = item.replace("{keyword}", "'"+target + "','3'").replace("{keyword}", search.formString + " " + target);
	    html += item;
    }
    return html;
}

var aia_search_keyword = "aia_search_keyword";
var aia_search_separator = "/,/";

var localData = {
    hname: location.hostname ? location.hostname : 'localStatus',
    isLocalStorage: window.localStorage ? true : false,
    dataDom: null,

    initDom: function () {
        if (!this.dataDom) {
            try {
                this.dataDom = document.createElement('input');
                this.dataDom.type = 'hidden';
                this.dataDom.style.display = "none";
                this.dataDom.addBehavior('#default#userData');
                document.body.appendChild(this.dataDom);
                var exDate = new Date();
                exDate = exDate.getDate() + 30;
                this.dataDom.expires = exDate.toUTCString();
            } catch (ex) {
                return false;
            }
        }
        return true;
    },
    set: function (key, value) {
        if (this.isLocalStorage) {
            window.localStorage.setItem(key, value);
        } else {
            if (this.initDom()) {
                this.dataDom.load(this.hname);
                this.dataDom.setAttribute(key, value);
                this.dataDom.save(this.hname);
            }
        }
    },
    get: function (key) {
        if (this.isLocalStorage) {
            return window.localStorage.getItem(key);
        } else {
            if (this.initDom()) {
                this.dataDom.load(this.hname);
                return this.dataDom.getAttribute(key);
            }
        }
    },
    remove: function (key) {
        if (this.isLocalStorage) {
            localStorage.removeItem(key);
        } else {
            if (this.initDom()) {
                this.dataDom.load(this.hname);
                this.dataDom.removeAttribute(key);
                this.dataDom.save(this.hname);
            }
        }
    }
};
;
(function(W,S){"object"===typeof module&&module.exports?(S["default"]=S,module.exports=W.document?S(W):S):"function"===typeof define&&define.amd?define("highcharts/highstock",function(){return S(W)}):(W.Highcharts&&W.Highcharts.error(16,!0),W.Highcharts=S(W))})("undefined"!==typeof window?window:this,function(W){function S(O,m,a,C){O.hasOwnProperty(m)||(O[m]=C.apply(null,a))}var a={};S(a,"Core/Globals.js",[],function(){var a="undefined"!==typeof W?W:"undefined"!==typeof window?window:{},m=a.document,
A=a.navigator&&a.navigator.userAgent||"",C=m&&m.createElementNS&&!!m.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,F=/(edge|msie|trident)/i.test(A)&&!a.opera,N=-1!==A.indexOf("Firefox"),E=-1!==A.indexOf("Chrome"),I=N&&4>parseInt(A.split("Firefox/")[1],10),B=function(){};return{product:"Highcharts",version:" ",deg2rad:2*Math.PI/360,doc:m,hasBidiBug:I,hasTouch:!!a.TouchEvent,isMS:F,isWebKit:-1!==A.indexOf("AppleWebKit"),isFirefox:N,isChrome:E,isSafari:!E&&-1!==A.indexOf("Safari"),
isTouchDevice:/(Mobile|Android|Windows Phone)/.test(A),SVG_NS:"http://www.w3.org/2000/svg",chartCount:0,seriesTypes:{},supportsPassiveEvents:function(){var z=!1;if(!F){var r=Object.defineProperty({},"passive",{get:function(){z=!0}});a.addEventListener&&a.removeEventListener&&(a.addEventListener("testPassive",B,r),a.removeEventListener("testPassive",B,r))}return z}(),symbolSizes:{},svg:C,win:a,marginNames:["plotTop","marginRight","marginBottom","plotLeft"],noop:B,charts:[],dateFormats:{}}});S(a,"Core/Utilities.js",
[a["Core/Globals.js"]],function(a){function m(f,b,u,R){var t=b?"Highcharts error":"Highcharts warning";32===f&&(f=t+": Deprecated member");var P=r(f),g=P?t+" #"+f+": www.highcharts.com/errors/"+f+"/":f.toString();t=function(){if(b)throw Error(g);d.console&&-1===m.messages.indexOf(g)&&console.warn(g)};if("undefined"!==typeof R){var H="";P&&(g+="?");h(R,function(t,u){H+="\n - "+u+": "+t;P&&(g+=encodeURI(u)+"="+encodeURI(t))});g+=H}u?q(u,"displayError",{code:f,message:g,params:R},t):t();m.messages.push(g)}
function O(){var f,b=arguments,u={},R=function(t,u){"object"!==typeof t&&(t={});h(u,function(f,D){"__proto__"!==D&&"constructor"!==D&&(!I(f,!0)||z(f)||B(f)?t[D]=u[D]:t[D]=R(t[D]||{},f))});return t};!0===b[0]&&(u=b[1],b=Array.prototype.slice.call(b,2));var t=b.length;for(f=0;f<t;f++)u=R(u,b[f]);return u}function C(f,b){var u={};h(f,function(R,t){if(I(f[t],!0)&&!f.nodeType&&b[t])R=C(f[t],b[t]),Object.keys(R).length&&(u[t]=R);else if(I(f[t])||f[t]!==b[t])u[t]=f[t]});return u}function F(f,b){return parseInt(f,
b||10)}function N(f){return"string"===typeof f}function E(f){f=Object.prototype.toString.call(f);return"[object Array]"===f||"[object Array Iterator]"===f}function I(f,b){return!!f&&"object"===typeof f&&(!b||!E(f))}function B(f){return I(f)&&"number"===typeof f.nodeType}function z(f){var b=f&&f.constructor;return!(!I(f,!0)||B(f)||!b||!b.name||"Object"===b.name)}function r(f){return"number"===typeof f&&!isNaN(f)&&Infinity>f&&-Infinity<f}function v(f){return"undefined"!==typeof f&&null!==f}function c(f,
b,u){var R;N(b)?v(u)?f.setAttribute(b,u):f&&f.getAttribute&&((R=f.getAttribute(b))||"class"!==b||(R=f.getAttribute(b+"Name"))):h(b,function(t,u){f.setAttribute(u,t)});return R}function l(f,b){var u;f||(f={});for(u in b)f[u]=b[u];return f}function e(){for(var f=arguments,b=f.length,u=0;u<b;u++){var R=f[u];if("undefined"!==typeof R&&null!==R)return R}}function n(f,b){a.isMS&&!a.svg&&b&&"undefined"!==typeof b.opacity&&(b.filter="alpha(opacity="+100*b.opacity+")");l(f.style,b)}function y(f,d,u,R,t){f=
b.createElement(f);d&&l(f,d);t&&n(f,{padding:"0",border:"none",margin:"0"});u&&n(f,u);R&&R.appendChild(f);return f}function k(f,b){return parseFloat(f.toPrecision(b||14))}function Q(f,b,u,R){f=+f||0;b=+b;var t=a.defaultOptions.lang,P=(f.toString().split(".")[1]||"").split("e")[0].length,d=f.toString().split("e"),g=b;if(-1===b)b=Math.min(P,20);else if(!r(b))b=2;else if(b&&d[1]&&0>d[1]){var D=b+ +d[1];0<=D?(d[0]=(+d[0]).toExponential(D).split("e")[0],b=D):(d[0]=d[0].split(".")[0]||0,f=20>b?(d[0]*Math.pow(10,
d[1])).toFixed(b):0,d[1]=0)}var q=(Math.abs(d[1]?d[0]:f)+Math.pow(10,-Math.max(b,P)-1)).toFixed(b);P=String(F(q));D=3<P.length?P.length%3:0;u=e(u,t.decimalPoint);R=e(R,t.thousandsSep);f=(0>f?"-":"")+(D?P.substr(0,D)+R:"");f=0>+d[1]&&!g?"0":f+P.substr(D).replace(/(\d{3})(?=\d)/g,"$1"+R);b&&(f+=u+q.slice(-b));d[1]&&0!==+f&&(f+="e"+d[1]);return f}function w(f,b){if(!f)return b;var u=f.split(".").reverse();if(1===u.length)return b[f];for(f=u.pop();"undefined"!==typeof f&&"undefined"!==typeof b&&null!==
b;)b=b[f],f=u.pop();return b}function h(f,b,u){for(var d in f)Object.hasOwnProperty.call(f,d)&&b.call(u||f[d],f[d],d,f)}function G(f,b,u){function d(t,u){var b=f.removeEventListener||a.removeEventListenerPolyfill;b&&b.call(f,t,u,!1)}function t(t){var u;if(f.nodeName){if(b){var P={};P[b]=!0}else P=t;h(P,function(f,b){if(t[b])for(u=t[b].length;u--;)d(b,t[b][u].fn)})}}var P="function"===typeof f&&f.prototype||f;if(Object.hasOwnProperty.call(P,"hcEvents")){var g=P.hcEvents;b?(P=g[b]||[],u?(g[b]=P.filter(function(t){return u!==
t.fn}),d(b,u)):(t(g),g[b]=[])):(t(g),delete P.hcEvents)}}function q(f,d,u,R){u=u||{};if(b.createEvent&&(f.dispatchEvent||f.fireEvent)){var t=b.createEvent("Events");t.initEvent(d,!0,!0);l(t,u);f.dispatchEvent?f.dispatchEvent(t):f.fireEvent(d,t)}else if(f.hcEvents){u.target||l(u,{preventDefault:function(){u.defaultPrevented=!0},target:f,type:d});t=[];for(var P=f,g=!1;P.hcEvents;)Object.hasOwnProperty.call(P,"hcEvents")&&P.hcEvents[d]&&(t.length&&(g=!0),t.unshift.apply(t,P.hcEvents[d])),P=Object.getPrototypeOf(P);
g&&t.sort(function(t,u){return t.order-u.order});t.forEach(function(t){!1===t.fn.call(f,u)&&u.preventDefault()})}R&&!u.defaultPrevented&&R.call(f,u)}var x=a.charts,b=a.doc,d=a.win;"";(m||(m={})).messages=[];var L;Math.easeInOutSine=function(f){return-.5*(Math.cos(Math.PI*f)-1)};var M=Array.prototype.find?function(f,b){return f.find(b)}:function(f,b){var u,d=f.length;for(u=0;u<d;u++)if(b(f[u],u))return f[u]};h({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(f,b){a[b]=
function(u){var d;m(32,!1,void 0,(d={},d["Highcharts."+b]="use Array."+f,d));return Array.prototype[f].apply(u,[].slice.call(arguments,1))}});var K,g=function(){var f=Math.random().toString(36).substring(2,9)+"-",b=0;return function(){return"highcharts-"+(K?"":f)+b++}}(),J=a.getOptions=function(){return a.defaultOptions},p=a.setOptions=function(f){a.defaultOptions=O(!0,a.defaultOptions,f);(f.time||f.global)&&a.time.update(O(a.defaultOptions.global,a.defaultOptions.time,f.global,f.time));return a.defaultOptions};
d.jQuery&&(d.jQuery.fn.highcharts=function(){var f=[].slice.call(arguments);if(this[0])return f[0]?(new (a[N(f[0])?f.shift():"Chart"])(this[0],f[0],f[1]),this):x[c(this[0],"data-highcharts-chart")]});return{addEvent:function(f,b,u,d){void 0===d&&(d={});var t="function"===typeof f&&f.prototype||f;Object.hasOwnProperty.call(t,"hcEvents")||(t.hcEvents={});t=t.hcEvents;a.Point&&f instanceof a.Point&&f.series&&f.series.chart&&(f.series.chart.runTrackerClick=!0);var P=f.addEventListener||a.addEventListenerPolyfill;
P&&P.call(f,b,u,a.supportsPassiveEvents?{passive:void 0===d.passive?-1!==b.indexOf("touch"):d.passive,capture:!1}:!1);t[b]||(t[b]=[]);t[b].push({fn:u,order:"number"===typeof d.order?d.order:Infinity});t[b].sort(function(t,u){return t.order-u.order});return function(){G(f,b,u)}},arrayMax:function(b){for(var f=b.length,u=b[0];f--;)b[f]>u&&(u=b[f]);return u},arrayMin:function(b){for(var f=b.length,u=b[0];f--;)b[f]<u&&(u=b[f]);return u},attr:c,clamp:function(b,d,u){return b>d?b<u?b:u:d},cleanRecursively:C,
clearTimeout:function(b){v(b)&&clearTimeout(b)},correctFloat:k,createElement:y,css:n,defined:v,destroyObjectProperties:function(b,d){h(b,function(u,f){u&&u!==d&&u.destroy&&u.destroy();delete b[f]})},discardElement:function(b){L||(L=y("div"));b&&L.appendChild(b);L.innerHTML=""},erase:function(b,d){for(var u=b.length;u--;)if(b[u]===d){b.splice(u,1);break}},error:m,extend:l,extendClass:function(b,d){var u=function(){};u.prototype=new b;l(u.prototype,d);return u},find:M,fireEvent:q,format:function(b,
d,u){var f="{",t=!1,P=[],g=/f$/,q=/\.([0-9])/,D=a.defaultOptions.lang,p=u&&u.time||a.time;for(u=u&&u.numberFormatter||Q;b;){var e=b.indexOf(f);if(-1===e)break;var h=b.slice(0,e);if(t){h=h.split(":");f=w(h.shift()||"",d);if(h.length&&"number"===typeof f)if(h=h.join(":"),g.test(h)){var x=parseInt((h.match(q)||["","-1"])[1],10);null!==f&&(f=u(f,x,D.decimalPoint,-1<h.indexOf(",")?D.thousandsSep:""))}else f=p.dateFormat(h,f);P.push(f)}else P.push(h);b=b.slice(e+1);f=(t=!t)?"}":"{"}P.push(b);return P.join("")},
getMagnitude:function(b){return Math.pow(10,Math.floor(Math.log(b)/Math.LN10))},getNestedProperty:w,getOptions:J,getStyle:function(b,g,u){if("width"===g)return g=Math.min(b.offsetWidth,b.scrollWidth),u=b.getBoundingClientRect&&b.getBoundingClientRect().width,u<g&&u>=g-1&&(g=Math.floor(u)),Math.max(0,g-a.getStyle(b,"padding-left")-a.getStyle(b,"padding-right"));if("height"===g)return Math.max(0,Math.min(b.offsetHeight,b.scrollHeight)-a.getStyle(b,"padding-top")-a.getStyle(b,"padding-bottom"));d.getComputedStyle||
m(27,!0);if(b=d.getComputedStyle(b,void 0))b=b.getPropertyValue(g),e(u,"opacity"!==g)&&(b=F(b));return b},inArray:function(b,d,u){m(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return d.indexOf(b,u)},isArray:E,isClass:z,isDOMElement:B,isFunction:function(b){return"function"===typeof b},isNumber:r,isObject:I,isString:N,keys:function(b){m(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(b)},merge:O,normalizeTickInterval:function(b,d,u,g,t){var P=b;u=e(u,1);var f=b/
u;d||(d=t?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===g&&(1===u?d=d.filter(function(t){return 0===t%1}):.1>=u&&(d=[1/u])));for(g=0;g<d.length&&!(P=d[g],t&&P*u>=b||!t&&f<=(d[g]+(d[g+1]||d[g]))/2);g++);return P=k(P*u,-Math.round(Math.log(.001)/Math.LN10))},numberFormat:Q,objectEach:h,offset:function(f){var g=b.documentElement;f=f.parentElement||f.parentNode?f.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:f.top+(d.pageYOffset||g.scrollTop)-(g.clientTop||0),left:f.left+(d.pageXOffset||
g.scrollLeft)-(g.clientLeft||0),width:f.width,height:f.height}},pad:function(b,d,u){return Array((d||2)+1-String(b).replace("-","").length).join(u||"0")+b},pick:e,pInt:F,relativeLength:function(b,d,u){return/%$/.test(b)?d*parseFloat(b)/100+(u||0):parseFloat(b)},removeEvent:G,setOptions:p,splat:function(b){return E(b)?b:[b]},stableSort:function(b,d){var u=b.length,f,t;for(t=0;t<u;t++)b[t].safeI=t;b.sort(function(t,b){f=d(t,b);return 0===f?t.safeI-b.safeI:f});for(t=0;t<u;t++)delete b[t].safeI},syncTimeout:function(b,
d,u){if(0<d)return setTimeout(b,d,u);b.call(0,u);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:g,useSerialIds:function(b){return K=e(b,K)},wrap:function(b,d,u){var f=b[d];b[d]=function(){var b=Array.prototype.slice.call(arguments),d=arguments,g=this;g.proceed=function(){f.apply(g,arguments.length?arguments:d)};b.unshift(f);b=u.apply(this,b);g.proceed=null;return b}}}});S(a,"Core/Renderer/HTML/AST.js",[a["Core/Globals.js"],
a["Core/Utilities.js"]],function(a,m){var O=a.SVG_NS,C=m.attr,F=m.createElement,N=m.discardElement,E=m.error,I=m.isString,B=m.objectEach,z=m.splat;"";var r=!1;try{r=!!(new DOMParser).parseFromString("","text/html")}catch(v){}return function(){function v(c){this.nodes="string"===typeof c?this.parseMarkup(c):c}v.filterUserAttributes=function(c){B(c,function(l,e){var n=!0;-1===v.allowedAttributes.indexOf(e)&&(n=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(e)&&(n=I(l)&&v.allowedReferences.some(function(e){return 0===
l.indexOf(e)}));n||(E("Highcharts warning: Invalid attribute '"+e+"' in config"),delete c[e])});return c};v.setElementHTML=function(c,l){c.innerHTML="";l&&(new v(l)).addToDOM(c)};v.prototype.addToDOM=function(c){function l(e,c){var n;z(e).forEach(function(e){var k=e.tagName,y=e.textContent?a.doc.createTextNode(e.textContent):void 0;if(k)if("#text"===k)var h=y;else if(-1!==v.allowedTags.indexOf(k)){k=a.doc.createElementNS("svg"===k?O:c.namespaceURI||O,k);var G=e.attributes||{};B(e,function(q,e){"tagName"!==
e&&"attributes"!==e&&"children"!==e&&"textContent"!==e&&(G[e]=q)});C(k,v.filterUserAttributes(G));y&&k.appendChild(y);l(e.children||[],k);h=k}else E("Highcharts warning: Invalid tagName '"+k+"' in config");h&&c.appendChild(h);n=h});return n}return l(this.nodes,c)};v.prototype.parseMarkup=function(c){var l=[];if(r)c=(new DOMParser).parseFromString(c,"text/html");else{var e=F("div");e.innerHTML=c;c={body:e}}var n=function(e,c){var k=e.nodeName.toLowerCase(),y={tagName:k};if("#text"===k){k=e.textContent||
"";if(/^[\s]*$/.test(k))return;y.textContent=k}if(k=e.attributes){var h={};[].forEach.call(k,function(e){h[e.name]=e.value});y.attributes=h}if(e.childNodes.length){var G=[];[].forEach.call(e.childNodes,function(e){n(e,G)});G.length&&(y.children=G)}c.push(y)};[].forEach.call(c.body.childNodes,function(e){return n(e,l)});e&&N(e);return l};v.allowedTags="a b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text thead tbody tspan td th tr ul #text".split(" ");
v.allowedAttributes="aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill height href id in markerHeight markerWidth offset opacity orient padding paddingLeft patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style result rowspan summary target tabindex text-align textAnchor textLength type valign width x x1 xy y y1 y2 zIndex".split(" ");
v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");return v}()});S(a,"Core/Color/Color.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var O=m.isNumber,C=m.merge,F=m.pInt;"";m=function(){function m(E){this.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(a){return[F(a[1]),F(a[2]),F(a[3]),parseFloat(a[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(a){return[F(a[1]),
F(a[2]),F(a[3]),1]}}];this.rgba=[];if(a.Color!==m)return new a.Color(E);if(!(this instanceof m))return new m(E);this.init(E)}m.parse=function(a){return new m(a)};m.prototype.init=function(a){var I,B;if((this.input=a=m.names[a&&a.toLowerCase?a.toLowerCase():""]||a)&&a.stops)this.stops=a.stops.map(function(r){return new m(r[1])});else{if(a&&a.charAt&&"#"===a.charAt()){var z=a.length;a=parseInt(a.substr(1),16);7===z?I=[(a&16711680)>>16,(a&65280)>>8,a&255,1]:4===z&&(I=[(a&3840)>>4|(a&3840)>>8,(a&240)>>
4|a&240,(a&15)<<4|a&15,1])}if(!I)for(B=this.parsers.length;B--&&!I;){var r=this.parsers[B];(z=r.regex.exec(a))&&(I=r.parse(z))}}this.rgba=I||[]};m.prototype.get=function(a){var m=this.input,B=this.rgba;if("undefined"!==typeof this.stops){var z=C(m);z.stops=[].concat(z.stops);this.stops.forEach(function(r,v){z.stops[v]=[z.stops[v][0],r.get(a)]})}else z=B&&O(B[0])?"rgb"===a||!a&&1===B[3]?"rgb("+B[0]+","+B[1]+","+B[2]+")":"a"===a?B[3]:"rgba("+B.join(",")+")":m;return z};m.prototype.brighten=function(a){var m,
B=this.rgba;if(this.stops)this.stops.forEach(function(z){z.brighten(a)});else if(O(a)&&0!==a)for(m=0;3>m;m++)B[m]+=F(255*a),0>B[m]&&(B[m]=0),255<B[m]&&(B[m]=255);return this};m.prototype.setOpacity=function(a){this.rgba[3]=a;return this};m.prototype.tweenTo=function(a,m){var B=this.rgba,z=a.rgba;z.length&&B&&B.length?(a=1!==z[3]||1!==B[3],m=(a?"rgba(":"rgb(")+Math.round(z[0]+(B[0]-z[0])*(1-m))+","+Math.round(z[1]+(B[1]-z[1])*(1-m))+","+Math.round(z[2]+(B[2]-z[2])*(1-m))+(a?","+(z[3]+(B[3]-z[3])*(1-
m)):"")+")"):m=a.input||"none";return m};m.names={white:"#ffffff",black:"#000000"};return m}();a.Color=m;a.color=m.parse;return m});S(a,"Core/Color/Palette.js",[],function(){return{colors:"#7cb5ec #434348 #90ed7d #f7a35c #8085e9 #f15c80 #e4d354 #2b908f #f45b5b #91e8e1".split(" "),backgroundColor:"#ffffff",neutralColor100:"#000000",neutralColor80:"#333333",neutralColor60:"#666666",neutralColor40:"#999999",neutralColor20:"#cccccc",neutralColor10:"#e6e6e6",neutralColor5:"#f2f2f2",neutralColor3:"#f7f7f7",
highlightColor100:"#003399",highlightColor80:"#335cad",highlightColor60:"#6685c2",highlightColor20:"#ccd6eb",highlightColor10:"#e6ebf5",indicatorPositiveLine:"#06b535",indicatorNegativeLine:"#f21313"}});S(a,"Core/Animation/Fx.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var O=a.win,C=m.isNumber,F=m.objectEach;m=function(){function m(a,m,B){this.pos=NaN;this.options=m;this.elem=a;this.prop=B}m.prototype.dSetter=function(){var a=this.paths,m=a&&a[0];a=a&&a[1];var B=[],z=this.now||
0;if(1!==z&&m&&a)if(m.length===a.length&&1>z)for(var r=0;r<a.length;r++){for(var v=m[r],c=a[r],l=[],e=0;e<c.length;e++){var n=v[e],y=c[e];C(n)&&C(y)&&("A"!==c[0]||4!==e&&5!==e)?l[e]=n+z*(y-n):l[e]=y}B.push(l)}else B=a;else B=this.toD||[];this.elem.attr("d",B,void 0,!0)};m.prototype.update=function(){var a=this.elem,m=this.prop,B=this.now,z=this.options.step;if(this[m+"Setter"])this[m+"Setter"]();else a.attr?a.element&&a.attr(m,B,null,!0):a.style[m]=B+this.unit;z&&z.call(a,B,this)};m.prototype.run=
function(a,I,B){var z=this,r=z.options,v=function(e){return v.stopped?!1:z.step(e)},c=O.requestAnimationFrame||function(e){setTimeout(e,13)},l=function(){for(var e=0;e<m.timers.length;e++)m.timers[e]()||m.timers.splice(e--,1);m.timers.length&&c(l)};a!==I||this.elem["forceAnimate:"+this.prop]?(this.startTime=+new Date,this.start=a,this.end=I,this.unit=B,this.now=this.start,this.pos=0,v.elem=this.elem,v.prop=this.prop,v()&&1===m.timers.push(v)&&c(l)):(delete r.curAnim[this.prop],r.complete&&0===Object.keys(r.curAnim).length&&
r.complete.call(this.elem))};m.prototype.step=function(a){var m=+new Date,B=this.options,z=this.elem,r=B.complete,v=B.duration,c=B.curAnim;if(z.attr&&!z.element)a=!1;else if(a||m>=v+this.startTime){this.now=this.end;this.pos=1;this.update();var l=c[this.prop]=!0;F(c,function(e){!0!==e&&(l=!1)});l&&r&&r.call(z);a=!1}else this.pos=B.easing((m-this.startTime)/v),this.now=this.start+(this.end-this.start)*this.pos,this.update(),a=!0;return a};m.prototype.initPath=function(a,m,B){function z(e,c){for(;e.length<
k;){var h=e[0],n=c[k-e.length];n&&"M"===h[0]&&(e[0]="C"===n[0]?["C",h[1],h[2],h[1],h[2],h[1],h[2]]:["L",h[1],h[2]]);e.unshift(h);l&&e.push(e[e.length-1])}}function r(c,n){for(;c.length<k;)if(n=c[c.length/e-1].slice(),"C"===n[0]&&(n[1]=n[5],n[2]=n[6]),l){var h=c[c.length/e].slice();c.splice(c.length/2,0,n,h)}else c.push(n)}var v=a.startX,c=a.endX;m=m&&m.slice();B=B.slice();var l=a.isArea,e=l?2:1;if(!m)return[B,B];if(v&&c){for(a=0;a<v.length;a++)if(v[a]===c[0]){var n=a;break}else if(v[0]===c[c.length-
v.length+a]){n=a;var y=!0;break}else if(v[v.length-1]===c[c.length-v.length+a]){n=v.length-a;break}"undefined"===typeof n&&(m=[])}if(m.length&&C(n)){var k=B.length+n*e;y?(z(m,B),r(B,m)):(z(B,m),r(m,B))}return[m,B]};m.prototype.fillSetter=function(){m.prototype.strokeSetter.apply(this,arguments)};m.prototype.strokeSetter=function(){this.elem.attr(this.prop,a.color(this.start).tweenTo(a.color(this.end),this.pos),null,!0)};m.timers=[];return m}();a.Fx=m;a.timers=m.timers;return m});S(a,"Core/Animation/AnimationUtilities.js",
[a["Core/Animation/Fx.js"],a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,A){var O=A.defined,F=A.getStyle,N=A.isArray,E=A.isNumber,I=A.isObject,B=A.merge,z=A.objectEach,r=A.pick;A=m.setAnimation=function(e,c){c.renderer.globalAnimation=r(e,c.options.chart.animation,!0)};var v=m.animObject=function(e){return I(e)?B({duration:500,defer:0},e):{duration:e?500:0,defer:0}},c=m.getDeferredAnimation=function(e,c,y){var k=v(c),n=0,w=0;(y?[y]:e.series).forEach(function(e){e=v(e.options.animation);
n=c&&O(c.defer)?k.defer:Math.max(n,e.duration+e.defer);w=Math.min(k.duration,e.duration)});e.renderer.forExport&&(n=0);return{defer:Math.max(0,n-w),duration:Math.min(n,w)}},l=m.stop=function(e,c){for(var n=a.timers.length;n--;)a.timers[n].elem!==e||c&&c!==a.timers[n].prop||(a.timers[n].stopped=!0)};return{animate:function(e,c,y){var k,n="",w,h;if(!I(y)){var G=arguments;y={duration:G[2],easing:G[3],complete:G[4]}}E(y.duration)||(y.duration=400);y.easing="function"===typeof y.easing?y.easing:Math[y.easing]||
Math.easeInOutSine;y.curAnim=B(c);z(c,function(q,x){l(e,x);h=new a(e,y,x);w=null;"d"===x&&N(c.d)?(h.paths=h.initPath(e,e.pathArray,c.d),h.toD=c.d,k=0,w=1):e.attr?k=e.attr(x):(k=parseFloat(F(e,x))||0,"opacity"!==x&&(n="px"));w||(w=q);w&&w.match&&w.match("px")&&(w=w.replace(/px/g,""));h.run(k,w,n)})},animObject:v,getDeferredAnimation:c,setAnimation:A,stop:l}});S(a,"Core/Renderer/SVG/SVGElement.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Renderer/HTML/AST.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],
a["Core/Color/Palette.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N){var E=a.animate,I=a.animObject,B=a.stop,z=C.deg2rad,r=C.doc,v=C.hasTouch,c=C.noop,l=C.svg,e=C.SVG_NS,n=C.win,y=N.attr,k=N.createElement,Q=N.css,w=N.defined,h=N.erase,G=N.extend,q=N.fireEvent,x=N.isArray,b=N.isFunction,d=N.isNumber,L=N.isString,M=N.merge,K=N.objectEach,g=N.pick,J=N.pInt,p=N.syncTimeout,f=N.uniqueKey;"";a=function(){function H(){this.height=this.element=void 0;this.opacity=1;this.renderer=void 0;this.SVG_NS=e;
this.symbolCustomAttribs="x y width height r start end innerR anchorX anchorY rounded".split(" ");this.width=void 0}H.prototype._defaultGetter=function(b){b=g(this[b+"Value"],this[b],this.element?this.element.getAttribute(b):null,0);/^[\-0-9\.]+$/.test(b)&&(b=parseFloat(b));return b};H.prototype._defaultSetter=function(b,d,t){t.setAttribute(d,b)};H.prototype.add=function(b){var u=this.renderer,t=this.element;b&&(this.parentGroup=b);this.parentInverted=b&&b.inverted;"undefined"!==typeof this.textStr&&
"text"===this.element.nodeName&&u.buildText(this);this.added=!0;if(!b||b.handleZ||this.zIndex)var d=this.zIndexSetter();d||(b?b.element:u.box).appendChild(t);if(this.onAdd)this.onAdd();return this};H.prototype.addClass=function(b,d){var t=d?"":this.attr("class")||"";b=(b||"").split(/ /g).reduce(function(b,u){-1===t.indexOf(u)&&b.push(u);return b},t?[t]:[]).join(" ");b!==t&&this.attr("class",b);return this};H.prototype.afterSetters=function(){this.doTransform&&(this.updateTransform(),this.doTransform=
!1)};H.prototype.align=function(b,d,t){var u,f={};var e=this.renderer;var D=e.alignedObjects;var R,p;if(b){if(this.alignOptions=b,this.alignByTranslate=d,!t||L(t))this.alignTo=u=t||"renderer",h(D,this),D.push(this),t=void 0}else b=this.alignOptions,d=this.alignByTranslate,u=this.alignTo;t=g(t,e[u],e);u=b.align;e=b.verticalAlign;D=(t.x||0)+(b.x||0);var q=(t.y||0)+(b.y||0);"right"===u?R=1:"center"===u&&(R=2);R&&(D+=(t.width-(b.width||0))/R);f[d?"translateX":"x"]=Math.round(D);"bottom"===e?p=1:"middle"===
e&&(p=2);p&&(q+=(t.height-(b.height||0))/p);f[d?"translateY":"y"]=Math.round(q);this[this.placed?"animate":"attr"](f);this.placed=!0;this.alignAttr=f;return this};H.prototype.alignSetter=function(b){var u={left:"start",center:"middle",right:"end"};u[b]&&(this.alignValue=b,this.element.setAttribute("text-anchor",u[b]))};H.prototype.animate=function(b,d,t){var u=this,f=I(g(d,this.renderer.globalAnimation,!0));d=f.defer;g(r.hidden,r.msHidden,r.webkitHidden,!1)&&(f.duration=0);0!==f.duration?(t&&(f.complete=
t),p(function(){u.element&&E(u,b,f)},d)):(this.attr(b,void 0,t),K(b,function(b,t){f.step&&f.step.call(this,b,{prop:t,pos:1,elem:this})},this));return this};H.prototype.applyTextOutline=function(b){var u=this.element;-1!==b.indexOf("contrast")&&(b=b.replace(/contrast/g,this.renderer.getContrast(u.style.fill)));var t=b.split(" ");b=t[t.length-1];if((t=t[0])&&"none"!==t&&C.svg){this.fakeTS=!0;this.ySetter=this.xSetter;t=t.replace(/(^[\d\.]+)(.*?)$/g,function(b,t,u){return 2*Number(t)+u});this.removeTextOutline();
var d=r.createElementNS(e,"tspan");y(d,{"class":"highcharts-text-outline",fill:b,stroke:b,"stroke-width":t,"stroke-linejoin":"round"});[].forEach.call(u.childNodes,function(b){var t=b.cloneNode(!0);t.removeAttribute&&["fill","stroke","stroke-width","stroke"].forEach(function(b){return t.removeAttribute(b)});d.appendChild(t)});b=r.createElementNS(e,"tspan");b.textContent="\u200b";y(b,{x:u.getAttribute("x"),y:u.getAttribute("y")});d.appendChild(b);u.insertBefore(d,u.firstChild)}};H.prototype.attr=function(b,
d,t,f){var u=this.element,P,D=this,g,e,R=this.symbolCustomAttribs;if("string"===typeof b&&"undefined"!==typeof d){var p=b;b={};b[p]=d}"string"===typeof b?D=(this[b+"Getter"]||this._defaultGetter).call(this,b,u):(K(b,function(t,d){g=!1;f||B(this,d);this.symbolName&&-1!==R.indexOf(d)&&(P||(this.symbolAttr(b),P=!0),g=!0);!this.rotation||"x"!==d&&"y"!==d||(this.doTransform=!0);g||(e=this[d+"Setter"]||this._defaultSetter,e.call(this,t,d,u),!this.styledMode&&this.shadows&&/^(width|height|visibility|x|y|d|transform|cx|cy|r)$/.test(d)&&
this.updateShadows(d,t,e))},this),this.afterSetters());t&&t.call(this);return D};H.prototype.clip=function(b){return this.attr("clip-path",b?"url("+this.renderer.url+"#"+b.id+")":"none")};H.prototype.crisp=function(b,d){d=d||b.strokeWidth||0;var t=Math.round(d)%2/2;b.x=Math.floor(b.x||this.x||0)+t;b.y=Math.floor(b.y||this.y||0)+t;b.width=Math.floor((b.width||this.width||0)-2*t);b.height=Math.floor((b.height||this.height||0)-2*t);w(b.strokeWidth)&&(b.strokeWidth=d);return b};H.prototype.complexColor=
function(b,d,t){var u=this.renderer,g,e,D,p,R,h,c,J,k,n,L=[],G;q(this.renderer,"complexColor",{args:arguments},function(){b.radialGradient?e="radialGradient":b.linearGradient&&(e="linearGradient");if(e){D=b[e];R=u.gradients;h=b.stops;k=t.radialReference;x(D)&&(b[e]=D={x1:D[0],y1:D[1],x2:D[2],y2:D[3],gradientUnits:"userSpaceOnUse"});"radialGradient"===e&&k&&!w(D.gradientUnits)&&(p=D,D=M(D,u.getRadialAttr(k,p),{gradientUnits:"userSpaceOnUse"}));K(D,function(b,t){"id"!==t&&L.push(t,b)});K(h,function(b){L.push(b)});
L=L.join(",");if(R[L])n=R[L].attr("id");else{D.id=n=f();var P=R[L]=u.createElement(e).attr(D).add(u.defs);P.radAttr=p;P.stops=[];h.forEach(function(b){0===b[1].indexOf("rgba")?(g=A.parse(b[1]),c=g.get("rgb"),J=g.get("a")):(c=b[1],J=1);b=u.createElement("stop").attr({offset:b[0],"stop-color":c,"stop-opacity":J}).add(P);P.stops.push(b)})}G="url("+u.url+"#"+n+")";t.setAttribute(d,G);t.gradient=L;b.toString=function(){return G}}})};H.prototype.css=function(b){var d=this.styles,t={},u=this.element,f="",
g=!d,D=["textOutline","textOverflow","width"];b&&b.color&&(b.fill=b.color);d&&K(b,function(b,u){d&&d[u]!==b&&(t[u]=b,g=!0)});if(g){d&&(b=G(d,t));if(b)if(null===b.width||"auto"===b.width)delete this.textWidth;else if("text"===u.nodeName.toLowerCase()&&b.width)var e=this.textWidth=J(b.width);this.styles=b;e&&!l&&this.renderer.forExport&&delete b.width;if(u.namespaceURI===this.SVG_NS){var p=function(b,t){return"-"+t.toLowerCase()};K(b,function(b,t){-1===D.indexOf(t)&&(f+=t.replace(/([A-Z])/g,p)+":"+
b+";")});f&&y(u,"style",f)}else Q(u,b);this.added&&("text"===this.element.nodeName&&this.renderer.buildText(this),b&&b.textOutline&&this.applyTextOutline(b.textOutline))}return this};H.prototype.dashstyleSetter=function(b){var d=this["stroke-width"];"inherit"===d&&(d=1);if(b=b&&b.toLowerCase()){var t=b.replace("shortdashdotdot","3,1,1,1,1,1,").replace("shortdashdot","3,1,1,1").replace("shortdot","1,1,").replace("shortdash","3,1,").replace("longdash","8,3,").replace(/dot/g,"1,3,").replace("dash","4,3,").replace(/,$/,
"").split(",");for(b=t.length;b--;)t[b]=""+J(t[b])*g(d,NaN);b=t.join(",").replace(/NaN/g,"none");this.element.setAttribute("stroke-dasharray",b)}};H.prototype.destroy=function(){var b=this,d=b.element||{},t=b.renderer,f=t.isSVG&&"SPAN"===d.nodeName&&b.parentGroup||void 0,g=d.ownerSVGElement;d.onclick=d.onmouseout=d.onmouseover=d.onmousemove=d.point=null;B(b);if(b.clipPath&&g){var e=b.clipPath;[].forEach.call(g.querySelectorAll("[clip-path],[CLIP-PATH]"),function(b){-1<b.getAttribute("clip-path").indexOf(e.element.id)&&
b.removeAttribute("clip-path")});b.clipPath=e.destroy()}if(b.stops){for(g=0;g<b.stops.length;g++)b.stops[g].destroy();b.stops.length=0;b.stops=void 0}b.safeRemoveChild(d);for(t.styledMode||b.destroyShadows();f&&f.div&&0===f.div.childNodes.length;)d=f.parentGroup,b.safeRemoveChild(f.div),delete f.div,f=d;b.alignTo&&h(t.alignedObjects,b);K(b,function(t,d){b[d]&&b[d].parentGroup===b&&b[d].destroy&&b[d].destroy();delete b[d]})};H.prototype.destroyShadows=function(){(this.shadows||[]).forEach(function(b){this.safeRemoveChild(b)},
this);this.shadows=void 0};H.prototype.destroyTextPath=function(b,d){var t=b.getElementsByTagName("text")[0];if(t){if(t.removeAttribute("dx"),t.removeAttribute("dy"),d.element.setAttribute("id",""),this.textPathWrapper&&t.getElementsByTagName("textPath").length){for(b=this.textPathWrapper.element.childNodes;b.length;)t.appendChild(b[0]);t.removeChild(this.textPathWrapper.element)}}else if(b.getAttribute("dx")||b.getAttribute("dy"))b.removeAttribute("dx"),b.removeAttribute("dy");this.textPathWrapper&&
(this.textPathWrapper=this.textPathWrapper.destroy())};H.prototype.dSetter=function(b,d,t){x(b)&&("string"===typeof b[0]&&(b=this.renderer.pathToSegments(b)),this.pathArray=b,b=b.reduce(function(b,t,d){return t&&t.join?(d?b+" ":"")+t.join(" "):(t||"").toString()},""));/(NaN| {2}|^$)/.test(b)&&(b="M 0 0");this[d]!==b&&(t.setAttribute(d,b),this[d]=b)};H.prototype.fadeOut=function(b){var d=this;d.animate({opacity:0},{duration:g(b,150),complete:function(){d.attr({y:-9999}).hide()}})};H.prototype.fillSetter=
function(b,d,t){"string"===typeof b?t.setAttribute(d,b):b&&this.complexColor(b,d,t)};H.prototype.getBBox=function(d,f){var t,P=this.renderer,u=this.element,e=this.styles,D=this.textStr,p=P.cache,q=P.cacheKeys,h=u.namespaceURI===this.SVG_NS;f=g(f,this.rotation,0);var R=P.styledMode?u&&H.prototype.getStyle.call(u,"font-size"):e&&e.fontSize;if(w(D)){var c=D.toString();-1===c.indexOf("<")&&(c=c.replace(/[0-9]/g,"0"));c+=["",f,R,this.textWidth,e&&e.textOverflow,e&&e.fontWeight].join()}c&&!d&&(t=p[c]);
if(!t){if(h||P.forExport){try{var x=this.fakeTS&&function(b){var t=u.querySelector(".highcharts-text-outline");t&&Q(t,{display:b})};b(x)&&x("none");t=u.getBBox?G({},u.getBBox()):{width:u.offsetWidth,height:u.offsetHeight};b(x)&&x("")}catch(ca){""}if(!t||0>t.width)t={width:0,height:0}}else t=this.htmlGetBBox();P.isSVG&&(d=t.width,P=t.height,h&&(t.height=P={"11px,17":14,"13px,20":16}[e&&e.fontSize+","+Math.round(P)]||P),f&&(e=f*z,t.width=Math.abs(P*Math.sin(e))+Math.abs(d*Math.cos(e)),t.height=Math.abs(P*
Math.cos(e))+Math.abs(d*Math.sin(e))));if(c&&0<t.height){for(;250<q.length;)delete p[q.shift()];p[c]||q.push(c);p[c]=t}}return t};H.prototype.getStyle=function(b){return n.getComputedStyle(this.element||this,"").getPropertyValue(b)};H.prototype.hasClass=function(b){return-1!==(""+this.attr("class")).split(" ").indexOf(b)};H.prototype.hide=function(b){b?this.attr({y:-9999}):this.attr({visibility:"hidden"});return this};H.prototype.htmlGetBBox=function(){return{height:0,width:0,x:0,y:0}};H.prototype.init=
function(b,d){this.element="span"===d?k(d):r.createElementNS(this.SVG_NS,d);this.renderer=b;q(this,"afterInit")};H.prototype.invert=function(b){this.inverted=b;this.updateTransform();return this};H.prototype.on=function(b,d){var t,f,g=this.element,u;v&&"click"===b?(g.ontouchstart=function(b){t=b.touches[0].clientX;f=b.touches[0].clientY},g.ontouchend=function(b){t&&4<=Math.sqrt(Math.pow(t-b.changedTouches[0].clientX,2)+Math.pow(f-b.changedTouches[0].clientY,2))||d.call(g,b);u=!0;!1!==b.cancelable&&
b.preventDefault()},g.onclick=function(b){u||d.call(g,b)}):g["on"+b]=d;return this};H.prototype.opacitySetter=function(b,d,t){this.opacity=b=Number(Number(b).toFixed(3));t.setAttribute(d,b)};H.prototype.removeClass=function(b){return this.attr("class",(""+this.attr("class")).replace(L(b)?new RegExp("(^| )"+b+"( |$)"):b," ").replace(/ +/g," ").trim())};H.prototype.removeTextOutline=function(){var b=this.element.querySelector("tspan.highcharts-text-outline");b&&this.safeRemoveChild(b)};H.prototype.safeRemoveChild=
function(b){var d=b.parentNode;d&&d.removeChild(b)};H.prototype.setRadialReference=function(b){var d=this.element.gradient&&this.renderer.gradients[this.element.gradient];this.element.radialReference=b;d&&d.radAttr&&d.animate(this.renderer.getRadialAttr(b,d.radAttr));return this};H.prototype.setTextPath=function(b,g){var t=this.element,P=this.text?this.text.element:t,e={textAnchor:"text-anchor"},u=!1,D=this.textPathWrapper,p=!D;g=M(!0,{enabled:!0,attributes:{dy:-5,startOffset:"50%",textAnchor:"middle"}},
g);var q=m.filterUserAttributes(g.attributes);if(b&&g&&g.enabled){D&&null===D.element.parentNode?(p=!0,D=D.destroy()):D&&this.removeTextOutline.call(D.parentGroup);this.options&&this.options.padding&&(q.dx=-this.options.padding);D||(this.textPathWrapper=D=this.renderer.createElement("textPath"),u=!0);var h=D.element;(g=b.element.getAttribute("id"))||b.element.setAttribute("id",g=f());if(p)for(P.setAttribute("y",0),d(q.dx)&&P.setAttribute("x",-q.dx),b=[].slice.call(P.childNodes),p=0;p<b.length;p++){var x=
b[p];x.nodeType!==Node.TEXT_NODE&&"tspan"!==x.nodeName||h.appendChild(x)}u&&D&&D.add({element:P});h.setAttributeNS("http://www.w3.org/1999/xlink","href",this.renderer.url+"#"+g);w(q.dy)&&(h.parentNode.setAttribute("dy",q.dy),delete q.dy);w(q.dx)&&(h.parentNode.setAttribute("dx",q.dx),delete q.dx);K(q,function(b,t){h.setAttribute(e[t]||t,b)});t.removeAttribute("transform");this.removeTextOutline.call(D);this.text&&!this.renderer.styledMode&&this.attr({fill:"none","stroke-width":0});this.applyTextOutline=
this.updateTransform=c}else D&&(delete this.updateTransform,delete this.applyTextOutline,this.destroyTextPath(t,b),this.updateTransform(),this.options&&this.options.rotation&&this.applyTextOutline(this.options.style.textOutline));return this};H.prototype.shadow=function(b,d,t){var f=[],g=this.element,e=!1,D=this.oldShadowOptions;var u={color:F.neutralColor100,offsetX:1,offsetY:1,opacity:.15,width:3};var p;!0===b?p=u:"object"===typeof b&&(p=G(u,b));p&&(p&&D&&K(p,function(b,t){b!==D[t]&&(e=!0)}),e&&
this.destroyShadows(),this.oldShadowOptions=p);if(!p)this.destroyShadows();else if(!this.shadows){var q=p.opacity/p.width;var h=this.parentInverted?"translate(-1,-1)":"translate("+p.offsetX+", "+p.offsetY+")";for(u=1;u<=p.width;u++){var c=g.cloneNode(!1);var x=2*p.width+1-2*u;y(c,{stroke:b.color||F.neutralColor100,"stroke-opacity":q*u,"stroke-width":x,transform:h,fill:"none"});c.setAttribute("class",(c.getAttribute("class")||"")+" highcharts-shadow");t&&(y(c,"height",Math.max(y(c,"height")-x,0)),
c.cutHeight=x);d?d.element.appendChild(c):g.parentNode&&g.parentNode.insertBefore(c,g);f.push(c)}this.shadows=f}return this};H.prototype.show=function(b){return this.attr({visibility:b?"inherit":"visible"})};H.prototype.strokeSetter=function(b,d,t){this[d]=b;this.stroke&&this["stroke-width"]?(H.prototype.fillSetter.call(this,this.stroke,"stroke",t),t.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0):"stroke-width"===d&&0===b&&this.hasStroke?(t.removeAttribute("stroke"),this.hasStroke=
!1):this.renderer.styledMode&&this["stroke-width"]&&(t.setAttribute("stroke-width",this["stroke-width"]),this.hasStroke=!0)};H.prototype.strokeWidth=function(){if(!this.renderer.styledMode)return this["stroke-width"]||0;var b=this.getStyle("stroke-width"),d=0;if(b.indexOf("px")===b.length-2)d=J(b);else if(""!==b){var t=r.createElementNS(e,"rect");y(t,{width:b,"stroke-width":0});this.element.parentNode.appendChild(t);d=t.getBBox().width;t.parentNode.removeChild(t)}return d};H.prototype.symbolAttr=
function(b){var d=this;"x y r start end width height innerR anchorX anchorY clockwise".split(" ").forEach(function(t){d[t]=g(b[t],d[t])});d.attr({d:d.renderer.symbols[d.symbolName](d.x,d.y,d.width,d.height,d)})};H.prototype.textSetter=function(b){b!==this.textStr&&(delete this.textPxLength,this.textStr=b,this.added&&this.renderer.buildText(this))};H.prototype.titleSetter=function(b){var d=this.element,t=d.getElementsByTagName("title")[0]||r.createElementNS(this.SVG_NS,"title");d.insertBefore?d.insertBefore(t,
d.firstChild):d.appendChild(t);t.textContent=String(g(b,"")).replace(/<[^>]*>/g,"").replace(/&lt;/g,"<").replace(/&gt;/g,">")};H.prototype.toFront=function(){var b=this.element;b.parentNode.appendChild(b);return this};H.prototype.translate=function(b,d){return this.attr({translateX:b,translateY:d})};H.prototype.updateShadows=function(b,d,t){var f=this.shadows;if(f)for(var g=f.length;g--;)t.call(f[g],"height"===b?Math.max(d-(f[g].cutHeight||0),0):"d"===b?this.d:d,b,f[g])};H.prototype.updateTransform=
function(){var b=this.translateX||0,d=this.translateY||0,t=this.scaleX,f=this.scaleY,e=this.inverted,p=this.rotation,D=this.matrix,q=this.element;e&&(b+=this.width,d+=this.height);b=["translate("+b+","+d+")"];w(D)&&b.push("matrix("+D.join(",")+")");e?b.push("rotate(90) scale(-1,1)"):p&&b.push("rotate("+p+" "+g(this.rotationOriginX,q.getAttribute("x"),0)+" "+g(this.rotationOriginY,q.getAttribute("y")||0)+")");(w(t)||w(f))&&b.push("scale("+g(t,1)+" "+g(f,1)+")");b.length&&q.setAttribute("transform",
b.join(" "))};H.prototype.visibilitySetter=function(b,d,t){"inherit"===b?t.removeAttribute(d):this[d]!==b&&t.setAttribute(d,b);this[d]=b};H.prototype.xGetter=function(b){"circle"===this.element.nodeName&&("x"===b?b="cx":"y"===b&&(b="cy"));return this._defaultGetter(b)};H.prototype.zIndexSetter=function(b,d){var t=this.renderer,f=this.parentGroup,g=(f||t).element||t.box,e=this.element,D=!1;t=g===t.box;var p=this.added;var q;w(b)?(e.setAttribute("data-z-index",b),b=+b,this[d]===b&&(p=!1)):w(this[d])&&
e.removeAttribute("data-z-index");this[d]=b;if(p){(b=this.zIndex)&&f&&(f.handleZ=!0);d=g.childNodes;for(q=d.length-1;0<=q&&!D;q--){f=d[q];p=f.getAttribute("data-z-index");var h=!w(p);if(f!==e)if(0>b&&h&&!t&&!q)g.insertBefore(e,d[q]),D=!0;else if(J(p)<=b||h&&(!w(b)||0<=b))g.insertBefore(e,d[q+1]||null),D=!0}D||(g.insertBefore(e,d[t?3:0]||null),D=!0)}return D};return H}();a.prototype["stroke-widthSetter"]=a.prototype.strokeSetter;a.prototype.yGetter=a.prototype.xGetter;a.prototype.matrixSetter=a.prototype.rotationOriginXSetter=
a.prototype.rotationOriginYSetter=a.prototype.rotationSetter=a.prototype.scaleXSetter=a.prototype.scaleYSetter=a.prototype.translateXSetter=a.prototype.translateYSetter=a.prototype.verticalAlignSetter=function(b,d){this[d]=b;this.doTransform=!0};C.SVGElement=a;return C.SVGElement});S(a,"Core/Renderer/SVG/SVGLabel.js",[a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,m){function A(r,v){E(r)?r!==this[v]&&(this[v]=r,this.updateTextPadding()):this[v]=void 0}var C=this&&this.__extends||
function(){var r=function(v,c){r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,e){c.__proto__=e}||function(c,e){for(var n in e)e.hasOwnProperty(n)&&(c[n]=e[n])};return r(v,c)};return function(v,c){function l(){this.constructor=v}r(v,c);v.prototype=null===c?Object.create(c):(l.prototype=c.prototype,new l)}}(),F=m.defined,O=m.extend,E=m.isNumber,I=m.merge,B=m.pick,z=m.removeEvent;return function(r){function v(c,l,e,n,y,k,Q,w,h,G){var q=r.call(this)||this;q.paddingSetter=A;q.paddingLeftSetter=
A;q.paddingRightSetter=A;q.init(c,"g");q.textStr=l;q.x=e;q.y=n;q.anchorX=k;q.anchorY=Q;q.baseline=h;q.className=G;"button"!==G&&q.addClass("highcharts-label");G&&q.addClass("highcharts-"+G);q.text=c.text("",0,0,w).attr({zIndex:1});if("string"===typeof y){var x=/^url\((.*?)\)$/.test(y);if(q.renderer.symbols[y]||x)q.symbolKey=y}q.bBox=v.emptyBBox;q.padding=3;q.baselineOffset=0;q.needsBox=c.styledMode||x;q.deferredAttr={};q.alignFactor=0;return q}C(v,r);v.prototype.alignSetter=function(c){c={left:0,
center:.5,right:1}[c];c!==this.alignFactor&&(this.alignFactor=c,this.bBox&&E(this.xSetting)&&this.attr({x:this.xSetting}))};v.prototype.anchorXSetter=function(c,l){this.anchorX=c;this.boxAttr(l,Math.round(c)-this.getCrispAdjust()-this.xSetting)};v.prototype.anchorYSetter=function(c,l){this.anchorY=c;this.boxAttr(l,c-this.ySetting)};v.prototype.boxAttr=function(c,l){this.box?this.box.attr(c,l):this.deferredAttr[c]=l};v.prototype.css=function(c){if(c){var l={};c=I(c);v.textProps.forEach(function(e){"undefined"!==
typeof c[e]&&(l[e]=c[e],delete c[e])});this.text.css(l);var e="width"in l;"fontSize"in l||"fontWeight"in l?this.updateTextPadding():e&&this.updateBoxSize()}return a.prototype.css.call(this,c)};v.prototype.destroy=function(){z(this.element,"mouseenter");z(this.element,"mouseleave");this.text&&this.text.destroy();this.box&&(this.box=this.box.destroy());a.prototype.destroy.call(this)};v.prototype.fillSetter=function(c,l){c&&(this.needsBox=!0);this.fill=c;this.boxAttr(l,c)};v.prototype.getBBox=function(){var c=
this.bBox,l=this.padding,e=B(this.paddingLeft,l);return{width:this.width,height:this.height,x:c.x-e,y:c.y-l}};v.prototype.getCrispAdjust=function(){return this.renderer.styledMode&&this.box?this.box.strokeWidth()%2/2:(this["stroke-width"]?parseInt(this["stroke-width"],10):0)%2/2};v.prototype.heightSetter=function(c){this.heightSetting=c};v.prototype.on=function(c,l){var e=this,n=e.text,y=n&&"SPAN"===n.element.tagName?n:void 0;if(y){var k=function(k){("mouseenter"===c||"mouseleave"===c)&&k.relatedTarget instanceof
Element&&(e.element.compareDocumentPosition(k.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY||y.element.compareDocumentPosition(k.relatedTarget)&Node.DOCUMENT_POSITION_CONTAINED_BY)||l.call(e.element,k)};y.on(c,k)}a.prototype.on.call(e,c,k||l);return e};v.prototype.onAdd=function(){var c=this.textStr;this.text.add(this);this.attr({text:F(c)?c:"",x:this.x,y:this.y});this.box&&F(this.anchorX)&&this.attr({anchorX:this.anchorX,anchorY:this.anchorY})};v.prototype.rSetter=function(c,l){this.boxAttr(l,
c)};v.prototype.shadow=function(c){c&&!this.renderer.styledMode&&(this.updateBoxSize(),this.box&&this.box.shadow(c));return this};v.prototype.strokeSetter=function(c,l){this.stroke=c;this.boxAttr(l,c)};v.prototype["stroke-widthSetter"]=function(c,l){c&&(this.needsBox=!0);this["stroke-width"]=c;this.boxAttr(l,c)};v.prototype["text-alignSetter"]=function(c){this.textAlign=c};v.prototype.textSetter=function(c){"undefined"!==typeof c&&this.text.attr({text:c});this.updateTextPadding()};v.prototype.updateBoxSize=
function(){var c=this.text.element.style,l={},e=this.padding,n=this.bBox=E(this.widthSetting)&&E(this.heightSetting)&&!this.textAlign||!F(this.text.textStr)?v.emptyBBox:this.text.getBBox();this.width=this.getPaddedWidth();this.height=(this.heightSetting||n.height||0)+2*e;this.baselineOffset=e+Math.min(this.renderer.fontMetrics(c&&c.fontSize,this.text).b,n.height||Infinity);this.needsBox&&(this.box||(c=this.box=this.symbolKey?this.renderer.symbol(this.symbolKey):this.renderer.rect(),c.addClass(("button"===
this.className?"":"highcharts-label-box")+(this.className?" highcharts-"+this.className+"-box":"")),c.add(this)),c=this.getCrispAdjust(),l.x=c,l.y=(this.baseline?-this.baselineOffset:0)+c,l.width=Math.round(this.width),l.height=Math.round(this.height),this.box.attr(O(l,this.deferredAttr)),this.deferredAttr={})};v.prototype.updateTextPadding=function(){var c=this.text;this.updateBoxSize();var l=this.baseline?0:this.baselineOffset,e=B(this.paddingLeft,this.padding);F(this.widthSetting)&&this.bBox&&
("center"===this.textAlign||"right"===this.textAlign)&&(e+={center:.5,right:1}[this.textAlign]*(this.widthSetting-this.bBox.width));if(e!==c.x||l!==c.y)c.attr("x",e),c.hasBoxWidthChanged&&(this.bBox=c.getBBox(!0)),"undefined"!==typeof l&&c.attr("y",l);c.x=e;c.y=l};v.prototype.widthSetter=function(c){this.widthSetting=E(c)?c:void 0};v.prototype.getPaddedWidth=function(){var c=this.padding,l=B(this.paddingLeft,c);c=B(this.paddingRight,c);return(this.widthSetting||this.bBox.width||0)+l+c};v.prototype.xSetter=
function(c){this.x=c;this.alignFactor&&(c-=this.alignFactor*this.getPaddedWidth(),this["forceAnimate:x"]=!0);this.xSetting=Math.round(c);this.attr("translateX",this.xSetting)};v.prototype.ySetter=function(c){this.ySetting=this.y=Math.round(c);this.attr("translateY",this.ySetting)};v.emptyBBox={width:0,height:0,x:0,y:0};v.textProps="color direction fontFamily fontSize fontStyle fontWeight lineHeight textAlign textDecoration textOutline textOverflow width".split(" ");return v}(a)});S(a,"Core/Renderer/SVG/TextBuilder.js",
[a["Core/Globals.js"],a["Core/Utilities.js"],a["Core/Renderer/HTML/AST.js"]],function(a,m,A){var C=a.doc,F=a.SVG_NS,O=m.attr,E=m.isString,I=m.objectEach,B=m.pick;return function(){function a(r){var a=r.styles;this.renderer=r.renderer;this.svgElement=r;this.width=r.textWidth;this.textLineHeight=a&&a.lineHeight;this.textOutline=a&&a.textOutline;this.ellipsis=!(!a||"ellipsis"!==a.textOverflow);this.noWrap=!(!a||"nowrap"!==a.whiteSpace);this.fontSize=a&&a.fontSize}a.prototype.buildSVG=function(){var r=
this.svgElement,a=r.element,c=r.renderer,l=B(r.textStr,"").toString(),e=-1!==l.indexOf("<"),n=a.childNodes,y=n.length;c=this.width&&!r.added&&c.box;var k=/<br.*?>/g;var Q=[l,this.ellipsis,this.noWrap,this.textLineHeight,this.textOutline,this.fontSize,this.width].join();if(Q!==r.textCache){r.textCache=Q;for(delete r.actualWidth;y--;)a.removeChild(n[y]);e||this.ellipsis||this.width||-1!==l.indexOf(" ")&&(!this.noWrap||k.test(l))?""!==l&&(c&&c.appendChild(a),l=new A(l),this.modifyTree(l.nodes),l.addToDOM(r.element),
this.modifyDOM(),this.ellipsis&&-1!==(a.textContent||"").indexOf("\u2026")&&r.attr("title",this.unescapeEntities(r.textStr||"",["&lt;","&gt;"])),c&&c.removeChild(a)):a.appendChild(C.createTextNode(this.unescapeEntities(l)));E(this.textOutline)&&r.applyTextOutline&&r.applyTextOutline(this.textOutline)}};a.prototype.modifyDOM=function(){var a=this,v=this.svgElement,c=O(v.element,"x");[].forEach.call(v.element.querySelectorAll("tspan.highcharts-br"),function(e){e.nextSibling&&e.previousSibling&&O(e,
{dy:a.getLineHeight(e.nextSibling),x:c})});var l=this.width||0;if(l){var e=function(e,k){var n=e.textContent||"",y=n.replace(/([^\^])-/g,"$1- ").split(" "),h=!a.noWrap&&(1<y.length||1<v.element.childNodes.length),G=a.getLineHeight(k),q=0,x=v.actualWidth;if(a.ellipsis)n&&a.truncate(e,n,void 0,0,Math.max(0,l-parseInt(a.fontSize||12,10)),function(b,d){return b.substring(0,d)+"\u2026"});else if(h){n=[];for(h=[];k.firstChild&&k.firstChild!==e;)h.push(k.firstChild),k.removeChild(k.firstChild);for(;y.length;)y.length&&
!a.noWrap&&0<q&&(n.push(e.textContent||""),e.textContent=y.join(" ").replace(/- /g,"-")),a.truncate(e,void 0,y,0===q?x||0:0,l,function(b,d){return y.slice(0,d).join(" ").replace(/- /g,"-")}),x=v.actualWidth,q++;h.forEach(function(b){k.insertBefore(b,e)});n.forEach(function(b){k.insertBefore(C.createTextNode(b),e);b=C.createElementNS(F,"tspan");b.textContent="\u200b";O(b,{dy:G,x:c});k.insertBefore(b,e)})}},n=function(c){[].slice.call(c.childNodes).forEach(function(k){k.nodeType===Node.TEXT_NODE?e(k,
c):(-1!==k.className.baseVal.indexOf("highcharts-br")&&(v.actualWidth=0),n(k))})};n(v.element)}};a.prototype.getLineHeight=function(a){var r;a=a.nodeType===Node.TEXT_NODE?a.parentElement:a;this.renderer.styledMode||(r=a&&/(px|em)$/.test(a.style.fontSize)?a.style.fontSize:this.fontSize||this.renderer.style.fontSize||12);return this.textLineHeight?parseInt(this.textLineHeight.toString(),10):this.renderer.fontMetrics(r,a||this.svgElement.element).h};a.prototype.modifyTree=function(a){var r=this,c=function(l,
e){var n=l.tagName,y=r.renderer.styledMode,k=l.attributes||{};if("b"===n||"strong"===n)y?k["class"]="highcharts-strong":k.style="font-weight:bold;"+(k.style||"");else if("i"===n||"em"===n)y?k["class"]="highcharts-emphasized":k.style="font-style:italic;"+(k.style||"");E(k.style)&&(k.style=k.style.replace(/(;| |^)color([ :])/,"$1fill$2"));"br"===n&&(k["class"]="highcharts-br",l.textContent="\u200b",(e=a[e+1])&&e.textContent&&(e.textContent=e.textContent.replace(/^ +/gm,"")));"#text"!==n&&"a"!==n&&(l.tagName=
"tspan");l.attributes=k;l.children&&l.children.filter(function(e){return"#text"!==e.tagName}).forEach(c)};for(a.forEach(c);a[0]&&"tspan"===a[0].tagName&&!a[0].children;)a.splice(0,1)};a.prototype.truncate=function(a,v,c,l,e,n){var y=this.svgElement,k=y.renderer,Q=y.rotation,w=[],h=c?1:0,G=(v||c||"").length,q=G,x,b=function(b,d){d=d||b;var e=a.parentNode;if(e&&"undefined"===typeof w[d])if(e.getSubStringLength)try{w[d]=l+e.getSubStringLength(0,c?d+1:d)}catch(g){""}else k.getSpanWidth&&(a.textContent=
n(v||c,b),w[d]=l+k.getSpanWidth(y,a));return w[d]};y.rotation=0;var d=b(a.textContent.length);if(l+d>e){for(;h<=G;)q=Math.ceil((h+G)/2),c&&(x=n(c,q)),d=b(q,x&&x.length-1),h===G?h=G+1:d>e?G=q-1:h=q;0===G?a.textContent="":v&&G===v.length-1||(a.textContent=x||n(v||c,q))}c&&c.splice(0,q);y.actualWidth=d;y.rotation=Q};a.prototype.unescapeEntities=function(a,v){I(this.renderer.escapes,function(c,l){v&&-1!==v.indexOf(c)||(a=a.toString().replace(new RegExp(c,"g"),l))});return a};return a}()});S(a,"Core/Renderer/SVG/SVGRenderer.js",
[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGLabel.js"],a["Core/Renderer/HTML/AST.js"],a["Core/Renderer/SVG/TextBuilder.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I){var B=I.addEvent,z=I.attr,r=I.createElement,v=I.css,c=I.defined,l=I.destroyObjectProperties,e=I.extend,n=I.isArray,y=I.isNumber,k=I.isObject,Q=I.isString,w=I.merge,h=I.pick,G=I.pInt,q=I.uniqueKey,x=m.charts,b=m.deg2rad,d=m.doc,L=m.isFirefox,
M=m.isMS,K=m.isWebKit;I=m.noop;var g=m.SVG_NS,J=m.symbolSizes,p=m.win,f,H=function(){function g(b,d,g,f,e,D,p){this.width=this.url=this.style=this.isSVG=this.imgCount=this.height=this.gradients=this.globalAnimation=this.defs=this.chartIndex=this.cacheKeys=this.cache=this.boxWrapper=this.box=this.alignedObjects=void 0;this.init(b,d,g,f,e,D,p)}g.prototype.init=function(b,t,g,f,e,D,q){var P=this.createElement("svg").attr({version:"1.1","class":"highcharts-root"});q||P.css(this.getStyle(f));f=P.element;
b.appendChild(f);z(b,"dir","ltr");-1===b.innerHTML.indexOf("xmlns")&&z(f,"xmlns",this.SVG_NS);this.isSVG=!0;this.box=f;this.boxWrapper=P;this.alignedObjects=[];this.url=this.getReferenceURL();this.createElement("desc").add().element.appendChild(d.createTextNode("Created with Highcharts 9.0.1"));this.defs=this.createElement("defs").add();this.allowHTML=D;this.forExport=e;this.styledMode=q;this.gradients={};this.cache={};this.cacheKeys=[];this.imgCount=0;this.setSize(t,g,!1);var h;L&&b.getBoundingClientRect&&
(t=function(){v(b,{left:0,top:0});h=b.getBoundingClientRect();v(b,{left:Math.ceil(h.left)-h.left+"px",top:Math.ceil(h.top)-h.top+"px"})},t(),this.unSubPixelFix=B(p,"resize",t))};g.prototype.definition=function(b){return(new N([b])).addToDOM(this.defs.element)};g.prototype.getReferenceURL=function(){if((L||K)&&d.getElementsByTagName("base").length){if(!c(f)){var b=q();b=(new N([{tagName:"svg",attributes:{width:8,height:8},children:[{tagName:"defs",children:[{tagName:"clipPath",attributes:{id:b},children:[{tagName:"rect",
attributes:{width:4,height:4}}]}]},{tagName:"rect",attributes:{id:"hitme",width:8,height:8,"clip-path":"url(#"+b+")",fill:"rgba(0,0,0,0.001)"}}]}])).addToDOM(d.body);v(b,{position:"fixed",top:0,left:0,zIndex:9E5});var t=d.elementFromPoint(6,6);f="hitme"===(t&&t.id);d.body.removeChild(b)}if(f)return p.location.href.split("#")[0].replace(/<[^>]*>/g,"").replace(/([\('\)])/g,"\\$1").replace(/ /g,"%20")}return""};g.prototype.getStyle=function(b){return this.style=e({fontFamily:'"Lucida Grande", "Lucida Sans Unicode", Arial, Helvetica, sans-serif',
fontSize:"12px"},b)};g.prototype.setStyle=function(b){this.boxWrapper.css(this.getStyle(b))};g.prototype.isHidden=function(){return!this.boxWrapper.getBBox().width};g.prototype.destroy=function(){var b=this.defs;this.box=null;this.boxWrapper=this.boxWrapper.destroy();l(this.gradients||{});this.gradients=null;b&&(this.defs=b.destroy());this.unSubPixelFix&&this.unSubPixelFix();return this.alignedObjects=null};g.prototype.createElement=function(b){var d=new this.Element;d.init(this,b);return d};g.prototype.getRadialAttr=
function(b,d){return{cx:b[0]-b[2]/2+d.cx*b[2],cy:b[1]-b[2]/2+d.cy*b[2],r:d.r*b[2]}};g.prototype.buildText=function(b){(new E(b)).buildSVG()};g.prototype.getContrast=function(b){b=a.parse(b).rgba;b[0]*=1;b[1]*=1.2;b[2]*=.5;return 459<b[0]+b[1]+b[2]?"#000000":"#FFFFFF"};g.prototype.button=function(b,d,g,f,p,D,q,h,c,u){var t=this.label(b,d,g,c,void 0,void 0,u,void 0,"button"),P=0,x=this.styledMode,J=p?w(p):{};b=J&&J.style||{};J=N.filterUserAttributes(J);t.attr(w({padding:8,r:2},J));if(!x){J=w({fill:A.neutralColor3,
stroke:A.neutralColor20,"stroke-width":1,style:{color:A.neutralColor80,cursor:"pointer",fontWeight:"normal"}},{style:b},J);var k=J.style;delete J.style;D=w(J,{fill:A.neutralColor10},N.filterUserAttributes(D||{}));var n=D.style;delete D.style;q=w(J,{fill:A.highlightColor10,style:{color:A.neutralColor100,fontWeight:"bold"}},N.filterUserAttributes(q||{}));var L=q.style;delete q.style;h=w(J,{style:{color:A.neutralColor20}},N.filterUserAttributes(h||{}));var T=h.style;delete h.style}B(t.element,M?"mouseover":
"mouseenter",function(){3!==P&&t.setState(1)});B(t.element,M?"mouseout":"mouseleave",function(){3!==P&&t.setState(P)});t.setState=function(b){1!==b&&(t.state=P=b);t.removeClass(/highcharts-button-(normal|hover|pressed|disabled)/).addClass("highcharts-button-"+["normal","hover","pressed","disabled"][b||0]);x||t.attr([J,D,q,h][b||0]).css([k,n,L,T][b||0])};x||t.attr(J).css(e({cursor:"default"},k));return t.on("click",function(b){3!==P&&f.call(t,b)})};g.prototype.crispLine=function(b,d,g){void 0===g&&
(g="round");var t=b[0],f=b[1];t[1]===f[1]&&(t[1]=f[1]=Math[g](t[1])-d%2/2);t[2]===f[2]&&(t[2]=f[2]=Math[g](t[2])+d%2/2);return b};g.prototype.path=function(b){var d=this.styledMode?{}:{fill:"none"};n(b)?d.d=b:k(b)&&e(d,b);return this.createElement("path").attr(d)};g.prototype.circle=function(b,d,g){b=k(b)?b:"undefined"===typeof b?{}:{x:b,y:d,r:g};d=this.createElement("circle");d.xSetter=d.ySetter=function(b,d,t){t.setAttribute("c"+d,b)};return d.attr(b)};g.prototype.arc=function(b,d,g,f,e,D){k(b)?
(f=b,d=f.y,g=f.r,b=f.x):f={innerR:f,start:e,end:D};b=this.symbol("arc",b,d,g,g,f);b.r=g;return b};g.prototype.rect=function(b,d,g,f,e,D){e=k(b)?b.r:e;var t=this.createElement("rect");b=k(b)?b:"undefined"===typeof b?{}:{x:b,y:d,width:Math.max(g,0),height:Math.max(f,0)};this.styledMode||("undefined"!==typeof D&&(b.strokeWidth=D,b=t.crisp(b)),b.fill="none");e&&(b.r=e);t.rSetter=function(b,d,g){t.r=b;z(g,{rx:b,ry:b})};t.rGetter=function(){return t.r};return t.attr(b)};g.prototype.setSize=function(b,d,
g){var t=this.alignedObjects,f=t.length;this.width=b;this.height=d;for(this.boxWrapper.animate({width:b,height:d},{step:function(){this.attr({viewBox:"0 0 "+this.attr("width")+" "+this.attr("height")})},duration:h(g,!0)?void 0:0});f--;)t[f].align()};g.prototype.g=function(b){var d=this.createElement("g");return b?d.attr({"class":"highcharts-"+b}):d};g.prototype.image=function(b,d,g,f,q,D){var t={preserveAspectRatio:"none"},P=function(b,d){b.setAttributeNS?b.setAttributeNS("http://www.w3.org/1999/xlink",
"href",d):b.setAttribute("hc-svg-href",d)},h=function(d){P(c.element,b);D.call(c,d)};1<arguments.length&&e(t,{x:d,y:g,width:f,height:q});var c=this.createElement("image").attr(t);D?(P(c.element,"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),t=new p.Image,B(t,"load",h),t.src=b,t.complete&&h({})):P(c.element,b);return c};g.prototype.symbol=function(b,t,g,f,p,D){var P=this,q=/^url\((.*?)\)$/,u=q.test(b),k=!u&&(this.symbols[b]?b:"circle"),n=k&&this.symbols[k],M;if(n){"number"===
typeof t&&(M=n.call(this.symbols,Math.round(t||0),Math.round(g||0),f||0,p||0,D));var L=this.path(M);P.styledMode||L.attr("fill","none");e(L,{symbolName:k,x:t,y:g,width:f,height:p});D&&e(L,D)}else if(u){var G=b.match(q)[1];L=this.image(G);L.imgwidth=h(J[G]&&J[G].width,D&&D.width);L.imgheight=h(J[G]&&J[G].height,D&&D.height);var K=function(){L.attr({width:L.width,height:L.height})};["width","height"].forEach(function(b){L[b+"Setter"]=function(b,d){var t={},g=this["img"+d],f="width"===d?"translateX":
"translateY";this[d]=b;c(g)&&(D&&"within"===D.backgroundSize&&this.width&&this.height&&(g=Math.round(g*Math.min(this.width/this.imgwidth,this.height/this.imgheight))),this.element&&this.element.setAttribute(d,g),this.alignByTranslate||(t[f]=((this[d]||0)-g)/2,this.attr(t)))}});c(t)&&L.attr({x:t,y:g});L.isImg=!0;c(L.imgwidth)&&c(L.imgheight)?K():(L.attr({width:0,height:0}),r("img",{onload:function(){var b=x[P.chartIndex];0===this.width&&(v(this,{position:"absolute",top:"-999em"}),d.body.appendChild(this));
J[G]={width:this.width,height:this.height};L.imgwidth=this.width;L.imgheight=this.height;L.element&&K();this.parentNode&&this.parentNode.removeChild(this);P.imgCount--;if(!P.imgCount&&b&&!b.hasLoaded)b.onload()},src:G}),this.imgCount++)}return L};g.prototype.clipRect=function(b,d,g,f){var t=q()+"-",e=this.createElement("clipPath").attr({id:t}).add(this.defs);b=this.rect(b,d,g,f,0).add(e);b.id=t;b.clipPath=e;b.count=0;return b};g.prototype.text=function(b,d,g,f){var t={};if(f&&(this.allowHTML||!this.forExport))return this.html(b,
d,g);t.x=Math.round(d||0);g&&(t.y=Math.round(g));c(b)&&(t.text=b);b=this.createElement("text").attr(t);f||(b.xSetter=function(b,d,t){var g=t.getElementsByTagName("tspan"),f=t.getAttribute(d),e;for(e=0;e<g.length;e++){var D=g[e];D.getAttribute(d)===f&&D.setAttribute(d,b)}t.setAttribute(d,b)});return b};g.prototype.fontMetrics=function(b,d){b=!this.styledMode&&/px/.test(b)||!p.getComputedStyle?b||d&&d.style&&d.style.fontSize||this.style&&this.style.fontSize:d&&C.prototype.getStyle.call(d,"font-size");
b=/px/.test(b)?G(b):12;d=24>b?b+3:Math.round(1.2*b);return{h:d,b:Math.round(.8*d),f:b}};g.prototype.rotCorr=function(d,t,g){var f=d;t&&g&&(f=Math.max(f*Math.cos(t*b),4));return{x:-d/3*Math.sin(t*b),y:f}};g.prototype.pathToSegments=function(b){for(var d=[],g=[],f={A:8,C:7,H:2,L:3,M:3,Q:5,S:5,T:3,V:2},e=0;e<b.length;e++)Q(g[0])&&y(b[e])&&g.length===f[g[0].toUpperCase()]&&b.splice(e,0,g[0].replace("M","L").replace("m","l")),"string"===typeof b[e]&&(g.length&&d.push(g.slice(0)),g.length=0),g.push(b[e]);
d.push(g.slice(0));return d};g.prototype.label=function(b,d,g,f,e,D,p,q,h){return new F(this,b,d,g,f,e,D,p,q,h)};return g}();H.prototype.Element=C;H.prototype.SVG_NS=g;H.prototype.draw=I;H.prototype.escapes={"&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;"};H.prototype.symbols={circle:function(b,d,t,g){return this.arc(b+t/2,d+g/2,t/2,g/2,{start:.5*Math.PI,end:2.5*Math.PI,open:!1})},square:function(b,d,t,g){return[["M",b,d],["L",b+t,d],["L",b+t,d+g],["L",b,d+g],["Z"]]},triangle:function(b,
d,t,g){return[["M",b+t/2,d],["L",b+t,d+g],["L",b,d+g],["Z"]]},"triangle-down":function(b,d,t,g){return[["M",b,d],["L",b+t,d],["L",b+t/2,d+g],["Z"]]},diamond:function(b,d,t,g){return[["M",b+t/2,d],["L",b+t,d+g/2],["L",b+t/2,d+g],["L",b,d+g/2],["Z"]]},arc:function(b,d,t,g,f){var e=[];if(f){var D=f.start||0,p=f.end||0,q=f.r||t;t=f.r||g||t;var P=.001>Math.abs(p-D-2*Math.PI);p-=.001;g=f.innerR;P=h(f.open,P);var x=Math.cos(D),u=Math.sin(D),J=Math.cos(p),k=Math.sin(p);D=h(f.longArc,.001>p-D-Math.PI?0:1);
e.push(["M",b+q*x,d+t*u],["A",q,t,0,D,h(f.clockwise,1),b+q*J,d+t*k]);c(g)&&e.push(P?["M",b+g*J,d+g*k]:["L",b+g*J,d+g*k],["A",g,g,0,D,c(f.clockwise)?1-f.clockwise:0,b+g*x,d+g*u]);P||e.push(["Z"])}return e},callout:function(b,d,t,g,f){var e=Math.min(f&&f.r||0,t,g),D=e+6,p=f&&f.anchorX;f=f&&f.anchorY||0;var q=[["M",b+e,d],["L",b+t-e,d],["C",b+t,d,b+t,d,b+t,d+e],["L",b+t,d+g-e],["C",b+t,d+g,b+t,d+g,b+t-e,d+g],["L",b+e,d+g],["C",b,d+g,b,d+g,b,d+g-e],["L",b,d+e],["C",b,d,b,d,b+e,d]];if(!y(p))return q;b+
p>=t?f>d+D&&f<d+g-D?q.splice(3,1,["L",b+t,f-6],["L",b+t+6,f],["L",b+t,f+6],["L",b+t,d+g-e]):q.splice(3,1,["L",b+t,g/2],["L",p,f],["L",b+t,g/2],["L",b+t,d+g-e]):0>=b+p?f>d+D&&f<d+g-D?q.splice(7,1,["L",b,f+6],["L",b-6,f],["L",b,f-6],["L",b,d+e]):q.splice(7,1,["L",b,g/2],["L",p,f],["L",b,g/2],["L",b,d+e]):f&&f>g&&p>b+D&&p<b+t-D?q.splice(5,1,["L",p+6,d+g],["L",p,d+g+6],["L",p-6,d+g],["L",b+e,d+g]):f&&0>f&&p>b+D&&p<b+t-D&&q.splice(1,1,["L",p-6,d],["L",p,d-6],["L",p+6,d],["L",t-e,d]);return q}};m.SVGRenderer=
H;m.Renderer=m.SVGRenderer;return m.Renderer});S(a,"Core/Renderer/HTML/HTMLElement.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,m,A){var C=A.css,F=A.defined,O=A.extend,E=A.pick,I=A.pInt,B=a.isFirefox;O(m.prototype,{htmlCss:function(a){var r="SPAN"===this.element.tagName&&a&&"width"in a,v=E(r&&a.width,void 0);if(r){delete a.width;this.textWidth=v;var c=!0}a&&"ellipsis"===a.textOverflow&&(a.whiteSpace="nowrap",a.overflow="hidden");this.styles=O(this.styles,
a);C(this.element,a);c&&this.htmlUpdateTransform();return this},htmlGetBBox:function(){var a=this.element;return{x:a.offsetLeft,y:a.offsetTop,width:a.offsetWidth,height:a.offsetHeight}},htmlUpdateTransform:function(){if(this.added){var a=this.renderer,r=this.element,v=this.translateX||0,c=this.translateY||0,l=this.x||0,e=this.y||0,n=this.textAlign||"left",y={left:0,center:.5,right:1}[n],k=this.styles,Q=k&&k.whiteSpace;C(r,{marginLeft:v,marginTop:c});!a.styledMode&&this.shadows&&this.shadows.forEach(function(e){C(e,
{marginLeft:v+1,marginTop:c+1})});this.inverted&&[].forEach.call(r.childNodes,function(e){a.invertChild(e,r)});if("SPAN"===r.tagName){k=this.rotation;var w=this.textWidth&&I(this.textWidth),h=[k,n,r.innerHTML,this.textWidth,this.textAlign].join(),G;(G=w!==this.oldTextWidth)&&!(G=w>this.oldTextWidth)&&((G=this.textPxLength)||(C(r,{width:"",whiteSpace:Q||"nowrap"}),G=r.offsetWidth),G=G>w);G&&(/[ \-]/.test(r.textContent||r.innerText)||"ellipsis"===r.style.textOverflow)?(C(r,{width:w+"px",display:"block",
whiteSpace:Q||"normal"}),this.oldTextWidth=w,this.hasBoxWidthChanged=!0):this.hasBoxWidthChanged=!1;h!==this.cTT&&(Q=a.fontMetrics(r.style.fontSize,r).b,!F(k)||k===(this.oldRotation||0)&&n===this.oldAlign||this.setSpanRotation(k,y,Q),this.getSpanCorrection(!F(k)&&this.textPxLength||r.offsetWidth,Q,y,k,n));C(r,{left:l+(this.xCorr||0)+"px",top:e+(this.yCorr||0)+"px"});this.cTT=h;this.oldRotation=k;this.oldAlign=n}}else this.alignOnAdd=!0},setSpanRotation:function(a,r,v){var c={},l=this.renderer.getTransformKey();
c[l]=c.transform="rotate("+a+"deg)";c[l+(B?"Origin":"-origin")]=c.transformOrigin=100*r+"% "+v+"px";C(this.element,c)},getSpanCorrection:function(a,r,v){this.xCorr=-a*v;this.yCorr=-r}});return m});S(a,"Core/Renderer/HTML/HTMLRenderer.js",[a["Core/Globals.js"],a["Core/Renderer/HTML/AST.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,A,C,F){var O=a.isFirefox,E=a.isMS,I=a.isWebKit,B=a.win,z=F.attr,r=F.createElement,v=F.extend,c=F.pick;
v(C.prototype,{getTransformKey:function(){return E&&!/Edge/.test(B.navigator.userAgent)?"-ms-transform":I?"-webkit-transform":O?"MozTransform":B.opera?"-o-transform":""},html:function(a,e,n){var y=this.createElement("span"),k=y.element,Q=y.renderer,w=Q.isSVG,h=function(e,q){["opacity","visibility"].forEach(function(h){e[h+"Setter"]=function(b,d,c){var x=e.div?e.div.style:q;A.prototype[h+"Setter"].call(this,b,d,c);x&&(x[d]=b)}});e.addedSetters=!0};y.textSetter=function(e){e!==this.textStr&&(delete this.bBox,
delete this.oldTextWidth,m.setElementHTML(this.element,c(e,"")),this.textStr=e,y.doTransform=!0)};w&&h(y,y.element.style);y.xSetter=y.ySetter=y.alignSetter=y.rotationSetter=function(e,q){"align"===q?y.alignValue=y.textAlign=e:y[q]=e;y.doTransform=!0};y.afterSetters=function(){this.doTransform&&(this.htmlUpdateTransform(),this.doTransform=!1)};y.attr({text:a,x:Math.round(e),y:Math.round(n)}).css({position:"absolute"});Q.styledMode||y.css({fontFamily:this.style.fontFamily,fontSize:this.style.fontSize});
k.style.whiteSpace="nowrap";y.css=y.htmlCss;w&&(y.add=function(e){var q=Q.box.parentNode,c=[];if(this.parentGroup=e){var b=e.div;if(!b){for(;e;)c.push(e),e=e.parentGroup;c.reverse().forEach(function(d){function e(b,e){d[e]=b;"translateX"===e?g.left=b+"px":g.top=b+"px";d.doTransform=!0}var x=z(d.element,"class"),k=d.styles||{};b=d.div=d.div||r("div",x?{className:x}:void 0,{position:"absolute",left:(d.translateX||0)+"px",top:(d.translateY||0)+"px",display:d.display,opacity:d.opacity,cursor:k.cursor,
pointerEvents:k.pointerEvents},b||q);var g=b.style;v(d,{classSetter:function(b){return function(d){this.element.setAttribute("class",d);b.className=d}}(b),on:function(){c[0].div&&y.on.apply({element:c[0].div},arguments);return d},translateXSetter:e,translateYSetter:e});d.addedSetters||h(d)})}}else b=q;b.appendChild(k);y.added=!0;y.alignOnAdd&&y.htmlUpdateTransform();return y});return y}});return C});S(a,"Core/Time.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var A=a.win,C=m.defined,
F=m.error,O=m.extend,E=m.isObject,I=m.merge,B=m.objectEach,z=m.pad,r=m.pick,v=m.splat,c=m.timeUnits;"";m=function(){function l(e){this.options={};this.variableTimezone=this.useUTC=!1;this.Date=A.Date;this.getTimezoneOffset=this.timezoneOffsetFunction();this.update(e)}l.prototype.get=function(e,c){if(this.variableTimezone||this.timezoneOffset){var n=c.getTime(),k=n-this.getTimezoneOffset(c);c.setTime(k);e=c["getUTC"+e]();c.setTime(n);return e}return this.useUTC?c["getUTC"+e]():c["get"+e]()};l.prototype.set=
function(e,c,a){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===e||"Seconds"===e||"Minutes"===e&&0===this.getTimezoneOffset(c)%36E5)return c["setUTC"+e](a);var k=this.getTimezoneOffset(c);k=c.getTime()-k;c.setTime(k);c["setUTC"+e](a);e=this.getTimezoneOffset(c);k=c.getTime()+e;return c.setTime(k)}return this.useUTC?c["setUTC"+e](a):c["set"+e](a)};l.prototype.update=function(e){var c=r(e&&e.useUTC,!0);this.options=e=I(!0,this.options||{},e);this.Date=e.Date||A.Date||Date;this.timezoneOffset=
(this.useUTC=c)&&e.timezoneOffset;this.getTimezoneOffset=this.timezoneOffsetFunction();this.variableTimezone=c&&!(!e.getTimezoneOffset&&!e.timezone)};l.prototype.makeTime=function(e,c,y,k,Q,w){if(this.useUTC){var h=this.Date.UTC.apply(0,arguments);var n=this.getTimezoneOffset(h);h+=n;var q=this.getTimezoneOffset(h);n!==q?h+=q-n:n-36E5!==this.getTimezoneOffset(h-36E5)||a.isSafari||(h-=36E5)}else h=(new this.Date(e,c,r(y,1),r(k,0),r(Q,0),r(w,0))).getTime();return h};l.prototype.timezoneOffsetFunction=
function(){var e=this,c=this.options,a=c.moment||A.moment;if(!this.useUTC)return function(e){return 6E4*(new Date(e.toString())).getTimezoneOffset()};if(c.timezone){if(a)return function(e){return 6E4*-a.tz(e,c.timezone).utcOffset()};F(25)}return this.useUTC&&c.getTimezoneOffset?function(e){return 6E4*c.getTimezoneOffset(e.valueOf())}:function(){return 6E4*(e.timezoneOffset||0)}};l.prototype.dateFormat=function(e,c,y){var k;if(!C(c)||isNaN(c))return(null===(k=a.defaultOptions.lang)||void 0===k?void 0:
k.invalidDate)||"";e=r(e,"%Y-%m-%d %H:%M:%S");var n=this;k=new this.Date(c);var w=this.get("Hours",k),h=this.get("Day",k),G=this.get("Date",k),q=this.get("Month",k),x=this.get("FullYear",k),b=a.defaultOptions.lang,d=null===b||void 0===b?void 0:b.weekdays,L=null===b||void 0===b?void 0:b.shortWeekdays;k=O({a:L?L[h]:d[h].substr(0,3),A:d[h],d:z(G),e:z(G,2," "),w:h,b:b.shortMonths[q],B:b.months[q],m:z(q+1),o:q+1,y:x.toString().substr(2,2),Y:x,H:z(w),k:w,I:z(w%12||12),l:w%12||12,M:z(this.get("Minutes",
k)),p:12>w?"AM":"PM",P:12>w?"am":"pm",S:z(k.getSeconds()),L:z(Math.floor(c%1E3),3)},a.dateFormats);B(k,function(b,d){for(;-1!==e.indexOf("%"+d);)e=e.replace("%"+d,"function"===typeof b?b.call(n,c):b)});return y?e.substr(0,1).toUpperCase()+e.substr(1):e};l.prototype.resolveDTLFormat=function(e){return E(e,!0)?e:(e=v(e),{main:e[0],from:e[1],to:e[2]})};l.prototype.getTimeTicks=function(e,n,a,k){var y=this,w=[],h={};var G=new y.Date(n);var q=e.unitRange,x=e.count||1,b;k=r(k,1);if(C(n)){y.set("Milliseconds",
G,q>=c.second?0:x*Math.floor(y.get("Milliseconds",G)/x));q>=c.second&&y.set("Seconds",G,q>=c.minute?0:x*Math.floor(y.get("Seconds",G)/x));q>=c.minute&&y.set("Minutes",G,q>=c.hour?0:x*Math.floor(y.get("Minutes",G)/x));q>=c.hour&&y.set("Hours",G,q>=c.day?0:x*Math.floor(y.get("Hours",G)/x));q>=c.day&&y.set("Date",G,q>=c.month?1:Math.max(1,x*Math.floor(y.get("Date",G)/x)));if(q>=c.month){y.set("Month",G,q>=c.year?0:x*Math.floor(y.get("Month",G)/x));var d=y.get("FullYear",G)}q>=c.year&&y.set("FullYear",
G,d-d%x);q===c.week&&(d=y.get("Day",G),y.set("Date",G,y.get("Date",G)-d+k+(d<k?-7:0)));d=y.get("FullYear",G);k=y.get("Month",G);var L=y.get("Date",G),M=y.get("Hours",G);n=G.getTime();!y.variableTimezone&&y.useUTC||!C(a)||(b=a-n>4*c.month||y.getTimezoneOffset(n)!==y.getTimezoneOffset(a));n=G.getTime();for(G=1;n<a;)w.push(n),n=q===c.year?y.makeTime(d+G*x,0):q===c.month?y.makeTime(d,k+G*x):!b||q!==c.day&&q!==c.week?b&&q===c.hour&&1<x?y.makeTime(d,k,L,M+G*x):n+q*x:y.makeTime(d,k,L+G*x*(q===c.day?1:7)),
G++;w.push(n);q<=c.hour&&1E4>w.length&&w.forEach(function(b){0===b%18E5&&"000000000"===y.dateFormat("%H%M%S%L",b)&&(h[b]="day")})}w.info=O(e,{higherRanks:h,totalRange:q*x});return w};return l}();a.Time=m;return a.Time});S(a,"Core/Options.js",[a["Core/Globals.js"],a["Core/Color/Color.js"],a["Core/Color/Palette.js"],a["Core/Time.js"],a["Core/Utilities.js"]],function(a,m,A,C,F){var O=a.isTouchDevice,E=a.svg;m=m.parse;F=F.merge;"";a.defaultOptions={colors:A.colors,symbols:["circle","diamond","square",
"triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,
timezoneOffset:0,useUTC:!0},chart:{styledMode:!1,borderRadius:0,colorCount:10,defaultSeriesType:"line",ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},zoomBySingleTouch:!1,width:null,height:null,borderColor:A.highlightColor80,backgroundColor:A.backgroundColor,plotBorderColor:A.neutralColor20},title:{text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{text:"",align:"center",widthAdjust:-44},caption:{margin:15,text:"",
align:"left",verticalAlign:"bottom"},plotOptions:{},labels:{style:{position:"absolute",color:A.neutralColor80}},legend:{enabled:!0,align:"center",alignColumns:!0,layout:"horizontal",labelFormatter:function(){return this.name},borderColor:A.neutralColor40,borderRadius:0,navigation:{activeColor:A.highlightColor100,inactiveColor:A.neutralColor20},itemStyle:{color:A.neutralColor80,cursor:"pointer",fontSize:"12px",fontWeight:"bold",textOverflow:"ellipsis"},itemHoverStyle:{color:A.neutralColor100},itemHiddenStyle:{color:A.neutralColor20},
shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:A.backgroundColor,opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:E,borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %b %e, %H:%M:%S.%L",second:"%A, %b %e, %H:%M:%S",minute:"%A, %b %e, %H:%M",hour:"%A, %b %e, %H:%M",
day:"%A, %b %e, %Y",week:"Week from %A, %b %e, %Y",month:"%B %Y",year:"%Y"},footerFormat:"",padding:8,snap:O?25:10,headerFormat:'<span style="font-size: 10px">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:m(A.neutralColor3).setOpacity(.85).get(),borderWidth:1,shadow:!0,style:{color:A.neutralColor80,cursor:"default",fontSize:"12px",whiteSpace:"nowrap"}},credits:{enabled:!0,href:"https://www.highcharts.com?credits",
position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:A.neutralColor40,fontSize:"9px"},text:"Highcharts.com"}};a.defaultOptions.chart.styledMode=!1;"";a.time=new C(F(a.defaultOptions.global,a.defaultOptions.time));a.dateFormat=function(m,B,z){return a.time.dateFormat(m,B,z)};return{dateFormat:a.dateFormat,defaultOptions:a.defaultOptions,time:a.time}});S(a,"Core/Axis/Tick.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var A=a.deg2rad,C=m.clamp,F=
m.correctFloat,O=m.defined,E=m.destroyObjectProperties,I=m.extend,B=m.fireEvent,z=m.isNumber,r=m.merge,v=m.objectEach,c=m.pick;"";m=function(){function a(e,c,a,k,l){this.isNewLabel=this.isNew=!0;this.axis=e;this.pos=c;this.type=a||"";this.parameters=l||{};this.tickmarkOffset=this.parameters.tickmarkOffset;this.options=this.parameters.options;B(this,"init");a||k||this.addLabel()}a.prototype.addLabel=function(){var e=this,a=e.axis,y=a.options,k=a.chart,l=a.categories,w=a.logarithmic,h=a.names,G=e.pos,
q=c(e.options&&e.options.labels,y.labels),x=a.tickPositions,b=G===x[0],d=G===x[x.length-1];h=this.parameters.category||(l?c(l[G],h[G],G):G);var L=e.label;l=(!q.step||1===q.step)&&1===a.tickInterval;x=x.info;var M,K;if(a.dateTime&&x){var g=k.time.resolveDTLFormat(y.dateTimeLabelFormats[!y.grid&&x.higherRanks[G]||x.unitName]);var J=g.main}e.isFirst=b;e.isLast=d;e.formatCtx={axis:a,chart:k,isFirst:b,isLast:d,dateTimeLabelFormat:J,tickPositionInfo:x,value:w?F(w.lin2log(h)):h,pos:G};y=a.labelFormatter.call(e.formatCtx,
this.formatCtx);if(K=g&&g.list)e.shortenLabel=function(){for(M=0;M<K.length;M++)if(L.attr({text:a.labelFormatter.call(I(e.formatCtx,{dateTimeLabelFormat:K[M]}))}),L.getBBox().width<a.getSlotWidth(e)-2*c(q.padding,5))return;L.attr({text:""})};l&&a._addedPlotLB&&e.moveLabel(y,q);O(L)||e.movedLabel?L&&L.textStr!==y&&!l&&(!L.textWidth||q.style&&q.style.width||L.styles.width||L.css({width:null}),L.attr({text:y}),L.textPxLength=L.getBBox().width):(e.label=L=e.createLabel({x:0,y:0},y,q),e.rotation=0)};a.prototype.createLabel=
function(e,c,a){var k=this.axis,n=k.chart;if(e=O(c)&&a.enabled?n.renderer.text(c,e.x,e.y,a.useHTML).add(k.labelGroup):null)n.styledMode||e.css(r(a.style)),e.textPxLength=e.getBBox().width;return e};a.prototype.destroy=function(){E(this,this.axis)};a.prototype.getPosition=function(e,c,a,k){var n=this.axis,y=n.chart,h=k&&y.oldChartHeight||y.chartHeight;e={x:e?F(n.translate(c+a,null,null,k)+n.transB):n.left+n.offset+(n.opposite?(k&&y.oldChartWidth||y.chartWidth)-n.right-n.left:0),y:e?h-n.bottom+n.offset-
(n.opposite?n.height:0):F(h-n.translate(c+a,null,null,k)-n.transB)};e.y=C(e.y,-1E5,1E5);B(this,"afterGetPosition",{pos:e});return e};a.prototype.getLabelPosition=function(e,c,a,k,l,w,h,G){var q=this.axis,x=q.transA,b=q.isLinked&&q.linkedParent?q.linkedParent.reversed:q.reversed,d=q.staggerLines,L=q.tickRotCorr||{x:0,y:0},M=l.y,n=k||q.reserveSpaceDefault?0:-q.labelOffset*("center"===q.labelAlign?.5:1),g={};O(M)||(M=0===q.side?a.rotation?-8:-a.getBBox().height:2===q.side?L.y+8:Math.cos(a.rotation*A)*
(L.y-a.getBBox(!1,0).height/2));e=e+l.x+n+L.x-(w&&k?w*x*(b?-1:1):0);c=c+M-(w&&!k?w*x*(b?1:-1):0);d&&(a=h/(G||1)%d,q.opposite&&(a=d-a-1),c+=q.labelOffset/d*a);g.x=e;g.y=Math.round(c);B(this,"afterGetLabelPosition",{pos:g,tickmarkOffset:w,index:h});return g};a.prototype.getLabelSize=function(){return this.label?this.label.getBBox()[this.axis.horiz?"height":"width"]:0};a.prototype.getMarkPath=function(e,c,a,k,l,w){return w.crispLine([["M",e,c],["L",e+(l?0:-a),c+(l?a:0)]],k)};a.prototype.handleOverflow=
function(e){var a=this.axis,y=a.options.labels,k=e.x,l=a.chart.chartWidth,w=a.chart.spacing,h=c(a.labelLeft,Math.min(a.pos,w[3]));w=c(a.labelRight,Math.max(a.isRadial?0:a.pos+a.len,l-w[1]));var G=this.label,q=this.rotation,x={left:0,center:.5,right:1}[a.labelAlign||G.attr("align")],b=G.getBBox().width,d=a.getSlotWidth(this),L=d,M=1,K,g={};if(q||"justify"!==c(y.overflow,"justify"))0>q&&k-x*b<h?K=Math.round(k/Math.cos(q*A)-h):0<q&&k+x*b>w&&(K=Math.round((l-k)/Math.cos(q*A)));else if(l=k+(1-x)*b,k-x*
b<h?L=e.x+L*(1-x)-h:l>w&&(L=w-e.x+L*x,M=-1),L=Math.min(d,L),L<d&&"center"===a.labelAlign&&(e.x+=M*(d-L-x*(d-Math.min(b,L)))),b>L||a.autoRotation&&(G.styles||{}).width)K=L;K&&(this.shortenLabel?this.shortenLabel():(g.width=Math.floor(K)+"px",(y.style||{}).textOverflow||(g.textOverflow="ellipsis"),G.css(g)))};a.prototype.moveLabel=function(e,c){var a=this,k=a.label,n=!1,w=a.axis,h=w.reversed;k&&k.textStr===e?(a.movedLabel=k,n=!0,delete a.label):v(w.ticks,function(c){n||c.isNew||c===a||!c.label||c.label.textStr!==
e||(a.movedLabel=c.label,n=!0,c.labelPos=a.movedLabel.xy,delete c.label)});if(!n&&(a.labelPos||k)){var G=a.labelPos||k.xy;k=w.horiz?h?0:w.width+w.left:G.x;w=w.horiz?G.y:h?w.width+w.left:0;a.movedLabel=a.createLabel({x:k,y:w},e,c);a.movedLabel&&a.movedLabel.attr({opacity:0})}};a.prototype.render=function(e,a,y){var k=this.axis,n=k.horiz,w=this.pos,h=c(this.tickmarkOffset,k.tickmarkOffset);w=this.getPosition(n,w,h,a);h=w.x;var G=w.y;k=n&&h===k.pos+k.len||!n&&G===k.pos?-1:1;y=c(y,1);this.isActive=!0;
this.renderGridLine(a,y,k);this.renderMark(w,y,k);this.renderLabel(w,a,y,e);this.isNew=!1;B(this,"afterRender")};a.prototype.renderGridLine=function(e,a,y){var k=this.axis,n=k.options,w=this.gridLine,h={},G=this.pos,q=this.type,x=c(this.tickmarkOffset,k.tickmarkOffset),b=k.chart.renderer,d=q?q+"Grid":"grid",L=n[d+"LineWidth"],M=n[d+"LineColor"];n=n[d+"LineDashStyle"];w||(k.chart.styledMode||(h.stroke=M,h["stroke-width"]=L,n&&(h.dashstyle=n)),q||(h.zIndex=1),e&&(a=0),this.gridLine=w=b.path().attr(h).addClass("highcharts-"+
(q?q+"-":"")+"grid-line").add(k.gridGroup));if(w&&(y=k.getPlotLinePath({value:G+x,lineWidth:w.strokeWidth()*y,force:"pass",old:e})))w[e||this.isNew?"attr":"animate"]({d:y,opacity:a})};a.prototype.renderMark=function(e,a,y){var k=this.axis,n=k.options,w=k.chart.renderer,h=this.type,G=h?h+"Tick":"tick",q=k.tickSize(G),x=this.mark,b=!x,d=e.x;e=e.y;var L=c(n[G+"Width"],!h&&k.isXAxis?1:0);n=n[G+"Color"];q&&(k.opposite&&(q[0]=-q[0]),b&&(this.mark=x=w.path().addClass("highcharts-"+(h?h+"-":"")+"tick").add(k.axisGroup),
k.chart.styledMode||x.attr({stroke:n,"stroke-width":L})),x[b?"attr":"animate"]({d:this.getMarkPath(d,e,q[0],x.strokeWidth()*y,k.horiz,w),opacity:a}))};a.prototype.renderLabel=function(e,a,y,k){var n=this.axis,w=n.horiz,h=n.options,G=this.label,q=h.labels,x=q.step;n=c(this.tickmarkOffset,n.tickmarkOffset);var b=!0,d=e.x;e=e.y;G&&z(d)&&(G.xy=e=this.getLabelPosition(d,e,G,w,q,n,k,x),this.isFirst&&!this.isLast&&!c(h.showFirstLabel,1)||this.isLast&&!this.isFirst&&!c(h.showLastLabel,1)?b=!1:!w||q.step||
q.rotation||a||0===y||this.handleOverflow(e),x&&k%x&&(b=!1),b&&z(e.y)?(e.opacity=y,G[this.isNewLabel?"attr":"animate"](e),this.isNewLabel=!1):(G.attr("y",-9999),this.isNewLabel=!0))};a.prototype.replaceMovedLabel=function(){var e=this.label,c=this.axis,a=c.reversed;if(e&&!this.isNew){var k=c.horiz?a?c.left:c.width+c.left:e.xy.x;a=c.horiz?e.xy.y:a?c.width+c.top:c.top;e.animate({x:k,y:a,opacity:0},void 0,e.destroy);delete this.label}c.isDirty=!0;this.label=this.movedLabel;delete this.movedLabel};return a}();
a.Tick=m;return a.Tick});S(a,"Core/Axis/Axis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Options.js"],a["Core/Axis/Tick.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E){var I=a.animObject,B=F.defaultOptions,z=E.addEvent,r=E.arrayMax,v=E.arrayMin,c=E.clamp,l=E.correctFloat,e=E.defined,n=E.destroyObjectProperties,y=E.erase,k=E.error,Q=E.extend,w=E.fireEvent,h=E.format,G=E.getMagnitude,q=E.isArray,x=E.isFunction,
b=E.isNumber,d=E.isString,L=E.merge,M=E.normalizeTickInterval,K=E.objectEach,g=E.pick,J=E.relativeLength,p=E.removeEvent,f=E.splat,H=E.syncTimeout;"";var u=A.deg2rad;a=function(){function a(b,d){this.zoomEnabled=this.width=this.visible=this.userOptions=this.translationSlope=this.transB=this.transA=this.top=this.ticks=this.tickRotCorr=this.tickPositions=this.tickmarkOffset=this.tickInterval=this.tickAmount=this.side=this.series=this.right=this.positiveValuesOnly=this.pos=this.pointRangePadding=this.pointRange=
this.plotLinesAndBandsGroups=this.plotLinesAndBands=this.paddedTicks=this.overlap=this.options=this.offset=this.names=this.minPixelPadding=this.minorTicks=this.minorTickInterval=this.min=this.maxLabelLength=this.max=this.len=this.left=this.labelFormatter=this.labelEdge=this.isLinked=this.height=this.hasVisibleSeries=this.hasNames=this.coll=this.closestPointRange=this.chart=this.categories=this.bottom=this.alternateBands=void 0;this.init(b,d)}a.prototype.init=function(b,d){var t=d.isX,c=this;c.chart=
b;c.horiz=b.inverted&&!c.isZAxis?!t:t;c.isXAxis=t;c.coll=c.coll||(t?"xAxis":"yAxis");w(this,"init",{userOptions:d});c.opposite=g(d.opposite,c.opposite);c.side=g(d.side,c.side,c.horiz?c.opposite?0:2:c.opposite?1:3);c.setOptions(d);var D=this.options,p=D.type;c.labelFormatter=D.labels.formatter||c.defaultLabelFormatter;c.userOptions=d;c.minPixelPadding=0;c.reversed=g(D.reversed,c.reversed);c.visible=!1!==D.visible;c.zoomEnabled=!1!==D.zoomEnabled;c.hasNames="category"===p||!0===D.categories;c.categories=
D.categories||c.hasNames;c.names||(c.names=[],c.names.keys={});c.plotLinesAndBandsGroups={};c.positiveValuesOnly=!!c.logarithmic;c.isLinked=e(D.linkedTo);c.ticks={};c.labelEdge=[];c.minorTicks={};c.plotLinesAndBands=[];c.alternateBands={};c.len=0;c.minRange=c.userMinRange=D.minRange||D.maxZoom;c.range=D.range;c.offset=D.offset||0;c.max=null;c.min=null;c.crosshair=g(D.crosshair,f(b.options.tooltip.crosshairs)[t?0:1],!1);d=c.options.events;-1===b.axes.indexOf(c)&&(t?b.axes.splice(b.xAxis.length,0,c):
b.axes.push(c),b[c.coll].push(c));c.series=c.series||[];b.inverted&&!c.isZAxis&&t&&"undefined"===typeof c.reversed&&(c.reversed=!0);c.labelRotation=c.options.labels.rotation;K(d,function(b,d){x(b)&&z(c,d,b)});w(this,"afterInit")};a.prototype.setOptions=function(b){this.options=L(a.defaultOptions,"yAxis"===this.coll&&a.defaultYAxisOptions,[a.defaultTopAxisOptions,a.defaultRightAxisOptions,a.defaultBottomAxisOptions,a.defaultLeftAxisOptions][this.side],L(B[this.coll],b));w(this,"afterSetOptions",{userOptions:b})};
a.prototype.defaultLabelFormatter=function(){var d=this.axis,g=b(this.value)?this.value:NaN,f=d.chart.time,e=d.categories,c=this.dateTimeLabelFormat,p=B.lang,a=p.numericSymbols;p=p.numericSymbolMagnitude||1E3;var q=a&&a.length,x=d.options.labels.format;d=d.logarithmic?Math.abs(g):d.tickInterval;var J=this.chart,k=J.numberFormatter;if(x)var u=h(x,this,J);else if(e)u=""+this.value;else if(c)u=f.dateFormat(c,g);else if(q&&1E3<=d)for(;q--&&"undefined"===typeof u;)f=Math.pow(p,q+1),d>=f&&0===10*g%f&&null!==
a[q]&&0!==g&&(u=k(g/f,-1)+a[q]);"undefined"===typeof u&&(u=1E4<=Math.abs(g)?k(g,-1):k(g,-1,void 0,""));return u};a.prototype.getSeriesExtremes=function(){var d=this,f=d.chart,c;w(this,"getSeriesExtremes",null,function(){d.hasVisibleSeries=!1;d.dataMin=d.dataMax=d.threshold=null;d.softThreshold=!d.isXAxis;d.stacking&&d.stacking.buildStacks();d.series.forEach(function(t){if(t.visible||!f.options.chart.ignoreHiddenSeries){var D=t.options,p=D.threshold;d.hasVisibleSeries=!0;d.positiveValuesOnly&&0>=p&&
(p=null);if(d.isXAxis){if(D=t.xData,D.length){D=d.logarithmic?D.filter(d.validatePositiveValue):D;c=t.getXExtremes(D);var a=c.min;var q=c.max;b(a)||a instanceof Date||(D=D.filter(b),c=t.getXExtremes(D),a=c.min,q=c.max);D.length&&(d.dataMin=Math.min(g(d.dataMin,a),a),d.dataMax=Math.max(g(d.dataMax,q),q))}}else if(t=t.applyExtremes(),b(t.dataMin)&&(a=t.dataMin,d.dataMin=Math.min(g(d.dataMin,a),a)),b(t.dataMax)&&(q=t.dataMax,d.dataMax=Math.max(g(d.dataMax,q),q)),e(p)&&(d.threshold=p),!D.softThreshold||
d.positiveValuesOnly)d.softThreshold=!1}})});w(this,"afterGetSeriesExtremes")};a.prototype.translate=function(d,g,f,e,c,p){var t=this.linkedParent||this,D=1,a=0,q=e&&t.old?t.old.transA:t.transA;e=e&&t.old?t.old.min:t.min;var h=t.minPixelPadding;c=(t.isOrdinal||t.brokenAxis&&t.brokenAxis.hasBreaks||t.logarithmic&&c)&&t.lin2val;q||(q=t.transA);f&&(D*=-1,a=t.len);t.reversed&&(D*=-1,a-=D*(t.sector||t.len));g?(d=(d*D+a-h)/q+e,c&&(d=t.lin2val(d))):(c&&(d=t.val2lin(d)),d=b(e)?D*(d-e)*q+a+D*h+(b(p)?q*p:0):
void 0);return d};a.prototype.toPixels=function(b,d){return this.translate(b,!1,!this.horiz,null,!0)+(d?0:this.pos)};a.prototype.toValue=function(b,d){return this.translate(b-(d?0:this.pos),!0,!this.horiz,null,!0)};a.prototype.getPlotLinePath=function(d){function f(b,d,g){if("pass"!==J&&b<d||b>g)J?b=c(b,d,g):K=!0;return b}var t=this,e=t.chart,D=t.left,p=t.top,a=d.old,q=d.value,h=d.translatedValue,x=d.lineWidth,J=d.force,k,u,L,M,n=a&&e.oldChartHeight||e.chartHeight,H=a&&e.oldChartWidth||e.chartWidth,
K,G=t.transB;d={value:q,lineWidth:x,old:a,force:J,acrossPanes:d.acrossPanes,translatedValue:h};w(this,"getPlotLinePath",d,function(d){h=g(h,t.translate(q,null,null,a));h=c(h,-1E5,1E5);k=L=Math.round(h+G);u=M=Math.round(n-h-G);b(h)?t.horiz?(u=p,M=n-t.bottom,k=L=f(k,D,D+t.width)):(k=D,L=H-t.right,u=M=f(u,p,p+t.height)):(K=!0,J=!1);d.path=K&&!J?null:e.renderer.crispLine([["M",k,u],["L",L,M]],x||1)});return d.path};a.prototype.getLinearTickPositions=function(b,d,g){var f=l(Math.floor(d/b)*b);g=l(Math.ceil(g/
b)*b);var t=[],e;l(f+b)===f&&(e=20);if(this.single)return[d];for(d=f;d<=g;){t.push(d);d=l(d+b,e);if(d===c)break;var c=d}return t};a.prototype.getMinorTickInterval=function(){var b=this.options;return!0===b.minorTicks?g(b.minorTickInterval,"auto"):!1===b.minorTicks?null:b.minorTickInterval};a.prototype.getMinorTickPositions=function(){var b=this.options,d=this.tickPositions,g=this.minorTickInterval,f=[],e=this.pointRangePadding||0,c=this.min-e;e=this.max+e;var p=e-c;if(p&&p/g<this.len/3){var a=this.logarithmic;
if(a)this.paddedTicks.forEach(function(b,d,t){d&&f.push.apply(f,a.getLogTickPositions(g,t[d-1],t[d],!0))});else if(this.dateTime&&"auto"===this.getMinorTickInterval())f=f.concat(this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(g),c,e,b.startOfWeek));else for(b=c+(d[0]-c)%g;b<=e&&b!==f[0];b+=g)f.push(b)}0!==f.length&&this.trimTicks(f);return f};a.prototype.adjustForMinRange=function(){var b=this.options,d=this.min,f=this.max,c=this.logarithmic,p=0,a,q,h,x;this.isXAxis&&"undefined"===typeof this.minRange&&
!c&&(e(b.min)||e(b.max)?this.minRange=null:(this.series.forEach(function(b){h=b.xData;x=b.xIncrement?1:h.length-1;if(1<h.length)for(a=x;0<a;a--)if(q=h[a]-h[a-1],!p||q<p)p=q}),this.minRange=Math.min(5*p,this.dataMax-this.dataMin)));if(f-d<this.minRange){var J=this.dataMax-this.dataMin>=this.minRange;var k=this.minRange;var u=(k-f+d)/2;u=[d-u,g(b.min,d-u)];J&&(u[2]=this.logarithmic?this.logarithmic.log2lin(this.dataMin):this.dataMin);d=r(u);f=[d+k,g(b.max,d+k)];J&&(f[2]=c?c.log2lin(this.dataMax):this.dataMax);
f=v(f);f-d<k&&(u[0]=f-k,u[1]=g(b.min,f-k),d=r(u))}this.min=d;this.max=f};a.prototype.getClosest=function(){var b;this.categories?b=1:this.series.forEach(function(d){var g=d.closestPointRange,f=d.visible||!d.chart.options.chart.ignoreHiddenSeries;!d.noSharedTooltip&&e(g)&&f&&(b=e(b)?Math.min(b,g):g)});return b};a.prototype.nameToX=function(b){var d=q(this.categories),f=d?this.categories:this.names,t=b.options.x;b.series.requireSorting=!1;e(t)||(t=!1===this.options.uniqueNames?b.series.autoIncrement():
d?f.indexOf(b.name):g(f.keys[b.name],-1));if(-1===t){if(!d)var c=f.length}else c=t;"undefined"!==typeof c&&(this.names[c]=b.name,this.names.keys[b.name]=c);return c};a.prototype.updateNames=function(){var b=this,d=this.names;0<d.length&&(Object.keys(d.keys).forEach(function(b){delete d.keys[b]}),d.length=0,this.minRange=this.userMinRange,(this.series||[]).forEach(function(d){d.xIncrement=null;if(!d.points||d.isDirtyData)b.max=Math.max(b.max,d.xData.length-1),d.processData(),d.generatePoints();d.data.forEach(function(g,
f){if(g&&g.options&&"undefined"!==typeof g.name){var t=b.nameToX(g);"undefined"!==typeof t&&t!==g.x&&(g.x=t,d.xData[f]=t)}})}))};a.prototype.setAxisTranslation=function(){var b=this,f=b.max-b.min,e=b.axisPointRange||0,c=0,a=0,p=b.linkedParent,q=!!b.categories,h=b.transA,x=b.isXAxis;if(x||q||e){var u=b.getClosest();p?(c=p.minPointOffset,a=p.pointRangePadding):b.series.forEach(function(f){var t=q?1:x?g(f.options.pointRange,u,0):b.axisPointRange||0,p=f.options.pointPlacement;e=Math.max(e,t);if(!b.single||
q)f=f.is("xrange")?!x:x,c=Math.max(c,f&&d(p)?0:t/2),a=Math.max(a,f&&"on"===p?0:t)});p=b.ordinal&&b.ordinal.slope&&u?b.ordinal.slope/u:1;b.minPointOffset=c*=p;b.pointRangePadding=a*=p;b.pointRange=Math.min(e,b.single&&q?1:f);x&&(b.closestPointRange=u)}b.translationSlope=b.transA=h=b.staticScale||b.len/(f+a||1);b.transB=b.horiz?b.left:b.bottom;b.minPixelPadding=h*c;w(this,"afterSetAxisTranslation")};a.prototype.minFromRange=function(){return this.max-this.range};a.prototype.setTickInterval=function(d){var f=
this,t=f.chart,c=f.logarithmic,p=f.options,a=f.isXAxis,q=f.isLinked,h=p.maxPadding,x=p.minPadding,u=p.tickInterval,J=p.tickPixelInterval,L=f.categories,n=b(f.threshold)?f.threshold:null,K=f.softThreshold;f.dateTime||L||q||this.getTickAmount();var H=g(f.userMin,p.min);var y=g(f.userMax,p.max);if(q){f.linkedParent=t[f.coll][p.linkedTo];var r=f.linkedParent.getExtremes();f.min=g(r.min,r.dataMin);f.max=g(r.max,r.dataMax);p.type!==f.linkedParent.options.type&&k(11,1,t)}else{if(K&&e(n))if(f.dataMin>=n)r=
n,x=0;else if(f.dataMax<=n){var v=n;h=0}f.min=g(H,r,f.dataMin);f.max=g(y,v,f.dataMax)}c&&(f.positiveValuesOnly&&!d&&0>=Math.min(f.min,g(f.dataMin,f.min))&&k(10,1,t),f.min=l(c.log2lin(f.min),16),f.max=l(c.log2lin(f.max),16));f.range&&e(f.max)&&(f.userMin=f.min=H=Math.max(f.dataMin,f.minFromRange()),f.userMax=y=f.max,f.range=null);w(f,"foundExtremes");f.beforePadding&&f.beforePadding();f.adjustForMinRange();!(L||f.axisPointRange||f.stacking&&f.stacking.usePercentage||q)&&e(f.min)&&e(f.max)&&(t=f.max-
f.min)&&(!e(H)&&x&&(f.min-=t*x),!e(y)&&h&&(f.max+=t*h));b(f.userMin)||(b(p.softMin)&&p.softMin<f.min&&(f.min=H=p.softMin),b(p.floor)&&(f.min=Math.max(f.min,p.floor)));b(f.userMax)||(b(p.softMax)&&p.softMax>f.max&&(f.max=y=p.softMax),b(p.ceiling)&&(f.max=Math.min(f.max,p.ceiling)));K&&e(f.dataMin)&&(n=n||0,!e(H)&&f.min<n&&f.dataMin>=n?f.min=f.options.minRange?Math.min(n,f.max-f.minRange):n:!e(y)&&f.max>n&&f.dataMax<=n&&(f.max=f.options.minRange?Math.max(n,f.min+f.minRange):n));b(f.min)&&b(f.max)&&
!this.chart.polar&&f.min>f.max&&(e(f.options.min)?f.max=f.min:e(f.options.max)&&(f.min=f.max));f.tickInterval=f.min===f.max||"undefined"===typeof f.min||"undefined"===typeof f.max?1:q&&!u&&J===f.linkedParent.options.tickPixelInterval?u=f.linkedParent.tickInterval:g(u,this.tickAmount?(f.max-f.min)/Math.max(this.tickAmount-1,1):void 0,L?1:(f.max-f.min)*J/Math.max(f.len,J));a&&!d&&f.series.forEach(function(b){var d,g;b.processData(f.min!==(null===(d=f.old)||void 0===d?void 0:d.min)||f.max!==(null===
(g=f.old)||void 0===g?void 0:g.max))});f.setAxisTranslation();w(this,"initialAxisTranslation");f.pointRange&&!u&&(f.tickInterval=Math.max(f.pointRange,f.tickInterval));d=g(p.minTickInterval,f.dateTime&&!f.series.some(function(b){return b.noSharedTooltip})?f.closestPointRange:0);!u&&f.tickInterval<d&&(f.tickInterval=d);f.dateTime||f.logarithmic||u||(f.tickInterval=M(f.tickInterval,void 0,G(f.tickInterval),g(p.allowDecimals,.5>f.tickInterval||void 0!==this.tickAmount),!!this.tickAmount));this.tickAmount||
(f.tickInterval=f.unsquish());this.setTickPositions()};a.prototype.setTickPositions=function(){var b=this.options,d=b.tickPositions;var f=this.getMinorTickInterval();var g=b.tickPositioner,c=this.hasVerticalPanning(),p="colorAxis"===this.coll,a=(p||!c)&&b.startOnTick;c=(p||!c)&&b.endOnTick;this.tickmarkOffset=this.categories&&"between"===b.tickmarkPlacement&&1===this.tickInterval?.5:0;this.minorTickInterval="auto"===f&&this.tickInterval?this.tickInterval/5:f;this.single=this.min===this.max&&e(this.min)&&
!this.tickAmount&&(parseInt(this.min,10)===this.min||!1!==b.allowDecimals);this.tickPositions=f=d&&d.slice();!f&&(this.ordinal&&this.ordinal.positions||!((this.max-this.min)/this.tickInterval>Math.max(2*this.len,200))?f=this.dateTime?this.getTimeTicks(this.dateTime.normalizeTimeTickInterval(this.tickInterval,b.units),this.min,this.max,b.startOfWeek,this.ordinal&&this.ordinal.positions,this.closestPointRange,!0):this.logarithmic?this.logarithmic.getLogTickPositions(this.tickInterval,this.min,this.max):
this.getLinearTickPositions(this.tickInterval,this.min,this.max):(f=[this.min,this.max],k(19,!1,this.chart)),f.length>this.len&&(f=[f[0],f.pop()],f[0]===f[1]&&(f.length=1)),this.tickPositions=f,g&&(g=g.apply(this,[this.min,this.max])))&&(this.tickPositions=f=g);this.paddedTicks=f.slice(0);this.trimTicks(f,a,c);this.isLinked||(this.single&&2>f.length&&!this.categories&&!this.series.some(function(b){return b.is("heatmap")&&"between"===b.options.pointPlacement})&&(this.min-=.5,this.max+=.5),d||g||this.adjustTickAmount());
w(this,"afterSetTickPositions")};a.prototype.trimTicks=function(b,d,f){var g=b[0],t=b[b.length-1],c=!this.isOrdinal&&this.minPointOffset||0;w(this,"trimTicks");if(!this.isLinked){if(d&&-Infinity!==g)this.min=g;else for(;this.min-c>b[0];)b.shift();if(f)this.max=t;else for(;this.max+c<b[b.length-1];)b.pop();0===b.length&&e(g)&&!this.options.tickPositions&&b.push((t+g)/2)}};a.prototype.alignToOthers=function(){var b={},d,f=this.options;!1===this.chart.options.chart.alignTicks||!1===f.alignTicks||!1===
f.startOnTick||!1===f.endOnTick||this.logarithmic||this.chart[this.coll].forEach(function(f){var g=f.options;g=[f.horiz?g.left:g.top,g.width,g.height,g.pane].join();f.series.length&&(b[g]?d=!0:b[g]=1)});return d};a.prototype.getTickAmount=function(){var b=this.options,d=b.tickAmount,f=b.tickPixelInterval;!e(b.tickInterval)&&!d&&this.len<f&&!this.isRadial&&!this.logarithmic&&b.startOnTick&&b.endOnTick&&(d=2);!d&&this.alignToOthers()&&(d=Math.ceil(this.len/f)+1);4>d&&(this.finalTickAmt=d,d=5);this.tickAmount=
d};a.prototype.adjustTickAmount=function(){var d=this.options,f=this.tickInterval,c=this.tickPositions,p=this.tickAmount,a=this.finalTickAmt,q=c&&c.length,h=g(this.threshold,this.softThreshold?0:null);if(this.hasData()&&b(this.min)&&b(this.max)){if(q<p){for(;c.length<p;)c.length%2||this.min===h?c.push(l(c[c.length-1]+f)):c.unshift(l(c[0]-f));this.transA*=(q-1)/(p-1);this.min=d.startOnTick?c[0]:Math.min(this.min,c[0]);this.max=d.endOnTick?c[c.length-1]:Math.max(this.max,c[c.length-1])}else q>p&&(this.tickInterval*=
2,this.setTickPositions());if(e(a)){for(f=d=c.length;f--;)(3===a&&1===f%2||2>=a&&0<f&&f<d-1)&&c.splice(f,1);this.finalTickAmt=void 0}}};a.prototype.setScale=function(){var b,d,f,g,e,c,p=!1,a=!1;this.series.forEach(function(b){var d;p=p||b.isDirtyData||b.isDirty;a=a||(null===(d=b.xAxis)||void 0===d?void 0:d.isDirty)||!1});this.setAxisSize();(c=this.len!==(null===(b=this.old)||void 0===b?void 0:b.len))||p||a||this.isLinked||this.forceRedraw||this.userMin!==(null===(d=this.old)||void 0===d?void 0:d.userMin)||
this.userMax!==(null===(f=this.old)||void 0===f?void 0:f.userMax)||this.alignToOthers()?(this.stacking&&this.stacking.resetStacks(),this.forceRedraw=!1,this.getSeriesExtremes(),this.setTickInterval(),this.isDirty||(this.isDirty=c||this.min!==(null===(g=this.old)||void 0===g?void 0:g.min)||this.max!==(null===(e=this.old)||void 0===e?void 0:e.max))):this.stacking&&this.stacking.cleanStacks();p&&this.panningState&&(this.panningState.isDirty=!0);w(this,"afterSetScale")};a.prototype.setExtremes=function(b,
d,f,e,c){var t=this,p=t.chart;f=g(f,!0);t.series.forEach(function(b){delete b.kdTree});c=Q(c,{min:b,max:d});w(t,"setExtremes",c,function(){t.userMin=b;t.userMax=d;t.eventArgs=c;f&&p.redraw(e)})};a.prototype.zoom=function(b,d){var f=this,c=this.dataMin,t=this.dataMax,p=this.options,a=Math.min(c,g(p.min,c)),q=Math.max(t,g(p.max,t));b={newMin:b,newMax:d};w(this,"zoom",b,function(b){var d=b.newMin,g=b.newMax;if(d!==f.min||g!==f.max)f.allowZoomOutside||(e(c)&&(d<a&&(d=a),d>q&&(d=q)),e(t)&&(g<a&&(g=a),
g>q&&(g=q))),f.displayBtn="undefined"!==typeof d||"undefined"!==typeof g,f.setExtremes(d,g,!1,void 0,{trigger:"zoom"});b.zoomed=!0});return b.zoomed};a.prototype.setAxisSize=function(){var b=this.chart,d=this.options,f=d.offsets||[0,0,0,0],e=this.horiz,c=this.width=Math.round(J(g(d.width,b.plotWidth-f[3]+f[1]),b.plotWidth)),p=this.height=Math.round(J(g(d.height,b.plotHeight-f[0]+f[2]),b.plotHeight)),a=this.top=Math.round(J(g(d.top,b.plotTop+f[0]),b.plotHeight,b.plotTop));d=this.left=Math.round(J(g(d.left,
b.plotLeft+f[3]),b.plotWidth,b.plotLeft));this.bottom=b.chartHeight-p-a;this.right=b.chartWidth-c-d;this.len=Math.max(e?c:p,0);this.pos=e?d:a};a.prototype.getExtremes=function(){var b=this.logarithmic;return{min:b?l(b.lin2log(this.min)):this.min,max:b?l(b.lin2log(this.max)):this.max,dataMin:this.dataMin,dataMax:this.dataMax,userMin:this.userMin,userMax:this.userMax}};a.prototype.getThreshold=function(b){var d=this.logarithmic,f=d?d.lin2log(this.min):this.min;d=d?d.lin2log(this.max):this.max;null===
b||-Infinity===b?b=f:Infinity===b?b=d:f>b?b=f:d<b&&(b=d);return this.translate(b,0,1,0,1)};a.prototype.autoLabelAlign=function(b){var d=(g(b,0)-90*this.side+720)%360;b={align:"center"};w(this,"autoLabelAlign",b,function(b){15<d&&165>d?b.align="right":195<d&&345>d&&(b.align="left")});return b.align};a.prototype.tickSize=function(b){var d=this.options,f=d["tick"===b?"tickLength":"minorTickLength"],e=g(d["tick"===b?"tickWidth":"minorTickWidth"],"tick"===b&&this.isXAxis&&!this.categories?1:0);if(e&&f){"inside"===
d[b+"Position"]&&(f=-f);var c=[f,e]}b={tickSize:c};w(this,"afterTickSize",b);return b.tickSize};a.prototype.labelMetrics=function(){var b=this.tickPositions&&this.tickPositions[0]||0;return this.chart.renderer.fontMetrics(this.options.labels.style&&this.options.labels.style.fontSize,this.ticks[b]&&this.ticks[b].label)};a.prototype.unsquish=function(){var b=this.options.labels,d=this.horiz,f=this.tickInterval,c=f,p=this.len/(((this.categories?1:0)+this.max-this.min)/f),a,q=b.rotation,h=this.labelMetrics(),
x,J=Number.MAX_VALUE,k,L=Math.max(this.max-this.min,0),M=function(b){var d=b/(p||1);d=1<d?Math.ceil(d):1;d*f>L&&Infinity!==b&&Infinity!==p&&L&&(d=Math.ceil(L/f));return l(d*f)};d?(k=!b.staggerLines&&!b.step&&(e(q)?[q]:p<g(b.autoRotationLimit,80)&&b.autoRotation))&&k.forEach(function(b){if(b===q||b&&-90<=b&&90>=b){x=M(Math.abs(h.h/Math.sin(u*b)));var d=x+Math.abs(b/360);d<J&&(J=d,a=b,c=x)}}):b.step||(c=M(h.h));this.autoRotation=k;this.labelRotation=g(a,q);return c};a.prototype.getSlotWidth=function(d){var f,
g=this.chart,e=this.horiz,c=this.options.labels,p=Math.max(this.tickPositions.length-(this.categories?0:1),1),a=g.margin[3];if(d&&b(d.slotWidth))return d.slotWidth;if(e&&c&&2>(c.step||0))return c.rotation?0:(this.staggerLines||1)*this.len/p;if(!e){d=null===(f=null===c||void 0===c?void 0:c.style)||void 0===f?void 0:f.width;if(void 0!==d)return parseInt(d,10);if(a)return a-g.spacing[3]}return.33*g.chartWidth};a.prototype.renderUnsquish=function(){var b=this.chart,f=b.renderer,g=this.tickPositions,e=
this.ticks,c=this.options.labels,p=c&&c.style||{},a=this.horiz,q=this.getSlotWidth(),h=Math.max(1,Math.round(q-2*(c.padding||5))),x={},u=this.labelMetrics(),J=c.style&&c.style.textOverflow,k=0;d(c.rotation)||(x.rotation=c.rotation||0);g.forEach(function(b){b=e[b];b.movedLabel&&b.replaceMovedLabel();b&&b.label&&b.label.textPxLength>k&&(k=b.label.textPxLength)});this.maxLabelLength=k;if(this.autoRotation)k>h&&k>u.h?x.rotation=this.labelRotation:this.labelRotation=0;else if(q){var L=h;if(!J){var M="clip";
for(h=g.length;!a&&h--;){var n=g[h];if(n=e[n].label)n.styles&&"ellipsis"===n.styles.textOverflow?n.css({textOverflow:"clip"}):n.textPxLength>q&&n.css({width:q+"px"}),n.getBBox().height>this.len/g.length-(u.h-u.f)&&(n.specificTextOverflow="ellipsis")}}}x.rotation&&(L=k>.5*b.chartHeight?.33*b.chartHeight:k,J||(M="ellipsis"));if(this.labelAlign=c.align||this.autoLabelAlign(this.labelRotation))x.align=this.labelAlign;g.forEach(function(b){var d=(b=e[b])&&b.label,f=p.width,g={};d&&(d.attr(x),b.shortenLabel?
b.shortenLabel():L&&!f&&"nowrap"!==p.whiteSpace&&(L<d.textPxLength||"SPAN"===d.element.tagName)?(g.width=L+"px",J||(g.textOverflow=d.specificTextOverflow||M),d.css(g)):d.styles&&d.styles.width&&!g.width&&!f&&d.css({width:null}),delete d.specificTextOverflow,b.rotation=x.rotation)},this);this.tickRotCorr=f.rotCorr(u.b,this.labelRotation||0,0!==this.side)};a.prototype.hasData=function(){return this.series.some(function(b){return b.hasData()})||this.options.showEmpty&&e(this.min)&&e(this.max)};a.prototype.addTitle=
function(b){var d=this.chart.renderer,f=this.horiz,g=this.opposite,e=this.options.title,c,p=this.chart.styledMode;this.axisTitle||((c=e.textAlign)||(c=(f?{low:"left",middle:"center",high:"right"}:{low:g?"right":"left",middle:"center",high:g?"left":"right"})[e.align]),this.axisTitle=d.text(e.text,0,0,e.useHTML).attr({zIndex:7,rotation:e.rotation||0,align:c}).addClass("highcharts-axis-title"),p||this.axisTitle.css(L(e.style)),this.axisTitle.add(this.axisGroup),this.axisTitle.isNew=!0);p||e.style.width||
this.isRadial||this.axisTitle.css({width:this.len+"px"});this.axisTitle[b?"show":"hide"](b)};a.prototype.generateTick=function(b){var d=this.ticks;d[b]?d[b].addLabel():d[b]=new N(this,b)};a.prototype.getOffset=function(){var b=this,d=this,f=d.chart,c=f.renderer,p=d.options,a=d.tickPositions,q=d.ticks,h=d.horiz,x=d.side,u=f.inverted&&!d.isZAxis?[1,0,3,2][x]:x,k,J=0,L=0,M=p.title,n=p.labels,H=0,G=f.axisOffset;f=f.clipOffset;var y=[-1,1,1,-1][x],l=p.className,r=d.axisParent;var v=d.hasData();d.showAxis=
k=v||g(p.showEmpty,!0);d.staggerLines=d.horiz&&n.staggerLines;if(!d.axisGroup){var z=function(d,f,g){return c.g(d).attr({zIndex:g}).addClass("highcharts-"+b.coll.toLowerCase()+f+" "+(b.isRadial?"highcharts-radial-axis"+f+" ":"")+(l||"")).add(r)};d.gridGroup=z("grid","-grid",p.gridZIndex||1);d.axisGroup=z("axis","",p.zIndex||2);d.labelGroup=z("axis-labels","-labels",n.zIndex||7)}v||d.isLinked?(a.forEach(function(b,f){d.generateTick(b,f)}),d.renderUnsquish(),d.reserveSpaceDefault=0===x||2===x||{1:"left",
3:"right"}[x]===d.labelAlign,g(n.reserveSpace,"center"===d.labelAlign?!0:null,d.reserveSpaceDefault)&&a.forEach(function(b){H=Math.max(q[b].getLabelSize(),H)}),d.staggerLines&&(H*=d.staggerLines),d.labelOffset=H*(d.opposite?-1:1)):K(q,function(b,d){b.destroy();delete q[d]});if(M&&M.text&&!1!==M.enabled&&(d.addTitle(k),k&&!1!==M.reserveSpace)){d.titleOffset=J=d.axisTitle.getBBox()[h?"height":"width"];var Q=M.offset;L=e(Q)?0:g(M.margin,h?5:10)}d.renderLine();d.offset=y*g(p.offset,G[x]?G[x]+(p.margin||
0):0);d.tickRotCorr=d.tickRotCorr||{x:0,y:0};M=0===x?-d.labelMetrics().h:2===x?d.tickRotCorr.y:0;L=Math.abs(H)+L;H&&(L=L-M+y*(h?g(n.y,d.tickRotCorr.y+8*y):n.x));d.axisTitleMargin=g(Q,L);d.getMaxLabelDimensions&&(d.maxLabelDimensions=d.getMaxLabelDimensions(q,a));h=this.tickSize("tick");G[x]=Math.max(G[x],d.axisTitleMargin+J+y*d.offset,L,a&&a.length&&h?h[0]+y*d.offset:0);p=p.offset?0:2*Math.floor(d.axisLine.strokeWidth()/2);f[u]=Math.max(f[u],p);w(this,"afterGetOffset")};a.prototype.getLinePath=function(b){var d=
this.chart,f=this.opposite,g=this.offset,e=this.horiz,c=this.left+(f?this.width:0)+g;g=d.chartHeight-this.bottom-(f?this.height:0)+g;f&&(b*=-1);return d.renderer.crispLine([["M",e?this.left:c,e?g:this.top],["L",e?d.chartWidth-this.right:c,e?g:d.chartHeight-this.bottom]],b)};a.prototype.renderLine=function(){this.axisLine||(this.axisLine=this.chart.renderer.path().addClass("highcharts-axis-line").add(this.axisGroup),this.chart.styledMode||this.axisLine.attr({stroke:this.options.lineColor,"stroke-width":this.options.lineWidth,
zIndex:7}))};a.prototype.getTitlePosition=function(){var b=this.horiz,d=this.left,f=this.top,g=this.len,e=this.options.title,c=b?d:f,p=this.opposite,a=this.offset,q=e.x||0,h=e.y||0,x=this.axisTitle,u=this.chart.renderer.fontMetrics(e.style&&e.style.fontSize,x);x=Math.max(x.getBBox(null,0).height-u.h-1,0);g={low:c+(b?0:g),middle:c+g/2,high:c+(b?g:0)}[e.align];d=(b?f+this.height:d)+(b?1:-1)*(p?-1:1)*this.axisTitleMargin+[-x,x,u.f,-x][this.side];b={x:b?g+q:d+(p?this.width:0)+a+q,y:b?d+h-(p?this.height:
0)+a:g+h};w(this,"afterGetTitlePosition",{titlePosition:b});return b};a.prototype.renderMinorTick=function(b){var d=this.chart.hasRendered&&this.old,f=this.minorTicks;f[b]||(f[b]=new N(this,b,"minor"));d&&f[b].isNew&&f[b].render(null,!0);f[b].render(null,!1,1)};a.prototype.renderTick=function(b,d){var f,g=this.ticks,e=this.chart.hasRendered&&this.old;if(!this.isLinked||b>=this.min&&b<=this.max||(null===(f=this.grid)||void 0===f?0:f.isColumn))g[b]||(g[b]=new N(this,b)),e&&g[b].isNew&&g[b].render(d,
!0,-1),g[b].render(d)};a.prototype.render=function(){var d=this,f=d.chart,g=d.logarithmic,e=d.options,c=d.isLinked,p=d.tickPositions,a=d.axisTitle,q=d.ticks,h=d.minorTicks,x=d.alternateBands,u=e.stackLabels,k=e.alternateGridColor,J=d.tickmarkOffset,L=d.axisLine,M=d.showAxis,n=I(f.renderer.globalAnimation),G,y;d.labelEdge.length=0;d.overlap=!1;[q,h,x].forEach(function(b){K(b,function(b){b.isActive=!1})});if(d.hasData()||c)d.minorTickInterval&&!d.categories&&d.getMinorTickPositions().forEach(function(b){d.renderMinorTick(b)}),
p.length&&(p.forEach(function(b,f){d.renderTick(b,f)}),J&&(0===d.min||d.single)&&(q[-1]||(q[-1]=new N(d,-1,null,!0)),q[-1].render(-1))),k&&p.forEach(function(b,e){y="undefined"!==typeof p[e+1]?p[e+1]+J:d.max-J;0===e%2&&b<d.max&&y<=d.max+(f.polar?-J:J)&&(x[b]||(x[b]=new A.PlotLineOrBand(d)),G=b+J,x[b].options={from:g?g.lin2log(G):G,to:g?g.lin2log(y):y,color:k,className:"highcharts-alternate-grid"},x[b].render(),x[b].isActive=!0)}),d._addedPlotLB||(d._addedPlotLB=!0,(e.plotLines||[]).concat(e.plotBands||
[]).forEach(function(b){d.addPlotBandOrLine(b)}));[q,h,x].forEach(function(b){var d,g=[],e=n.duration;K(b,function(b,d){b.isActive||(b.render(d,!1,0),b.isActive=!1,g.push(d))});H(function(){for(d=g.length;d--;)b[g[d]]&&!b[g[d]].isActive&&(b[g[d]].destroy(),delete b[g[d]])},b!==x&&f.hasRendered&&e?e:0)});L&&(L[L.isPlaced?"animate":"attr"]({d:this.getLinePath(L.strokeWidth())}),L.isPlaced=!0,L[M?"show":"hide"](M));a&&M&&(e=d.getTitlePosition(),b(e.y)?(a[a.isNew?"attr":"animate"](e),a.isNew=!1):(a.attr("y",
-9999),a.isNew=!0));u&&u.enabled&&d.stacking&&d.stacking.renderStackTotals();d.old={len:d.len,max:d.max,min:d.min,transA:d.transA,userMax:d.userMax,userMin:d.userMin};d.isDirty=!1;w(this,"afterRender")};a.prototype.redraw=function(){this.visible&&(this.render(),this.plotLinesAndBands.forEach(function(b){b.render()}));this.series.forEach(function(b){b.isDirty=!0})};a.prototype.getKeepProps=function(){return this.keepProps||a.keepProps};a.prototype.destroy=function(b){var d=this,f=d.plotLinesAndBands,
g;w(this,"destroy",{keepEvents:b});b||p(d);[d.ticks,d.minorTicks,d.alternateBands].forEach(function(b){n(b)});if(f)for(b=f.length;b--;)f[b].destroy();"axisLine axisTitle axisGroup gridGroup labelGroup cross scrollbar".split(" ").forEach(function(b){d[b]&&(d[b]=d[b].destroy())});for(g in d.plotLinesAndBandsGroups)d.plotLinesAndBandsGroups[g]=d.plotLinesAndBandsGroups[g].destroy();K(d,function(b,f){-1===d.getKeepProps().indexOf(f)&&delete d[f]})};a.prototype.drawCrosshair=function(b,d){var f=this.crosshair,
c=g(f.snap,!0),p,a=this.cross,q=this.chart;w(this,"drawCrosshair",{e:b,point:d});b||(b=this.cross&&this.cross.e);if(this.crosshair&&!1!==(e(d)||!c)){c?e(d)&&(p=g("colorAxis"!==this.coll?d.crosshairPos:null,this.isXAxis?d.plotX:this.len-d.plotY)):p=b&&(this.horiz?b.chartX-this.pos:this.len-b.chartY+this.pos);if(e(p)){var h={value:d&&(this.isXAxis?d.x:g(d.stackY,d.y)),translatedValue:p};q.polar&&Q(h,{isCrosshair:!0,chartX:b&&b.chartX,chartY:b&&b.chartY,point:d});h=this.getPlotLinePath(h)||null}if(!e(h)){this.hideCrosshair();
return}c=this.categories&&!this.isRadial;a||(this.cross=a=q.renderer.path().addClass("highcharts-crosshair highcharts-crosshair-"+(c?"category ":"thin ")+f.className).attr({zIndex:g(f.zIndex,2)}).add(),q.styledMode||(a.attr({stroke:f.color||(c?m.parse(C.highlightColor20).setOpacity(.25).get():C.neutralColor20),"stroke-width":g(f.width,1)}).css({"pointer-events":"none"}),f.dashStyle&&a.attr({dashstyle:f.dashStyle})));a.show().attr({d:h});c&&!f.width&&a.attr({"stroke-width":this.transA});this.cross.e=
b}else this.hideCrosshair();w(this,"afterDrawCrosshair",{e:b,point:d})};a.prototype.hideCrosshair=function(){this.cross&&this.cross.hide();w(this,"afterHideCrosshair")};a.prototype.hasVerticalPanning=function(){var b,d=null===(b=this.chart.options.chart)||void 0===b?void 0:b.panning;return!!(d&&d.enabled&&/y/.test(d.type))};a.prototype.validatePositiveValue=function(d){return b(d)&&0<d};a.prototype.update=function(b,d){var f=this.chart,e=b&&b.events||{};b=L(this.userOptions,b);f.options[this.coll].indexOf&&
(f.options[this.coll][f.options[this.coll].indexOf(this.userOptions)]=b);K(f.options[this.coll].events,function(b,d){"undefined"===typeof e[d]&&(e[d]=void 0)});this.destroy(!0);this.init(f,Q(b,{events:e}));f.isDirtyBox=!0;g(d,!0)&&f.redraw()};a.prototype.remove=function(b){for(var d=this.chart,f=this.coll,e=this.series,c=e.length;c--;)e[c]&&e[c].remove(!1);y(d.axes,this);y(d[f],this);q(d.options[f])?d.options[f].splice(this.options.index,1):delete d.options[f];d[f].forEach(function(b,d){b.options.index=
b.userOptions.index=d});this.destroy();d.isDirtyBox=!0;g(b,!0)&&d.redraw()};a.prototype.setTitle=function(b,d){this.update({title:b},d)};a.prototype.setCategories=function(b,d){this.update({categories:b},d)};a.defaultOptions={dateTimeLabelFormats:{millisecond:{main:"%H:%M:%S.%L",range:!1},second:{main:"%H:%M:%S",range:!1},minute:{main:"%H:%M",range:!1},hour:{main:"%H:%M",range:!1},day:{main:"%e. %b"},week:{main:"%e. %b"},month:{main:"%b '%y"},year:{main:"%Y"}},endOnTick:!1,labels:{enabled:!0,indentation:10,
x:0,style:{color:C.neutralColor60,cursor:"default",fontSize:"11px"}},maxPadding:.01,minorTickLength:2,minorTickPosition:"outside",minPadding:.01,showEmpty:!0,startOfWeek:1,startOnTick:!1,tickLength:10,tickPixelInterval:100,tickmarkPlacement:"between",tickPosition:"outside",title:{align:"middle",style:{color:C.neutralColor60}},type:"linear",minorGridLineColor:C.neutralColor5,minorGridLineWidth:1,minorTickColor:C.neutralColor40,lineColor:C.highlightColor20,lineWidth:1,gridLineColor:C.neutralColor10,
tickColor:C.highlightColor20};a.defaultYAxisOptions={endOnTick:!0,maxPadding:.05,minPadding:.05,tickPixelInterval:72,showLastLabel:!0,labels:{x:-8},startOnTick:!0,title:{rotation:270,text:"Values"},stackLabels:{animation:{},allowOverlap:!1,enabled:!1,crop:!0,overflow:"justify",formatter:function(){var b=this.axis.chart.numberFormatter;return b(this.total,-1)},style:{color:C.neutralColor100,fontSize:"11px",fontWeight:"bold",textOutline:"1px contrast"}},gridLineWidth:1,lineWidth:0};a.defaultLeftAxisOptions=
{labels:{x:-15},title:{rotation:270}};a.defaultRightAxisOptions={labels:{x:15},title:{rotation:90}};a.defaultBottomAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}};a.defaultTopAxisOptions={labels:{autoRotation:[-45],x:0},margin:15,title:{rotation:0}};a.keepProps="extKey hcEvents names series userMax userMin".split(" ");return a}();A.Axis=a;return A.Axis});S(a,"Core/Axis/DateTimeAxis.js",[a["Core/Axis/Axis.js"],a["Core/Utilities.js"]],function(a,m){var A=m.addEvent,C=m.getMagnitude,
F=m.normalizeTickInterval,O=m.timeUnits,E=function(){function a(a){this.axis=a}a.prototype.normalizeTimeTickInterval=function(a,z){var r=z||[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2]],["week",[1,2]],["month",[1,2,3,4,6]],["year",null]];z=r[r.length-1];var v=O[z[0]],c=z[1],l;for(l=0;l<r.length&&!(z=r[l],v=O[z[0]],c=z[1],r[l+1]&&a<=(v*c[c.length-1]+O[r[l+1][0]])/2);l++);v===O.year&&a<5*v&&(c=[1,2,5]);
a=F(a/v,c,"year"===z[0]?Math.max(C(a/v),1):1);return{unitRange:v,count:a,unitName:z[0]}};return a}();m=function(){function a(){}a.compose=function(a){a.keepProps.push("dateTime");a.prototype.getTimeTicks=function(){return this.chart.time.getTimeTicks.apply(this.chart.time,arguments)};A(a,"init",function(a){"datetime"!==a.userOptions.type?this.dateTime=void 0:this.dateTime||(this.dateTime=new E(this))})};a.AdditionsClass=E;return a}();m.compose(a);return m});S(a,"Core/Axis/LogarithmicAxis.js",[a["Core/Axis/Axis.js"],
a["Core/Utilities.js"]],function(a,m){var A=m.addEvent,C=m.getMagnitude,F=m.normalizeTickInterval,O=m.pick,E=function(){function a(a){this.axis=a}a.prototype.getLogTickPositions=function(a,z,r,v){var c=this.axis,l=c.len,e=c.options,n=[];v||(this.minorAutoInterval=void 0);if(.5<=a)a=Math.round(a),n=c.getLinearTickPositions(a,z,r);else if(.08<=a){e=Math.floor(z);var y,k;for(l=.3<a?[1,2,4]:.15<a?[1,2,4,6,8]:[1,2,3,4,5,6,7,8,9];e<r+1&&!k;e++){var Q=l.length;for(y=0;y<Q&&!k;y++){var w=this.log2lin(this.lin2log(e)*
l[y]);w>z&&(!v||h<=r)&&"undefined"!==typeof h&&n.push(h);h>r&&(k=!0);var h=w}}}else z=this.lin2log(z),r=this.lin2log(r),a=v?c.getMinorTickInterval():e.tickInterval,a=O("auto"===a?null:a,this.minorAutoInterval,e.tickPixelInterval/(v?5:1)*(r-z)/((v?l/c.tickPositions.length:l)||1)),a=F(a,void 0,C(a)),n=c.getLinearTickPositions(a,z,r).map(this.log2lin),v||(this.minorAutoInterval=a/5);v||(c.tickInterval=a);return n};a.prototype.lin2log=function(a){return Math.pow(10,a)};a.prototype.log2lin=function(a){return Math.log(a)/
Math.LN10};return a}();m=function(){function a(){}a.compose=function(a){a.keepProps.push("logarithmic");A(a,"init",function(a){var r=this.logarithmic;"logarithmic"!==a.userOptions.type?this.logarithmic=void 0:r||(this.logarithmic=new E(this))});A(a,"afterInit",function(){var a=this.logarithmic;a&&(this.lin2val=function(r){return a.lin2log(r)},this.val2lin=function(r){return a.log2lin(r)})})};return a}();m.compose(a);return m});S(a,"Core/Axis/PlotLineOrBand.js",[a["Core/Axis/Axis.js"],a["Core/Globals.js"],
a["Core/Color/Palette.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=C.arrayMax,O=C.arrayMin,E=C.defined,I=C.destroyObjectProperties,B=C.erase,z=C.extend,r=C.fireEvent,v=C.merge,c=C.objectEach,l=C.pick;C=function(){function e(e,c){this.axis=e;c&&(this.options=c,this.id=c.id)}e.prototype.render=function(){r(this,"render");var e=this,a=e.axis,k=a.horiz,z=a.logarithmic,w=e.options,h=w.label,G=e.label,q=w.to,x=w.from,b=w.value,d=E(x)&&E(q),L=E(b),M=e.svgElem,K=!M,g=[],J=w.color,p=l(w.zIndex,0),
f=w.events;g={"class":"highcharts-plot-"+(d?"band ":"line ")+(w.className||"")};var H={},u=a.chart.renderer,m=d?"bands":"lines";z&&(x=z.log2lin(x),q=z.log2lin(q),b=z.log2lin(b));a.chart.styledMode||(L?(g.stroke=J||A.neutralColor40,g["stroke-width"]=l(w.width,1),w.dashStyle&&(g.dashstyle=w.dashStyle)):d&&(g.fill=J||A.highlightColor10,w.borderWidth&&(g.stroke=w.borderColor,g["stroke-width"]=w.borderWidth)));H.zIndex=p;m+="-"+p;(z=a.plotLinesAndBandsGroups[m])||(a.plotLinesAndBandsGroups[m]=z=u.g("plot-"+
m).attr(H).add());K&&(e.svgElem=M=u.path().attr(g).add(z));if(L)g=a.getPlotLinePath({value:b,lineWidth:M.strokeWidth(),acrossPanes:w.acrossPanes});else if(d)g=a.getPlotBandPath(x,q,w);else return;!e.eventsAdded&&f&&(c(f,function(b,d){M.on(d,function(b){f[d].apply(e,[b])})}),e.eventsAdded=!0);(K||!M.d)&&g&&g.length?M.attr({d:g}):M&&(g?(M.show(!0),M.animate({d:g})):M.d&&(M.hide(),G&&(e.label=G=G.destroy())));h&&(E(h.text)||E(h.formatter))&&g&&g.length&&0<a.width&&0<a.height&&!g.isFlat?(h=v({align:k&&
d&&"center",x:k?!d&&4:10,verticalAlign:!k&&d&&"middle",y:k?d?16:10:d?6:-4,rotation:k&&!d&&90},h),this.renderLabel(h,g,d,p)):G&&G.hide();return e};e.prototype.renderLabel=function(e,c,a,l){var k=this.label,h=this.axis.chart.renderer;k||(k={align:e.textAlign||e.align,rotation:e.rotation,"class":"highcharts-plot-"+(a?"band":"line")+"-label "+(e.className||"")},k.zIndex=l,l=this.getLabelText(e),this.label=k=h.text(l,0,0,e.useHTML).attr(k).add(),this.axis.chart.styledMode||k.css(e.style));h=c.xBounds||
[c[0][1],c[1][1],a?c[2][1]:c[0][1]];c=c.yBounds||[c[0][2],c[1][2],a?c[2][2]:c[0][2]];a=O(h);l=O(c);k.align(e,!1,{x:a,y:l,width:F(h)-a,height:F(c)-l});k.show(!0)};e.prototype.getLabelText=function(e){return E(e.formatter)?e.formatter.call(this):e.text};e.prototype.destroy=function(){B(this.axis.plotLinesAndBands,this);delete this.axis;I(this)};return e}();z(a.prototype,{getPlotBandPath:function(e,c,a){void 0===a&&(a=this.options);var k=this.getPlotLinePath({value:c,force:!0,acrossPanes:a.acrossPanes});
a=this.getPlotLinePath({value:e,force:!0,acrossPanes:a.acrossPanes});var n=[],w=this.horiz,h=1;e=e<this.min&&c<this.min||e>this.max&&c>this.max;if(a&&k){if(e){var G=a.toString()===k.toString();h=0}for(e=0;e<a.length;e+=2){c=a[e];var q=a[e+1],x=k[e],b=k[e+1];"M"!==c[0]&&"L"!==c[0]||"M"!==q[0]&&"L"!==q[0]||"M"!==x[0]&&"L"!==x[0]||"M"!==b[0]&&"L"!==b[0]||(w&&x[1]===c[1]?(x[1]+=h,b[1]+=h):w||x[2]!==c[2]||(x[2]+=h,b[2]+=h),n.push(["M",c[1],c[2]],["L",q[1],q[2]],["L",b[1],b[2]],["L",x[1],x[2]],["Z"]));
n.isFlat=G}}return n},addPlotBand:function(e){return this.addPlotBandOrLine(e,"plotBands")},addPlotLine:function(e){return this.addPlotBandOrLine(e,"plotLines")},addPlotBandOrLine:function(e,c){var a=this,k=new m.PlotLineOrBand(this,e),n=this.userOptions;this.visible&&(k=k.render());if(k){this._addedPlotLB||(this._addedPlotLB=!0,(n.plotLines||[]).concat(n.plotBands||[]).forEach(function(e){a.addPlotBandOrLine(e)}));if(c){var w=n[c]||[];w.push(e);n[c]=w}this.plotLinesAndBands.push(k)}return k},removePlotBandOrLine:function(e){for(var c=
this.plotLinesAndBands,a=this.options,k=this.userOptions,l=c.length;l--;)c[l].id===e&&c[l].destroy();[a.plotLines||[],k.plotLines||[],a.plotBands||[],k.plotBands||[]].forEach(function(c){for(l=c.length;l--;)(c[l]||{}).id===e&&B(c,c[l])})},removePlotBand:function(e){this.removePlotBandOrLine(e)},removePlotLine:function(e){this.removePlotBandOrLine(e)}});m.PlotLineOrBand=C;return m.PlotLineOrBand});S(a,"Core/Tooltip.js",[a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Utilities.js"]],function(a,
m,A){var C=a.doc,F=A.clamp,O=A.css,E=A.defined,I=A.discardElement,B=A.extend,z=A.fireEvent,r=A.format,v=A.isNumber,c=A.isString,l=A.merge,e=A.pick,n=A.splat,y=A.syncTimeout,k=A.timeUnits;"";var Q=function(){function w(e,c){this.container=void 0;this.crosshairs=[];this.distance=0;this.isHidden=!0;this.isSticky=!1;this.now={};this.options={};this.outside=!1;this.chart=e;this.init(e,c)}w.prototype.applyFilter=function(){var e=this.chart;e.renderer.definition({tagName:"filter",attributes:{id:"drop-shadow-"+
e.index,opacity:.5},children:[{tagName:"feGaussianBlur",attributes:{"in":"SourceAlpha",stdDeviation:1}},{tagName:"feOffset",attributes:{dx:1,dy:1}},{tagName:"feComponentTransfer",children:[{tagName:"feFuncA",attributes:{type:"linear",slope:.3}}]},{tagName:"feMerge",children:[{tagName:"feMergeNode"},{tagName:"feMergeNode",attributes:{"in":"SourceGraphic"}}]}]});e.renderer.definition({tagName:"style",textContent:".highcharts-tooltip-"+e.index+"{filter:url(#drop-shadow-"+e.index+")}"})};w.prototype.bodyFormatter=
function(e){return e.map(function(e){var c=e.series.tooltipOptions;return(c[(e.point.formatPrefix||"point")+"Formatter"]||e.point.tooltipFormatter).call(e.point,c[(e.point.formatPrefix||"point")+"Format"]||"")})};w.prototype.cleanSplit=function(e){this.chart.series.forEach(function(c){var a=c&&c.tt;a&&(!a.isActive||e?c.tt=a.destroy():a.isActive=!1)})};w.prototype.defaultFormatter=function(e){var c=this.points||n(this);var a=[e.tooltipFooterHeaderFormatter(c[0])];a=a.concat(e.bodyFormatter(c));a.push(e.tooltipFooterHeaderFormatter(c[0],
!0));return a};w.prototype.destroy=function(){this.label&&(this.label=this.label.destroy());this.split&&this.tt&&(this.cleanSplit(this.chart,!0),this.tt=this.tt.destroy());this.renderer&&(this.renderer=this.renderer.destroy(),I(this.container));A.clearTimeout(this.hideTimer);A.clearTimeout(this.tooltipTimeout)};w.prototype.getAnchor=function(e,c){var a=this.chart;var h=a.pointer;var b=a.inverted,d=a.plotTop,k=a.plotLeft,M=0,K=0,g,J;e=n(e);this.followPointer&&c?("undefined"===typeof c.chartX&&(c=h.normalize(c)),
h=[c.chartX-k,c.chartY-d]):e[0].tooltipPos?h=e[0].tooltipPos:(e.forEach(function(e){g=e.series.yAxis;J=e.series.xAxis;M+=e.plotX||0;K+=e.plotLow?(e.plotLow+(e.plotHigh||0))/2:e.plotY||0;J&&g&&(b?(M+=d+a.plotHeight-J.len-J.pos,K+=k+a.plotWidth-g.len-g.pos):(M+=J.pos-k,K+=g.pos-d))}),M/=e.length,K/=e.length,h=[b?a.plotWidth-K:M,b?a.plotHeight-M:K],this.shared&&1<e.length&&c&&(b?h[0]=c.chartX-k:h[1]=c.chartY-d));return h.map(Math.round)};w.prototype.getDateFormat=function(e,c,a,x){var b=this.chart.time,
d=b.dateFormat("%m-%d %H:%M:%S.%L",c),q={millisecond:15,second:12,minute:9,hour:6,day:3},h="millisecond";for(K in k){if(e===k.week&&+b.dateFormat("%w",c)===a&&"00:00:00.000"===d.substr(6)){var K="week";break}if(k[K]>e){K=h;break}if(q[K]&&d.substr(q[K])!=="01-01 00:00:00.000".substr(q[K]))break;"week"!==K&&(h=K)}if(K)var g=b.resolveDTLFormat(x[K]).main;return g};w.prototype.getLabel=function(){var e,c,q,x=this,b=this.chart.renderer,d=this.chart.styledMode,k=this.options,M="tooltip"+(E(k.className)?
" "+k.className:""),K=(null===(e=k.style)||void 0===e?void 0:e.pointerEvents)||(!this.followPointer&&k.stickOnContact?"auto":"none"),g;e=function(){x.inContact=!0};var J=function(){var b=x.chart.hoverSeries;x.inContact=!1;if(b&&b.onMouseOut)b.onMouseOut()};if(!this.label){if(this.outside){var p=null===(c=this.chart.options.chart)||void 0===c?void 0:c.style;this.container=g=a.doc.createElement("div");g.className="highcharts-tooltip-container";O(g,{position:"absolute",top:"1px",pointerEvents:K,zIndex:Math.max((null===
(q=this.options.style)||void 0===q?void 0:q.zIndex)||0,((null===p||void 0===p?void 0:p.zIndex)||0)+3)});a.doc.body.appendChild(g);this.renderer=b=new a.Renderer(g,0,0,p,void 0,void 0,b.styledMode)}this.split?this.label=b.g(M):(this.label=b.label("",0,0,k.shape||"callout",null,null,k.useHTML,null,M).attr({padding:k.padding,r:k.borderRadius}),d||this.label.attr({fill:k.backgroundColor,"stroke-width":k.borderWidth}).css(k.style).css({pointerEvents:K}).shadow(k.shadow));d&&(this.applyFilter(),this.label.addClass("highcharts-tooltip-"+
this.chart.index));if(x.outside&&!x.split){var f=this.label,H=f.xSetter,u=f.ySetter;f.xSetter=function(b){H.call(f,x.distance);g.style.left=b+"px"};f.ySetter=function(b){u.call(f,x.distance);g.style.top=b+"px"}}this.label.on("mouseenter",e).on("mouseleave",J).attr({zIndex:8}).add()}return this.label};w.prototype.getPosition=function(c,a,q){var h=this.chart,b=this.distance,d={},k=h.inverted&&q.h||0,M,K=this.outside,g=K?C.documentElement.clientWidth-2*b:h.chartWidth,J=K?Math.max(C.body.scrollHeight,
C.documentElement.scrollHeight,C.body.offsetHeight,C.documentElement.offsetHeight,C.documentElement.clientHeight):h.chartHeight,p=h.pointer.getChartPosition(),f=function(d){var f="x"===d;return[d,f?g:J,f?c:a].concat(K?[f?c*p.scaleX:a*p.scaleY,f?p.left-b+(q.plotX+h.plotLeft)*p.scaleX:p.top-b+(q.plotY+h.plotTop)*p.scaleY,0,f?g:J]:[f?c:a,f?q.plotX+h.plotLeft:q.plotY+h.plotTop,f?h.plotLeft:h.plotTop,f?h.plotLeft+h.plotWidth:h.plotTop+h.plotHeight])},H=f("y"),u=f("x"),n=!this.followPointer&&e(q.ttBelow,
!h.inverted===!!q.negative),t=function(f,g,e,c,a,q,h){var x=K?"y"===f?b*p.scaleY:b*p.scaleX:b,t=(e-c)/2,u=c<a-b,J=a+b+c<g,D=a-x-e+t;a=a+x-t;if(n&&J)d[f]=a;else if(!n&&u)d[f]=D;else if(u)d[f]=Math.min(h-c,0>D-k?D:D-k);else if(J)d[f]=Math.max(q,a+k+e>g?a:a+k);else return!1},G=function(f,g,e,c,a){var p;a<b||a>g-b?p=!1:d[f]=a<e/2?1:a>g-c/2?g-c-2:a-e/2;return p},l=function(b){var d=H;H=u;u=d;M=b},w=function(){!1!==t.apply(0,H)?!1!==G.apply(0,u)||M||(l(!0),w()):M?d.x=d.y=0:(l(!0),w())};(h.inverted||1<this.len)&&
l();w();return d};w.prototype.getXDateFormat=function(e,c,a){c=c.dateTimeLabelFormats;var q=a&&a.closestPointRange;return(q?this.getDateFormat(q,e.x,a.options.startOfWeek,c):c.day)||c.year};w.prototype.hide=function(c){var a=this;A.clearTimeout(this.hideTimer);c=e(c,this.options.hideDelay,500);this.isHidden||(this.hideTimer=y(function(){a.getLabel().fadeOut(c?void 0:c);a.isHidden=!0},c))};w.prototype.init=function(c,a){this.chart=c;this.options=a;this.crosshairs=[];this.now={x:0,y:0};this.isHidden=
!0;this.split=a.split&&!c.inverted&&!c.polar;this.shared=a.shared||this.split;this.outside=e(a.outside,!(!c.scrollablePixelsX&&!c.scrollablePixelsY))};w.prototype.isStickyOnContact=function(){return!(this.followPointer||!this.options.stickOnContact||!this.inContact)};w.prototype.move=function(e,c,a,x){var b=this,d=b.now,q=!1!==b.options.animation&&!b.isHidden&&(1<Math.abs(e-d.x)||1<Math.abs(c-d.y)),h=b.followPointer||1<b.len;B(d,{x:q?(2*d.x+e)/3:e,y:q?(d.y+c)/2:c,anchorX:h?void 0:q?(2*d.anchorX+a)/
3:a,anchorY:h?void 0:q?(d.anchorY+x)/2:x});b.getLabel().attr(d);b.drawTracker();q&&(A.clearTimeout(this.tooltipTimeout),this.tooltipTimeout=setTimeout(function(){b&&b.move(e,c,a,x)},32))};w.prototype.refresh=function(c,a){var q=this.chart,h=this.options,b=c,d={},k=[],M=h.formatter||this.defaultFormatter;d=this.shared;var K=q.styledMode;if(h.enabled){A.clearTimeout(this.hideTimer);this.followPointer=n(b)[0].series.tooltipOptions.followPointer;var g=this.getAnchor(b,a);a=g[0];var J=g[1];!d||b.series&&
b.series.noSharedTooltip?d=b.getLabelConfig():(q.pointer.applyInactiveState(b),b.forEach(function(b){b.setState("hover");k.push(b.getLabelConfig())}),d={x:b[0].category,y:b[0].y},d.points=k,b=b[0]);this.len=k.length;q=M.call(d,this);M=b.series;this.distance=e(M.tooltipOptions.distance,16);!1===q?this.hide():(this.split?this.renderSplit(q,n(c)):(c=this.getLabel(),h.style.width&&!K||c.css({width:this.chart.spacingBox.width+"px"}),c.attr({text:q&&q.join?q.join(""):q}),c.removeClass(/highcharts-color-[\d]+/g).addClass("highcharts-color-"+
e(b.colorIndex,M.colorIndex)),K||c.attr({stroke:h.borderColor||b.color||M.color||m.neutralColor60}),this.updatePosition({plotX:a,plotY:J,negative:b.negative,ttBelow:b.ttBelow,h:g[2]||0})),this.isHidden&&this.label&&this.label.attr({opacity:1}).show(),this.isHidden=!1);z(this,"refresh")}};w.prototype.renderSplit=function(h,k){function q(b,d,f,g,c){void 0===c&&(c=!0);f?(d=r?0:Q,b=F(b-g/2,y.left,y.right-g)):(d-=v,b=c?b-g-t:b+t,b=F(b,c?b:y.left,y.right));return{x:b,y:d}}var x=this,b=x.chart,d=x.chart,
L=d.plotHeight,M=d.plotLeft,n=d.plotTop,g=d.pointer,J=d.renderer,p=d.scrollablePixelsY,f=void 0===p?0:p;p=d.scrollingContainer;p=void 0===p?{scrollLeft:0,scrollTop:0}:p;var H=p.scrollLeft,u=p.scrollTop,l=d.styledMode,t=x.distance,w=x.options,G=x.options.positioner,y={left:H,right:H+d.chartWidth,top:u,bottom:u+d.chartHeight},D=x.getLabel(),r=!(!b.xAxis[0]||!b.xAxis[0].opposite),v=n+u,z=0,Q=L-f;c(h)&&(h=[!1,h]);h=h.slice(0,k.length+1).reduce(function(b,d,g){if(!1!==d&&""!==d){g=k[g-1]||{isHeader:!0,
plotX:k[0].plotX,plotY:L,series:{}};var c=g.isHeader,a=c?x:g.series,p=a.tt,h=g.isHeader;var H=g.series;var K="highcharts-color-"+e(g.colorIndex,H.colorIndex,"none");p||(p={padding:w.padding,r:w.borderRadius},l||(p.fill=w.backgroundColor,p["stroke-width"]=w.borderWidth),p=J.label("",0,0,w[h?"headerShape":"shape"]||"callout",void 0,void 0,w.useHTML).addClass((h?"highcharts-tooltip-header ":"")+"highcharts-tooltip-box "+K).attr(p).add(D));p.isActive=!0;p.attr({text:d});l||p.css(w.style).shadow(w.shadow).attr({stroke:w.borderColor||
g.color||H.color||m.neutralColor80});d=a.tt=p;h=d.getBBox();a=h.width+d.strokeWidth();c&&(z=h.height,Q+=z,r&&(v-=z));H=g.plotX;H=void 0===H?0:H;K=g.plotY;K=void 0===K?0:K;var T=g.series;if(g.isHeader){H=M+H;var X=n+L/2}else p=T.xAxis,T=T.yAxis,H=p.pos+F(H,-t,p.len+t),T.pos+K>=u+n&&T.pos+K<=u+n+L-f&&(X=T.pos+K);H=F(H,y.left-t,y.right+t);"number"===typeof X?(h=h.height+1,K=G?G.call(x,a,h,g):q(H,X,c,a),b.push({align:G?0:void 0,anchorX:H,anchorY:X,boxWidth:a,point:g,rank:e(K.rank,c?1:0),size:h,target:K.y,
tt:d,x:K.x})):d.isActive=!1}return b},[]);!G&&h.some(function(b){return b.x<y.left})&&(h=h.map(function(b){var d=q(b.anchorX,b.anchorY,b.point.isHeader,b.boxWidth,!1);return B(b,{target:d.y,x:d.x})}));x.cleanSplit();a.distribute(h,Q);h.forEach(function(b){var d=b.pos;b.tt.attr({visibility:"undefined"===typeof d?"hidden":"inherit",x:b.x,y:d+v,anchorX:b.anchorX,anchorY:b.anchorY})});h=x.container;b=x.renderer;x.outside&&h&&b&&(d=D.getBBox(),b.setSize(d.width+d.x,d.height+d.y,!1),g=g.getChartPosition(),
h.style.left=g.left+"px",h.style.top=g.top+"px")};w.prototype.drawTracker=function(){if(this.followPointer||!this.options.stickOnContact)this.tracker&&this.tracker.destroy();else{var c=this.chart,e=this.label,a=c.hoverPoint;if(e&&a){var x={x:0,y:0,width:0,height:0};a=this.getAnchor(a);var b=e.getBBox();a[0]+=c.plotLeft-e.translateX;a[1]+=c.plotTop-e.translateY;x.x=Math.min(0,a[0]);x.y=Math.min(0,a[1]);x.width=0>a[0]?Math.max(Math.abs(a[0]),b.width-a[0]):Math.max(Math.abs(a[0]),b.width);x.height=0>
a[1]?Math.max(Math.abs(a[1]),b.height-Math.abs(a[1])):Math.max(Math.abs(a[1]),b.height);this.tracker?this.tracker.attr(x):(this.tracker=e.renderer.rect(x).addClass("highcharts-tracker").add(e),c.styledMode||this.tracker.attr({fill:"rgba(0,0,0,0)"}))}}};w.prototype.styledModeFormat=function(c){return c.replace('style="font-size: 10px"','class="highcharts-header"').replace(/style="color:{(point|series)\.color}"/g,'class="highcharts-color-{$1.colorIndex}"')};w.prototype.tooltipFooterHeaderFormatter=
function(c,e){var a=e?"footer":"header",h=c.series,b=h.tooltipOptions,d=b.xDateFormat,k=h.xAxis,M=k&&"datetime"===k.options.type&&v(c.key),K=b[a+"Format"];e={isFooter:e,labelConfig:c};z(this,"headerFormatter",e,function(g){M&&!d&&(d=this.getXDateFormat(c,b,k));M&&d&&(c.point&&c.point.tooltipDateKeys||["key"]).forEach(function(b){K=K.replace("{point."+b+"}","{point."+b+":"+d+"}")});h.chart.styledMode&&(K=this.styledModeFormat(K));g.text=r(K,{point:c,series:h},this.chart)});return e.text};w.prototype.update=
function(c){this.destroy();l(!0,this.chart.options.tooltip.userOptions,c);this.init(this.chart,l(!0,this.options,c))};w.prototype.updatePosition=function(c){var e=this.chart,a=e.pointer,h=this.getLabel(),b=c.plotX+e.plotLeft;e=c.plotY+e.plotTop;a=a.getChartPosition();c=(this.options.positioner||this.getPosition).call(this,h.width,h.height,c);if(this.outside){var d=(this.options.borderWidth||0)+2*this.distance;this.renderer.setSize(h.width+d,h.height+d,!1);if(1!==a.scaleX||1!==a.scaleY)O(this.container,
{transform:"scale("+a.scaleX+", "+a.scaleY+")"}),b*=a.scaleX,e*=a.scaleY;b+=a.left-c.x;e+=a.top-c.y}this.move(Math.round(c.x),Math.round(c.y||0),b,e)};return w}();a.Tooltip=Q;return a.Tooltip});S(a,"Core/Pointer.js",[a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(a,m,A,C,F){var O=a.parse,E=m.charts,I=m.noop,B=F.addEvent,z=F.attr,r=F.css,v=F.defined,c=F.extend,l=F.find,e=F.fireEvent,n=F.isNumber,y=F.isObject,k=F.objectEach,
Q=F.offset,w=F.pick,h=F.splat;"";a=function(){function a(c,a){this.lastValidTouch={};this.pinchDown=[];this.runChartClick=!1;this.chart=c;this.hasDragged=!1;this.options=a;this.unbindContainerMouseLeave=function(){};this.unbindContainerMouseEnter=function(){};this.init(c,a)}a.prototype.applyInactiveState=function(c){var a=[],b;(c||[]).forEach(function(d){b=d.series;a.push(b);b.linkedParent&&a.push(b.linkedParent);b.linkedSeries&&(a=a.concat(b.linkedSeries));b.navigatorSeries&&a.push(b.navigatorSeries)});
this.chart.series.forEach(function(b){-1===a.indexOf(b)?b.setState("inactive",!0):b.options.inactiveOtherPoints&&b.setAllPointsToState("inactive")})};a.prototype.destroy=function(){var c=this;"undefined"!==typeof c.unDocMouseMove&&c.unDocMouseMove();this.unbindContainerMouseLeave();m.chartCount||(m.unbindDocumentMouseUp&&(m.unbindDocumentMouseUp=m.unbindDocumentMouseUp()),m.unbindDocumentTouchEnd&&(m.unbindDocumentTouchEnd=m.unbindDocumentTouchEnd()));clearInterval(c.tooltipTimeout);k(c,function(a,
b){c[b]=void 0})};a.prototype.drag=function(c){var a=this.chart,b=a.options.chart,d=c.chartX,e=c.chartY,q=this.zoomHor,h=this.zoomVert,g=a.plotLeft,k=a.plotTop,p=a.plotWidth,f=a.plotHeight,H=this.selectionMarker,u=this.mouseDownX||0,n=this.mouseDownY||0,t=y(b.panning)?b.panning&&b.panning.enabled:b.panning,w=b.panKey&&c[b.panKey+"Key"];if(!H||!H.touch)if(d<g?d=g:d>g+p&&(d=g+p),e<k?e=k:e>k+f&&(e=k+f),this.hasDragged=Math.sqrt(Math.pow(u-d,2)+Math.pow(n-e,2)),10<this.hasDragged){var l=a.isInsidePlot(u-
g,n-k);a.hasCartesianSeries&&(this.zoomX||this.zoomY)&&l&&!w&&!H&&(this.selectionMarker=H=a.renderer.rect(g,k,q?1:p,h?1:f,0).attr({"class":"highcharts-selection-marker",zIndex:7}).add(),a.styledMode||H.attr({fill:b.selectionMarkerFill||O(A.highlightColor80).setOpacity(.25).get()}));H&&q&&(d-=u,H.attr({width:Math.abs(d),x:(0<d?0:d)+u}));H&&h&&(d=e-n,H.attr({height:Math.abs(d),y:(0<d?0:d)+n}));l&&!H&&t&&a.pan(c,b.panning)}};a.prototype.dragStart=function(c){var a=this.chart;a.mouseIsDown=c.type;a.cancelClick=
!1;a.mouseDownX=this.mouseDownX=c.chartX;a.mouseDownY=this.mouseDownY=c.chartY};a.prototype.drop=function(a){var q=this,b=this.chart,d=this.hasPinched;if(this.selectionMarker){var h={originalEvent:a,xAxis:[],yAxis:[]},k=this.selectionMarker,K=k.attr?k.attr("x"):k.x,g=k.attr?k.attr("y"):k.y,J=k.attr?k.attr("width"):k.width,p=k.attr?k.attr("height"):k.height,f;if(this.hasDragged||d)b.axes.forEach(function(b){if(b.zoomEnabled&&v(b.min)&&(d||q[{xAxis:"zoomX",yAxis:"zoomY"}[b.coll]])&&n(K)&&n(g)){var c=
b.horiz,e="touchend"===a.type?b.minPixelPadding:0,k=b.toValue((c?K:g)+e);c=b.toValue((c?K+J:g+p)-e);h[b.coll].push({axis:b,min:Math.min(k,c),max:Math.max(k,c)});f=!0}}),f&&e(b,"selection",h,function(f){b.zoom(c(f,d?{animation:!1}:null))});n(b.index)&&(this.selectionMarker=this.selectionMarker.destroy());d&&this.scaleGroups()}b&&n(b.index)&&(r(b.container,{cursor:b._cursor}),b.cancelClick=10<this.hasDragged,b.mouseIsDown=this.hasDragged=this.hasPinched=!1,this.pinchDown=[])};a.prototype.findNearestKDPoint=
function(c,a,b){var d=this.chart,e=d.hoverPoint;d=d.tooltip;if(e&&d&&d.isStickyOnContact())return e;var q;c.forEach(function(d){var c=!(d.noSharedTooltip&&a)&&0>d.options.findNearestPointBy.indexOf("y");d=d.searchPoint(b,c);if((c=y(d,!0)&&d.series)&&!(c=!y(q,!0))){c=q.distX-d.distX;var e=q.dist-d.dist,p=(d.series.group&&d.series.group.zIndex)-(q.series.group&&q.series.group.zIndex);c=0<(0!==c&&a?c:0!==e?e:0!==p?p:q.series.index>d.series.index?-1:1)}c&&(q=d)});return q};a.prototype.getChartCoordinatesFromPoint=
function(c,a){var b=c.series,d=b.xAxis;b=b.yAxis;var e=w(c.clientX,c.plotX),q=c.shapeArgs;if(d&&b)return a?{chartX:d.len+d.pos-e,chartY:b.len+b.pos-c.plotY}:{chartX:e+d.pos,chartY:c.plotY+b.pos};if(q&&q.x&&q.y)return{chartX:q.x,chartY:q.y}};a.prototype.getChartPosition=function(){if(this.chartPosition)return this.chartPosition;var c=this.chart.container,a=Q(c);this.chartPosition={left:a.left,top:a.top,scaleX:1,scaleY:1};var b=c.offsetWidth;c=c.offsetHeight;2<b&&2<c&&(this.chartPosition.scaleX=a.width/
b,this.chartPosition.scaleY=a.height/c);return this.chartPosition};a.prototype.getCoordinates=function(c){var a={xAxis:[],yAxis:[]};this.chart.axes.forEach(function(b){a[b.isXAxis?"xAxis":"yAxis"].push({axis:b,value:b.toValue(c[b.horiz?"chartX":"chartY"])})});return a};a.prototype.getHoverData=function(c,a,b,d,h,k){var q,g=[];d=!(!d||!c);var J=a&&!a.stickyTracking,p={chartX:k?k.chartX:void 0,chartY:k?k.chartY:void 0,shared:h};e(this,"beforeGetHoverData",p);J=J?[a]:b.filter(function(b){return p.filter?
p.filter(b):b.visible&&!(!h&&b.directTouch)&&w(b.options.enableMouseTracking,!0)&&b.stickyTracking});a=(q=d||!k?c:this.findNearestKDPoint(J,h,k))&&q.series;q&&(h&&!a.noSharedTooltip?(J=b.filter(function(b){return p.filter?p.filter(b):b.visible&&!(!h&&b.directTouch)&&w(b.options.enableMouseTracking,!0)&&!b.noSharedTooltip}),J.forEach(function(b){var d=l(b.points,function(b){return b.x===q.x&&!b.isNull});y(d)&&(b.chart.isBoosting&&(d=b.getPoint(d)),g.push(d))})):g.push(q));p={hoverPoint:q};e(this,"afterGetHoverData",
p);return{hoverPoint:p.hoverPoint,hoverSeries:a,hoverPoints:g}};a.prototype.getPointFromEvent=function(c){c=c.target;for(var a;c&&!a;)a=c.point,c=c.parentNode;return a};a.prototype.onTrackerMouseOut=function(c){c=c.relatedTarget||c.toElement;var a=this.chart.hoverSeries;this.isDirectTouch=!1;if(!(!a||!c||a.stickyTracking||this.inClass(c,"highcharts-tooltip")||this.inClass(c,"highcharts-series-"+a.index)&&this.inClass(c,"highcharts-tracker")))a.onMouseOut()};a.prototype.inClass=function(c,a){for(var b;c;){if(b=
z(c,"class")){if(-1!==b.indexOf(a))return!0;if(-1!==b.indexOf("highcharts-container"))return!1}c=c.parentNode}};a.prototype.init=function(c,a){this.options=a;this.chart=c;this.runChartClick=a.chart.events&&!!a.chart.events.click;this.pinchDown=[];this.lastValidTouch={};C&&(c.tooltip=new C(c,a.tooltip),this.followTouchMove=w(a.tooltip.followTouchMove,!0));this.setDOMEvents()};a.prototype.normalize=function(a,e){var b=a.touches,d=b?b.length?b.item(0):w(b.changedTouches,a.changedTouches)[0]:a;e||(e=
this.getChartPosition());b=d.pageX-e.left;d=d.pageY-e.top;b/=e.scaleX;d/=e.scaleY;return c(a,{chartX:Math.round(b),chartY:Math.round(d)})};a.prototype.onContainerClick=function(a){var h=this.chart,b=h.hoverPoint;a=this.normalize(a);var d=h.plotLeft,k=h.plotTop;h.cancelClick||(b&&this.inClass(a.target,"highcharts-tracker")?(e(b.series,"click",c(a,{point:b})),h.hoverPoint&&b.firePointEvent("click",a)):(c(a,this.getCoordinates(a)),h.isInsidePlot(a.chartX-d,a.chartY-k)&&e(h,"click",a)))};a.prototype.onContainerMouseDown=
function(c){var a=1===((c.buttons||c.button)&1);c=this.normalize(c);if(m.isFirefox&&0!==c.button)this.onContainerMouseMove(c);if("undefined"===typeof c.button||a)this.zoomOption(c),a&&c.preventDefault&&c.preventDefault(),this.dragStart(c)};a.prototype.onContainerMouseLeave=function(c){var a=E[w(m.hoverChartIndex,-1)],b=this.chart.tooltip;c=this.normalize(c);a&&(c.relatedTarget||c.toElement)&&(a.pointer.reset(),a.pointer.chartPosition=void 0);b&&!b.isHidden&&this.reset()};a.prototype.onContainerMouseEnter=
function(c){delete this.chartPosition};a.prototype.onContainerMouseMove=function(c){var a=this.chart;c=this.normalize(c);this.setHoverChartIndex();c.preventDefault||(c.returnValue=!1);("mousedown"===a.mouseIsDown||this.touchSelect(c))&&this.drag(c);a.openMenu||!this.inClass(c.target,"highcharts-tracker")&&!a.isInsidePlot(c.chartX-a.plotLeft,c.chartY-a.plotTop)||this.runPointActions(c)};a.prototype.onDocumentTouchEnd=function(c){E[m.hoverChartIndex]&&E[m.hoverChartIndex].pointer.drop(c)};a.prototype.onContainerTouchMove=
function(c){if(this.touchSelect(c))this.onContainerMouseMove(c);else this.touch(c)};a.prototype.onContainerTouchStart=function(c){if(this.touchSelect(c))this.onContainerMouseDown(c);else this.zoomOption(c),this.touch(c,!0)};a.prototype.onDocumentMouseMove=function(c){var a=this.chart,b=this.chartPosition;c=this.normalize(c,b);var d=a.tooltip;!b||d&&d.isStickyOnContact()||a.isInsidePlot(c.chartX-a.plotLeft,c.chartY-a.plotTop)||this.inClass(c.target,"highcharts-tracker")||this.reset()};a.prototype.onDocumentMouseUp=
function(c){var a=E[w(m.hoverChartIndex,-1)];a&&a.pointer.drop(c)};a.prototype.pinch=function(a){var e=this,b=e.chart,d=e.pinchDown,h=a.touches||[],k=h.length,q=e.lastValidTouch,g=e.hasZoom,J=e.selectionMarker,p={},f=1===k&&(e.inClass(a.target,"highcharts-tracker")&&b.runTrackerClick||e.runChartClick),n={};1<k&&(e.initiated=!0);g&&e.initiated&&!f&&!1!==a.cancelable&&a.preventDefault();[].map.call(h,function(b){return e.normalize(b)});"touchstart"===a.type?([].forEach.call(h,function(b,f){d[f]={chartX:b.chartX,
chartY:b.chartY}}),q.x=[d[0].chartX,d[1]&&d[1].chartX],q.y=[d[0].chartY,d[1]&&d[1].chartY],b.axes.forEach(function(d){if(d.zoomEnabled){var f=b.bounds[d.horiz?"h":"v"],c=d.minPixelPadding,a=d.toPixels(Math.min(w(d.options.min,d.dataMin),d.dataMin)),e=d.toPixels(Math.max(w(d.options.max,d.dataMax),d.dataMax)),g=Math.max(a,e);f.min=Math.min(d.pos,Math.min(a,e)-c);f.max=Math.max(d.pos+d.len,g+c)}}),e.res=!0):e.followTouchMove&&1===k?this.runPointActions(e.normalize(a)):d.length&&(J||(e.selectionMarker=
J=c({destroy:I,touch:!0},b.plotBox)),e.pinchTranslate(d,h,p,J,n,q),e.hasPinched=g,e.scaleGroups(p,n),e.res&&(e.res=!1,this.reset(!1,0)))};a.prototype.pinchTranslate=function(c,a,b,d,e,h){this.zoomHor&&this.pinchTranslateDirection(!0,c,a,b,d,e,h);this.zoomVert&&this.pinchTranslateDirection(!1,c,a,b,d,e,h)};a.prototype.pinchTranslateDirection=function(c,a,b,d,e,h,k,g){var q=this.chart,p=c?"x":"y",f=c?"X":"Y",n="chart"+f,u=c?"width":"height",M=q["plot"+(c?"Left":"Top")],t,L,x=g||1,K=q.inverted,D=q.bounds[c?
"h":"v"],w=1===a.length,l=a[0][n],y=b[0][n],r=!w&&a[1][n],v=!w&&b[1][n];b=function(){"number"===typeof v&&20<Math.abs(l-r)&&(x=g||Math.abs(y-v)/Math.abs(l-r));L=(M-y)/x+l;t=q["plot"+(c?"Width":"Height")]/x};b();a=L;if(a<D.min){a=D.min;var G=!0}else a+t>D.max&&(a=D.max-t,G=!0);G?(y-=.8*(y-k[p][0]),"number"===typeof v&&(v-=.8*(v-k[p][1])),b()):k[p]=[y,v];K||(h[p]=L-M,h[u]=t);h=K?1/x:x;e[u]=t;e[p]=a;d[K?c?"scaleY":"scaleX":"scale"+f]=x;d["translate"+f]=h*M+(y-h*l)};a.prototype.reset=function(c,a){var b=
this.chart,d=b.hoverSeries,e=b.hoverPoint,k=b.hoverPoints,q=b.tooltip,g=q&&q.shared?k:e;c&&g&&h(g).forEach(function(b){b.series.isCartesian&&"undefined"===typeof b.plotX&&(c=!1)});if(c)q&&g&&h(g).length&&(q.refresh(g),q.shared&&k?k.forEach(function(b){b.setState(b.state,!0);b.series.isCartesian&&(b.series.xAxis.crosshair&&b.series.xAxis.drawCrosshair(null,b),b.series.yAxis.crosshair&&b.series.yAxis.drawCrosshair(null,b))}):e&&(e.setState(e.state,!0),b.axes.forEach(function(b){b.crosshair&&e.series[b.coll]===
b&&b.drawCrosshair(null,e)})));else{if(e)e.onMouseOut();k&&k.forEach(function(b){b.setState()});if(d)d.onMouseOut();q&&q.hide(a);this.unDocMouseMove&&(this.unDocMouseMove=this.unDocMouseMove());b.axes.forEach(function(b){b.hideCrosshair()});this.hoverX=b.hoverPoints=b.hoverPoint=null}};a.prototype.runPointActions=function(c,a){var b=this.chart,d=b.tooltip&&b.tooltip.options.enabled?b.tooltip:void 0,e=d?d.shared:!1,h=a||b.hoverPoint,k=h&&h.series||b.hoverSeries;k=this.getHoverData(h,k,b.series,(!c||
"touchmove"!==c.type)&&(!!a||k&&k.directTouch&&this.isDirectTouch),e,c);h=k.hoverPoint;var g=k.hoverPoints;a=(k=k.hoverSeries)&&k.tooltipOptions.followPointer;e=e&&k&&!k.noSharedTooltip;if(h&&(h!==b.hoverPoint||d&&d.isHidden)){(b.hoverPoints||[]).forEach(function(b){-1===g.indexOf(b)&&b.setState()});if(b.hoverSeries!==k)k.onMouseOver();this.applyInactiveState(g);(g||[]).forEach(function(b){b.setState("hover")});b.hoverPoint&&b.hoverPoint.firePointEvent("mouseOut");if(!h.series)return;b.hoverPoints=
g;b.hoverPoint=h;h.firePointEvent("mouseOver");d&&d.refresh(e?g:h,c)}else a&&d&&!d.isHidden&&(h=d.getAnchor([{}],c),d.updatePosition({plotX:h[0],plotY:h[1]}));this.unDocMouseMove||(this.unDocMouseMove=B(b.container.ownerDocument,"mousemove",function(b){var d=E[m.hoverChartIndex];if(d)d.pointer.onDocumentMouseMove(b)}));b.axes.forEach(function(d){var a=w((d.crosshair||{}).snap,!0),f;a&&((f=b.hoverPoint)&&f.series[d.coll]===d||(f=l(g,function(b){return b.series[d.coll]===d})));f||!a?d.drawCrosshair(c,
f):d.hideCrosshair()})};a.prototype.scaleGroups=function(c,a){var b=this.chart,d;b.series.forEach(function(e){d=c||e.getPlotBox();e.xAxis&&e.xAxis.zoomEnabled&&e.group&&(e.group.attr(d),e.markerGroup&&(e.markerGroup.attr(d),e.markerGroup.clip(a?b.clipRect:null)),e.dataLabelsGroup&&e.dataLabelsGroup.attr(d))});b.clipRect.attr(a||b.clipBox)};a.prototype.setDOMEvents=function(){var c=this,a=this.chart.container,b=a.ownerDocument;a.onmousedown=this.onContainerMouseDown.bind(this);a.onmousemove=this.onContainerMouseMove.bind(this);
a.onclick=this.onContainerClick.bind(this);this.unbindContainerMouseEnter=B(a,"mouseenter",this.onContainerMouseEnter.bind(this));this.unbindContainerMouseLeave=B(a,"mouseleave",this.onContainerMouseLeave.bind(this));m.unbindDocumentMouseUp||(m.unbindDocumentMouseUp=B(b,"mouseup",this.onDocumentMouseUp.bind(this)));for(var d=this.chart.renderTo.parentElement;d&&"BODY"!==d.tagName;)B(d,"scroll",function(){delete c.chartPosition}),d=d.parentElement;m.hasTouch&&(B(a,"touchstart",this.onContainerTouchStart.bind(this),
{passive:!1}),B(a,"touchmove",this.onContainerTouchMove.bind(this),{passive:!1}),m.unbindDocumentTouchEnd||(m.unbindDocumentTouchEnd=B(b,"touchend",this.onDocumentTouchEnd.bind(this),{passive:!1})))};a.prototype.setHoverChartIndex=function(){var c=this.chart,a=m.charts[w(m.hoverChartIndex,-1)];if(a&&a!==c)a.pointer.onContainerMouseLeave({relatedTarget:!0});a&&a.mouseIsDown||(m.hoverChartIndex=c.index)};a.prototype.touch=function(c,a){var b=this.chart,d;this.setHoverChartIndex();if(1===c.touches.length)if(c=
this.normalize(c),(d=b.isInsidePlot(c.chartX-b.plotLeft,c.chartY-b.plotTop))&&!b.openMenu){a&&this.runPointActions(c);if("touchmove"===c.type){a=this.pinchDown;var e=a[0]?4<=Math.sqrt(Math.pow(a[0].chartX-c.chartX,2)+Math.pow(a[0].chartY-c.chartY,2)):!1}w(e,!0)&&this.pinch(c)}else a&&this.reset();else 2===c.touches.length&&this.pinch(c)};a.prototype.touchSelect=function(c){return!(!this.chart.options.chart.zoomBySingleTouch||!c.touches||1!==c.touches.length)};a.prototype.zoomOption=function(c){var a=
this.chart,b=a.options.chart,d=b.zoomType||"";a=a.inverted;/touch/.test(c.type)&&(d=w(b.pinchType,d));this.zoomX=c=/x/.test(d);this.zoomY=d=/y/.test(d);this.zoomHor=c&&!a||d&&a;this.zoomVert=d&&!a||c&&a;this.hasZoom=c||d};return a}();return m.Pointer=a});S(a,"Core/MSPointer.js",[a["Core/Globals.js"],a["Core/Pointer.js"],a["Core/Utilities.js"]],function(a,m,A){function C(){var c=[];c.item=function(c){return this[c]};v(l,function(a){c.push({pageX:a.pageX,pageY:a.pageY,target:a.target})});return c}function F(c,
e,k,l){"touch"!==c.pointerType&&c.pointerType!==c.MSPOINTER_TYPE_TOUCH||!E[a.hoverChartIndex]||(l(c),l=E[a.hoverChartIndex].pointer,l[e]({type:k,target:c.currentTarget,preventDefault:B,touches:C()}))}var O=this&&this.__extends||function(){var c=function(a,e){c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,a){c.__proto__=a}||function(c,a){for(var e in a)a.hasOwnProperty(e)&&(c[e]=a[e])};return c(a,e)};return function(a,e){function k(){this.constructor=a}c(a,e);a.prototype=null===
e?Object.create(e):(k.prototype=e.prototype,new k)}}(),E=a.charts,I=a.doc,B=a.noop,z=A.addEvent,r=A.css,v=A.objectEach,c=A.removeEvent,l={},e=!!a.win.PointerEvent;return function(a){function n(){return null!==a&&a.apply(this,arguments)||this}O(n,a);n.prototype.batchMSEvents=function(c){c(this.chart.container,e?"pointerdown":"MSPointerDown",this.onContainerPointerDown);c(this.chart.container,e?"pointermove":"MSPointerMove",this.onContainerPointerMove);c(I,e?"pointerup":"MSPointerUp",this.onDocumentPointerUp)};
n.prototype.destroy=function(){this.batchMSEvents(c);a.prototype.destroy.call(this)};n.prototype.init=function(c,e){a.prototype.init.call(this,c,e);this.hasZoom&&r(c.container,{"-ms-touch-action":"none","touch-action":"none"})};n.prototype.onContainerPointerDown=function(c){F(c,"onContainerTouchStart","touchstart",function(c){l[c.pointerId]={pageX:c.pageX,pageY:c.pageY,target:c.currentTarget}})};n.prototype.onContainerPointerMove=function(c){F(c,"onContainerTouchMove","touchmove",function(c){l[c.pointerId]=
{pageX:c.pageX,pageY:c.pageY};l[c.pointerId].target||(l[c.pointerId].target=c.currentTarget)})};n.prototype.onDocumentPointerUp=function(c){F(c,"onDocumentTouchEnd","touchend",function(c){delete l[c.pointerId]})};n.prototype.setDOMEvents=function(){a.prototype.setDOMEvents.call(this);(this.hasZoom||this.followTouchMove)&&this.batchMSEvents(z)};return n}(m)});S(a,"Core/Series/Point.js",[a["Core/Renderer/HTML/AST.js"],a["Core/Animation/AnimationUtilities.js"],a["Core/Globals.js"],a["Core/Options.js"],
a["Core/Utilities.js"]],function(a,m,A,C,F){var O=m.animObject,E=C.defaultOptions,I=F.addEvent,B=F.defined,z=F.erase,r=F.extend,v=F.fireEvent,c=F.format,l=F.getNestedProperty,e=F.isArray,n=F.isFunction,y=F.isNumber,k=F.isObject,Q=F.merge,w=F.objectEach,h=F.pick,G=F.syncTimeout,q=F.removeEvent,x=F.uniqueKey;"";m=function(){function b(){this.colorIndex=this.category=void 0;this.formatPrefix="point";this.id=void 0;this.isNull=!1;this.percentage=this.options=this.name=void 0;this.selected=!1;this.total=
this.series=void 0;this.visible=!0;this.x=void 0}b.prototype.animateBeforeDestroy=function(){var b=this,c={x:b.startXPos,opacity:0},a,e=b.getGraphicalProps();e.singular.forEach(function(d){a="dataLabel"===d;b[d]=b[d].animate(a?{x:b[d].startXPos,y:b[d].startYPos,opacity:0}:c)});e.plural.forEach(function(d){b[d].forEach(function(d){d.element&&d.animate(r({x:b.startXPos},d.startYPos?{x:d.startXPos,y:d.startYPos}:{}))})})};b.prototype.applyOptions=function(d,c){var a=this.series,e=a.options.pointValKey||
a.pointValKey;d=b.prototype.optionsToObject.call(this,d);r(this,d);this.options=this.options?r(this.options,d):d;d.group&&delete this.group;d.dataLabels&&delete this.dataLabels;e&&(this.y=b.prototype.getNestedProperty.call(this,e));this.formatPrefix=(this.isNull=h(this.isValid&&!this.isValid(),null===this.x||!y(this.y)))?"null":"point";this.selected&&(this.state="select");"name"in this&&"undefined"===typeof c&&a.xAxis&&a.xAxis.hasNames&&(this.x=a.xAxis.nameToX(this));"undefined"===typeof this.x&&
a&&(this.x="undefined"===typeof c?a.autoIncrement(this):c);return this};b.prototype.destroy=function(){function b(){if(c.graphic||c.dataLabel||c.dataLabels)q(c),c.destroyElements();for(p in c)c[p]=null}var c=this,a=c.series,e=a.chart;a=a.options.dataSorting;var g=e.hoverPoints,h=O(c.series.chart.renderer.globalAnimation),p;c.legendItem&&e.legend.destroyItem(c);g&&(c.setState(),z(g,c),g.length||(e.hoverPoints=null));if(c===e.hoverPoint)c.onMouseOut();a&&a.enabled?(this.animateBeforeDestroy(),G(b,h.duration)):
b();e.pointCount--};b.prototype.destroyElements=function(b){var d=this;b=d.getGraphicalProps(b);b.singular.forEach(function(b){d[b]=d[b].destroy()});b.plural.forEach(function(b){d[b].forEach(function(b){b.element&&b.destroy()});delete d[b]})};b.prototype.firePointEvent=function(b,c,a){var d=this,e=this.series.options;(e.point.events[b]||d.options&&d.options.events&&d.options.events[b])&&d.importEvents();"click"===b&&e.allowPointSelect&&(a=function(b){d.select&&d.select(null,b.ctrlKey||b.metaKey||
b.shiftKey)});v(d,b,c,a)};b.prototype.getClassName=function(){return"highcharts-point"+(this.selected?" highcharts-point-select":"")+(this.negative?" highcharts-negative":"")+(this.isNull?" highcharts-null-point":"")+("undefined"!==typeof this.colorIndex?" highcharts-color-"+this.colorIndex:"")+(this.options.className?" "+this.options.className:"")+(this.zone&&this.zone.className?" "+this.zone.className.replace("highcharts-negative",""):"")};b.prototype.getGraphicalProps=function(b){var d=this,c=
[],a,e={singular:[],plural:[]};b=b||{graphic:1,dataLabel:1};b.graphic&&c.push("graphic","upperGraphic","shadowGroup");b.dataLabel&&c.push("dataLabel","dataLabelUpper","connector");for(a=c.length;a--;){var h=c[a];d[h]&&e.singular.push(h)}["dataLabel","connector"].forEach(function(c){var a=c+"s";b[c]&&d[a]&&e.plural.push(a)});return e};b.prototype.getLabelConfig=function(){return{x:this.category,y:this.y,color:this.color,colorIndex:this.colorIndex,key:this.name||this.category,series:this.series,point:this,
percentage:this.percentage,total:this.total||this.stackTotal}};b.prototype.getNestedProperty=function(b){if(b)return 0===b.indexOf("custom.")?l(b,this.options):this[b]};b.prototype.getZone=function(){var b=this.series,c=b.zones;b=b.zoneAxis||"y";var a=0,e;for(e=c[a];this[b]>=e.value;)e=c[++a];this.nonZonedColor||(this.nonZonedColor=this.color);this.color=e&&e.color&&!this.options.color?e.color:this.nonZonedColor;return e};b.prototype.hasNewShapeType=function(){return(this.graphic&&(this.graphic.symbolName||
this.graphic.element.nodeName))!==this.shapeType};b.prototype.init=function(b,c,a){this.series=b;this.applyOptions(c,a);this.id=B(this.id)?this.id:x();this.resolveColor();b.chart.pointCount++;v(this,"afterInit");return this};b.prototype.optionsToObject=function(d){var c={},a=this.series,h=a.options.keys,g=h||a.pointArrayMap||["y"],k=g.length,p=0,f=0;if(y(d)||null===d)c[g[0]]=d;else if(e(d))for(!h&&d.length>k&&(a=typeof d[0],"string"===a?c.name=d[0]:"number"===a&&(c.x=d[0]),p++);f<k;)h&&"undefined"===
typeof d[p]||(0<g[f].indexOf(".")?b.prototype.setNestedProperty(c,d[p],g[f]):c[g[f]]=d[p]),p++,f++;else"object"===typeof d&&(c=d,d.dataLabels&&(a._hasPointLabels=!0),d.marker&&(a._hasPointMarkers=!0));return c};b.prototype.resolveColor=function(){var b=this.series;var c=b.chart.options.chart.colorCount;var a=b.chart.styledMode;delete this.nonZonedColor;a||this.options.color||(this.color=b.color);b.options.colorByPoint?(a||(c=b.options.colors||b.chart.options.colors,this.color=this.color||c[b.colorCounter],
c=c.length),a=b.colorCounter,b.colorCounter++,b.colorCounter===c&&(b.colorCounter=0)):a=b.colorIndex;this.colorIndex=h(this.options.colorIndex,a)};b.prototype.setNestedProperty=function(b,c,a){a.split(".").reduce(function(b,d,a,e){b[d]=e.length-1===a?c:k(b[d],!0)?b[d]:{};return b[d]},b);return b};b.prototype.tooltipFormatter=function(b){var d=this.series,a=d.tooltipOptions,e=h(a.valueDecimals,""),g=a.valuePrefix||"",k=a.valueSuffix||"";d.chart.styledMode&&(b=d.chart.tooltip.styledModeFormat(b));(d.pointArrayMap||
["y"]).forEach(function(d){d="{point."+d;if(g||k)b=b.replace(RegExp(d+"}","g"),g+d+"}"+k);b=b.replace(RegExp(d+"}","g"),d+":,."+e+"f}")});return c(b,{point:this,series:this.series},d.chart)};b.prototype.update=function(b,c,a,e){function d(){q.applyOptions(b);var d=f&&q.hasDummyGraphic;d=null===q.y?!d:d;f&&d&&(q.graphic=f.destroy(),delete q.hasDummyGraphic);k(b,!0)&&(f&&f.element&&b&&b.marker&&"undefined"!==typeof b.marker.symbol&&(q.graphic=f.destroy()),b&&b.dataLabels&&q.dataLabel&&(q.dataLabel=
q.dataLabel.destroy()),q.connector&&(q.connector=q.connector.destroy()));n=q.index;p.updateParallelArrays(q,n);l.data[n]=k(l.data[n],!0)||k(b,!0)?q.options:h(b,l.data[n]);p.isDirty=p.isDirtyData=!0;!p.fixedBox&&p.hasCartesianSeries&&(u.isDirtyBox=!0);"point"===l.legendType&&(u.isDirtyLegend=!0);c&&u.redraw(a)}var q=this,p=q.series,f=q.graphic,n,u=p.chart,l=p.options;c=h(c,!0);!1===e?d():q.firePointEvent("update",{options:b},d)};b.prototype.remove=function(b,c){this.series.removePoint(this.series.data.indexOf(this),
b,c)};b.prototype.select=function(b,c){var d=this,a=d.series,e=a.chart;this.selectedStaging=b=h(b,!d.selected);d.firePointEvent(b?"select":"unselect",{accumulate:c},function(){d.selected=d.options.selected=b;a.options.data[a.data.indexOf(d)]=d.options;d.setState(b&&"select");c||e.getSelectedPoints().forEach(function(b){var c=b.series;b.selected&&b!==d&&(b.selected=b.options.selected=!1,c.options.data[c.data.indexOf(b)]=b.options,b.setState(e.hoverPoints&&c.options.inactiveOtherPoints?"inactive":""),
b.firePointEvent("unselect"))})});delete this.selectedStaging};b.prototype.onMouseOver=function(b){var d=this.series.chart,c=d.pointer;b=b?c.normalize(b):c.getChartCoordinatesFromPoint(this,d.inverted);c.runPointActions(b,this)};b.prototype.onMouseOut=function(){var b=this.series.chart;this.firePointEvent("mouseOut");this.series.options.inactiveOtherPoints||(b.hoverPoints||[]).forEach(function(b){b.setState()});b.hoverPoints=b.hoverPoint=null};b.prototype.importEvents=function(){if(!this.hasImportedEvents){var b=
this,c=Q(b.series.options.point,b.options).events;b.events=c;w(c,function(d,c){n(d)&&I(b,c,d)});this.hasImportedEvents=!0}};b.prototype.setState=function(b,c){var d=this.series,e=this.state,g=d.options.states[b||"normal"]||{},k=E.plotOptions[d.type].marker&&d.options.marker,p=k&&!1===k.enabled,f=k&&k.states&&k.states[b||"normal"]||{},q=!1===f.enabled,u=d.stateMarkerGraphic,n=this.marker||{},t=d.chart,l=d.halo,w,x=k&&d.markerAttribs;b=b||"";if(!(b===this.state&&!c||this.selected&&"select"!==b||!1===
g.enabled||b&&(q||p&&!1===f.enabled)||b&&n.states&&n.states[b]&&!1===n.states[b].enabled)){this.state=b;x&&(w=d.markerAttribs(this,b));if(this.graphic){e&&this.graphic.removeClass("highcharts-point-"+e);b&&this.graphic.addClass("highcharts-point-"+b);if(!t.styledMode){var D=d.pointAttribs(this,b);var y=h(t.options.chart.animation,g.animation);d.options.inactiveOtherPoints&&D.opacity&&((this.dataLabels||[]).forEach(function(b){b&&b.animate({opacity:D.opacity},y)}),this.connector&&this.connector.animate({opacity:D.opacity},
y));this.graphic.animate(D,y)}w&&this.graphic.animate(w,h(t.options.chart.animation,f.animation,k.animation));u&&u.hide()}else{if(b&&f){e=n.symbol||d.symbol;u&&u.currentSymbol!==e&&(u=u.destroy());if(w)if(u)u[c?"animate":"attr"]({x:w.x,y:w.y});else e&&(d.stateMarkerGraphic=u=t.renderer.symbol(e,w.x,w.y,w.width,w.height).add(d.markerGroup),u.currentSymbol=e);!t.styledMode&&u&&u.attr(d.pointAttribs(this,b))}u&&(u[b&&this.isInside?"show":"hide"](),u.element.point=this)}b=g.halo;g=(u=this.graphic||u)&&
u.visibility||"inherit";b&&b.size&&u&&"hidden"!==g&&!this.isCluster?(l||(d.halo=l=t.renderer.path().add(u.parentGroup)),l.show()[c?"animate":"attr"]({d:this.haloPath(b.size)}),l.attr({"class":"highcharts-halo highcharts-color-"+h(this.colorIndex,d.colorIndex)+(this.className?" "+this.className:""),visibility:g,zIndex:-1}),l.point=this,t.styledMode||l.attr(r({fill:this.color||d.color,"fill-opacity":b.opacity},a.filterUserAttributes(b.attributes||{})))):l&&l.point&&l.point.haloPath&&l.animate({d:l.point.haloPath(0)},
null,l.hide);v(this,"afterSetState")}};b.prototype.haloPath=function(b){return this.series.chart.renderer.symbols.circle(Math.floor(this.plotX)-b,this.plotY-b,2*b,2*b)};return b}();return A.Point=m});S(a,"Core/Legend.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Globals.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=a.animObject,O=a.setAnimation;a=m.isFirefox;var E=m.marginNames,I=m.win,B=C.addEvent,z=C.createElement,r=C.css,v=C.defined,c=C.discardElement,
l=C.find,e=C.fireEvent,n=C.format,y=C.isNumber,k=C.merge,Q=C.pick,w=C.relativeLength,h=C.stableSort,G=C.syncTimeout;C=C.wrap;var q=function(){function a(b,d){this.allItems=[];this.contentGroup=this.box=void 0;this.display=!1;this.group=void 0;this.offsetWidth=this.maxLegendWidth=this.maxItemWidth=this.legendWidth=this.legendHeight=this.lastLineHeight=this.lastItemY=this.itemY=this.itemX=this.itemMarginTop=this.itemMarginBottom=this.itemHeight=this.initialItemY=0;this.options={};this.padding=0;this.pages=
[];this.proximate=!1;this.scrollGroup=void 0;this.widthOption=this.totalItemWidth=this.titleHeight=this.symbolWidth=this.symbolHeight=0;this.chart=b;this.init(b,d)}a.prototype.init=function(b,d){this.chart=b;this.setOptions(d);d.enabled&&(this.render(),B(this.chart,"endResize",function(){this.legend.positionCheckboxes()}),this.proximate?this.unchartrender=B(this.chart,"render",function(){this.legend.proximatePositions();this.legend.positionItems()}):this.unchartrender&&this.unchartrender())};a.prototype.setOptions=
function(b){var d=Q(b.padding,8);this.options=b;this.chart.styledMode||(this.itemStyle=b.itemStyle,this.itemHiddenStyle=k(this.itemStyle,b.itemHiddenStyle));this.itemMarginTop=b.itemMarginTop||0;this.itemMarginBottom=b.itemMarginBottom||0;this.padding=d;this.initialItemY=d-5;this.symbolWidth=Q(b.symbolWidth,16);this.pages=[];this.proximate="proximate"===b.layout&&!this.chart.inverted;this.baseline=void 0};a.prototype.update=function(b,d){var c=this.chart;this.setOptions(k(!0,this.options,b));this.destroy();
c.isDirtyLegend=c.isDirtyBox=!0;Q(d,!0)&&c.redraw();e(this,"afterUpdate")};a.prototype.colorizeItem=function(b,d){b.legendGroup[d?"removeClass":"addClass"]("highcharts-legend-item-hidden");if(!this.chart.styledMode){var c=this.options,a=b.legendItem,h=b.legendLine,g=b.legendSymbol,k=this.itemHiddenStyle.color;c=d?c.itemStyle.color:k;var p=d?b.color||k:k,f=b.options&&b.options.marker,q={fill:p};a&&a.css({fill:c,color:c});h&&h.attr({stroke:p});g&&(f&&g.isMarker&&(q=b.pointAttribs(),d||(q.stroke=q.fill=
k)),g.attr(q))}e(this,"afterColorizeItem",{item:b,visible:d})};a.prototype.positionItems=function(){this.allItems.forEach(this.positionItem,this);this.chart.isResizing||this.positionCheckboxes()};a.prototype.positionItem=function(b){var d=this,c=this.options,a=c.symbolPadding,h=!c.rtl,g=b._legendItemPos;c=g[0];g=g[1];var k=b.checkbox,p=b.legendGroup;p&&p.element&&(a={translateX:h?c:this.legendWidth-c-2*a-4,translateY:g},h=function(){e(d,"afterPositionItem",{item:b})},v(p.translateY)?p.animate(a,void 0,
h):(p.attr(a),h()));k&&(k.x=c,k.y=g)};a.prototype.destroyItem=function(b){var d=b.checkbox;["legendItem","legendLine","legendSymbol","legendGroup"].forEach(function(d){b[d]&&(b[d]=b[d].destroy())});d&&c(b.checkbox)};a.prototype.destroy=function(){function b(b){this[b]&&(this[b]=this[b].destroy())}this.getAllItems().forEach(function(d){["legendItem","legendGroup"].forEach(b,d)});"clipRect up down pager nav box title group".split(" ").forEach(b,this);this.display=null};a.prototype.positionCheckboxes=
function(){var b=this.group&&this.group.alignAttr,d=this.clipHeight||this.legendHeight,c=this.titleHeight;if(b){var a=b.translateY;this.allItems.forEach(function(e){var g=e.checkbox;if(g){var h=a+c+g.y+(this.scrollOffset||0)+3;r(g,{left:b.translateX+e.checkboxOffset+g.x-20+"px",top:h+"px",display:this.proximate||h>a-6&&h<a+d-6?"":"none"})}},this)}};a.prototype.renderTitle=function(){var b=this.options,d=this.padding,c=b.title,a=0;c.text&&(this.title||(this.title=this.chart.renderer.label(c.text,d-
3,d-4,null,null,null,b.useHTML,null,"legend-title").attr({zIndex:1}),this.chart.styledMode||this.title.css(c.style),this.title.add(this.group)),c.width||this.title.css({width:this.maxLegendWidth+"px"}),b=this.title.getBBox(),a=b.height,this.offsetWidth=b.width,this.contentGroup.attr({translateY:a}));this.titleHeight=a};a.prototype.setText=function(b){var d=this.options;b.legendItem.attr({text:d.labelFormat?n(d.labelFormat,b,this.chart):d.labelFormatter.call(b)})};a.prototype.renderItem=function(b){var d=
this.chart,c=d.renderer,a=this.options,e=this.symbolWidth,g=a.symbolPadding,h=this.itemStyle,p=this.itemHiddenStyle,f="horizontal"===a.layout?Q(a.itemDistance,20):0,q=!a.rtl,u=b.legendItem,n=!b.series,t=!n&&b.series.drawLegendSymbol?b.series:b,l=t.options;l=this.createCheckboxForItem&&l&&l.showCheckbox;f=e+g+f+(l?20:0);var w=a.useHTML,y=b.options.className;u||(b.legendGroup=c.g("legend-item").addClass("highcharts-"+t.type+"-series highcharts-color-"+b.colorIndex+(y?" "+y:"")+(n?" highcharts-series-"+
b.index:"")).attr({zIndex:1}).add(this.scrollGroup),b.legendItem=u=c.text("",q?e+g:-g,this.baseline||0,w),d.styledMode||u.css(k(b.visible?h:p)),u.attr({align:q?"left":"right",zIndex:2}).add(b.legendGroup),this.baseline||(this.fontMetrics=c.fontMetrics(d.styledMode?12:h.fontSize,u),this.baseline=this.fontMetrics.f+3+this.itemMarginTop,u.attr("y",this.baseline)),this.symbolHeight=a.symbolHeight||this.fontMetrics.f,t.drawLegendSymbol(this,b),this.setItemEvents&&this.setItemEvents(b,u,w));l&&!b.checkbox&&
this.createCheckboxForItem&&this.createCheckboxForItem(b);this.colorizeItem(b,b.visible);!d.styledMode&&h.width||u.css({width:(a.itemWidth||this.widthOption||d.spacingBox.width)-f+"px"});this.setText(b);d=u.getBBox();b.itemWidth=b.checkboxOffset=a.itemWidth||b.legendItemWidth||d.width+f;this.maxItemWidth=Math.max(this.maxItemWidth,b.itemWidth);this.totalItemWidth+=b.itemWidth;this.itemHeight=b.itemHeight=Math.round(b.legendItemHeight||d.height||this.symbolHeight)};a.prototype.layoutItem=function(b){var d=
this.options,c=this.padding,a="horizontal"===d.layout,e=b.itemHeight,g=this.itemMarginBottom,h=this.itemMarginTop,p=a?Q(d.itemDistance,20):0,f=this.maxLegendWidth;d=d.alignColumns&&this.totalItemWidth>f?this.maxItemWidth:b.itemWidth;a&&this.itemX-c+d>f&&(this.itemX=c,this.lastLineHeight&&(this.itemY+=h+this.lastLineHeight+g),this.lastLineHeight=0);this.lastItemY=h+this.itemY+g;this.lastLineHeight=Math.max(e,this.lastLineHeight);b._legendItemPos=[this.itemX,this.itemY];a?this.itemX+=d:(this.itemY+=
h+e+g,this.lastLineHeight=e);this.offsetWidth=this.widthOption||Math.max((a?this.itemX-c-(b.checkbox?0:p):d)+c,this.offsetWidth)};a.prototype.getAllItems=function(){var b=[];this.chart.series.forEach(function(d){var c=d&&d.options;d&&Q(c.showInLegend,v(c.linkedTo)?!1:void 0,!0)&&(b=b.concat(d.legendItems||("point"===c.legendType?d.data:d)))});e(this,"afterGetAllItems",{allItems:b});return b};a.prototype.getAlignment=function(){var b=this.options;return this.proximate?b.align.charAt(0)+"tv":b.floating?
"":b.align.charAt(0)+b.verticalAlign.charAt(0)+b.layout.charAt(0)};a.prototype.adjustMargins=function(b,d){var c=this.chart,a=this.options,e=this.getAlignment();e&&[/(lth|ct|rth)/,/(rtv|rm|rbv)/,/(rbh|cb|lbh)/,/(lbv|lm|ltv)/].forEach(function(g,h){g.test(e)&&!v(b[h])&&(c[E[h]]=Math.max(c[E[h]],c.legend[(h+1)%2?"legendHeight":"legendWidth"]+[1,-1,-1,1][h]*a[h%2?"x":"y"]+Q(a.margin,12)+d[h]+(c.titleOffset[h]||0)))})};a.prototype.proximatePositions=function(){var b=this.chart,d=[],c="left"===this.options.align;
this.allItems.forEach(function(a){var e;var g=c;if(a.yAxis){a.xAxis.options.reversed&&(g=!g);a.points&&(e=l(g?a.points:a.points.slice(0).reverse(),function(b){return y(b.plotY)}));g=this.itemMarginTop+a.legendItem.getBBox().height+this.itemMarginBottom;var h=a.yAxis.top-b.plotTop;a.visible?(e=e?e.plotY:a.yAxis.height,e+=h-.3*g):e=h+a.yAxis.height;d.push({target:e,size:g,item:a})}},this);m.distribute(d,b.plotHeight);d.forEach(function(d){d.item._legendItemPos[1]=b.plotTop-b.spacing[0]+d.pos})};a.prototype.render=
function(){var b=this.chart,d=b.renderer,c=this.group,a=this.box,k=this.options,g=this.padding;this.itemX=g;this.itemY=this.initialItemY;this.lastItemY=this.offsetWidth=0;this.widthOption=w(k.width,b.spacingBox.width-g);var q=b.spacingBox.width-2*g-k.x;-1<["rm","lm"].indexOf(this.getAlignment().substring(0,2))&&(q/=2);this.maxLegendWidth=this.widthOption||q;c||(this.group=c=d.g("legend").attr({zIndex:7}).add(),this.contentGroup=d.g().attr({zIndex:1}).add(c),this.scrollGroup=d.g().add(this.contentGroup));
this.renderTitle();var p=this.getAllItems();h(p,function(b,d){return(b.options&&b.options.legendIndex||0)-(d.options&&d.options.legendIndex||0)});k.reversed&&p.reverse();this.allItems=p;this.display=q=!!p.length;this.itemHeight=this.totalItemWidth=this.maxItemWidth=this.lastLineHeight=0;p.forEach(this.renderItem,this);p.forEach(this.layoutItem,this);p=(this.widthOption||this.offsetWidth)+g;var f=this.lastItemY+this.lastLineHeight+this.titleHeight;f=this.handleOverflow(f);f+=g;a||(this.box=a=d.rect().addClass("highcharts-legend-box").attr({r:k.borderRadius}).add(c),
a.isNew=!0);b.styledMode||a.attr({stroke:k.borderColor,"stroke-width":k.borderWidth||0,fill:k.backgroundColor||"none"}).shadow(k.shadow);0<p&&0<f&&(a[a.isNew?"attr":"animate"](a.crisp.call({},{x:0,y:0,width:p,height:f},a.strokeWidth())),a.isNew=!1);a[q?"show":"hide"]();b.styledMode&&"none"===c.getStyle("display")&&(p=f=0);this.legendWidth=p;this.legendHeight=f;q&&this.align();this.proximate||this.positionItems();e(this,"afterRender")};a.prototype.align=function(b){void 0===b&&(b=this.chart.spacingBox);
var d=this.chart,c=this.options,a=b.y;/(lth|ct|rth)/.test(this.getAlignment())&&0<d.titleOffset[0]?a+=d.titleOffset[0]:/(lbh|cb|rbh)/.test(this.getAlignment())&&0<d.titleOffset[2]&&(a-=d.titleOffset[2]);a!==b.y&&(b=k(b,{y:a}));this.group.align(k(c,{width:this.legendWidth,height:this.legendHeight,verticalAlign:this.proximate?"top":c.verticalAlign}),!0,b)};a.prototype.handleOverflow=function(b){var d=this,c=this.chart,a=c.renderer,e=this.options,g=e.y,h=this.padding;g=c.spacingBox.height+("top"===e.verticalAlign?
-g:g)-h;var p=e.maxHeight,f,k=this.clipRect,q=e.navigation,n=Q(q.animation,!0),t=q.arrowSize||12,l=this.nav,w=this.pages,y,D=this.allItems,x=function(b){"number"===typeof b?k.attr({height:b}):k&&(d.clipRect=k.destroy(),d.contentGroup.clip());d.contentGroup.div&&(d.contentGroup.div.style.clip=b?"rect("+h+"px,9999px,"+(h+b)+"px,0)":"auto")},r=function(b){d[b]=a.circle(0,0,1.3*t).translate(t/2,t/2).add(l);c.styledMode||d[b].attr("fill","rgba(0,0,0,0.0001)");return d[b]};"horizontal"!==e.layout||"middle"===
e.verticalAlign||e.floating||(g/=2);p&&(g=Math.min(g,p));w.length=0;b>g&&!1!==q.enabled?(this.clipHeight=f=Math.max(g-20-this.titleHeight-h,0),this.currentPage=Q(this.currentPage,1),this.fullHeight=b,D.forEach(function(b,d){var c=b._legendItemPos[1],a=Math.round(b.legendItem.getBBox().height),e=w.length;if(!e||c-w[e-1]>f&&(y||c)!==w[e-1])w.push(y||c),e++;b.pageIx=e-1;y&&(D[d-1].pageIx=e-1);d===D.length-1&&c+a-w[e-1]>f&&c!==y&&(w.push(c),b.pageIx=e);c!==y&&(y=c)}),k||(k=d.clipRect=a.clipRect(0,h,9999,
0),d.contentGroup.clip(k)),x(f),l||(this.nav=l=a.g().attr({zIndex:1}).add(this.group),this.up=a.symbol("triangle",0,0,t,t).add(l),r("upTracker").on("click",function(){d.scroll(-1,n)}),this.pager=a.text("",15,10).addClass("highcharts-legend-navigation"),c.styledMode||this.pager.css(q.style),this.pager.add(l),this.down=a.symbol("triangle-down",0,0,t,t).add(l),r("downTracker").on("click",function(){d.scroll(1,n)})),d.scroll(0),b=g):l&&(x(),this.nav=l.destroy(),this.scrollGroup.attr({translateY:1}),this.clipHeight=
0);return b};a.prototype.scroll=function(b,d){var c=this,a=this.chart,h=this.pages,g=h.length,k=this.currentPage+b;b=this.clipHeight;var p=this.options.navigation,f=this.pager,q=this.padding;k>g&&(k=g);0<k&&("undefined"!==typeof d&&O(d,a),this.nav.attr({translateX:q,translateY:b+this.padding+7+this.titleHeight,visibility:"visible"}),[this.up,this.upTracker].forEach(function(b){b.attr({"class":1===k?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})}),f.attr({text:k+"/"+g}),[this.down,
this.downTracker].forEach(function(b){b.attr({x:18+this.pager.getBBox().width,"class":k===g?"highcharts-legend-nav-inactive":"highcharts-legend-nav-active"})},this),a.styledMode||(this.up.attr({fill:1===k?p.inactiveColor:p.activeColor}),this.upTracker.css({cursor:1===k?"default":"pointer"}),this.down.attr({fill:k===g?p.inactiveColor:p.activeColor}),this.downTracker.css({cursor:k===g?"default":"pointer"})),this.scrollOffset=-h[k-1]+this.initialItemY,this.scrollGroup.animate({translateY:this.scrollOffset}),
this.currentPage=k,this.positionCheckboxes(),d=F(Q(d,a.renderer.globalAnimation,!0)),G(function(){e(c,"afterScroll",{currentPage:k})},d.duration))};a.prototype.setItemEvents=function(b,d,c){var a=this,h=a.chart.renderer.boxWrapper,g=b instanceof A,q="highcharts-legend-"+(g?"point":"series")+"-active",p=a.chart.styledMode;(c?[d,b.legendSymbol]:[b.legendGroup]).forEach(function(c){if(c)c.on("mouseover",function(){b.visible&&a.allItems.forEach(function(d){b!==d&&d.setState("inactive",!g)});b.setState("hover");
b.visible&&h.addClass(q);p||d.css(a.options.itemHoverStyle)}).on("mouseout",function(){a.chart.styledMode||d.css(k(b.visible?a.itemStyle:a.itemHiddenStyle));a.allItems.forEach(function(d){b!==d&&d.setState("",!g)});h.removeClass(q);b.setState()}).on("click",function(d){var c=function(){b.setVisible&&b.setVisible();a.allItems.forEach(function(d){b!==d&&d.setState(b.visible?"inactive":"",!g)})};h.removeClass(q);d={browserEvent:d};b.firePointEvent?b.firePointEvent("legendItemClick",d,c):e(b,"legendItemClick",
d,c)})})};a.prototype.createCheckboxForItem=function(b){b.checkbox=z("input",{type:"checkbox",className:"highcharts-legend-checkbox",checked:b.selected,defaultChecked:b.selected},this.options.itemCheckboxStyle,this.chart.container);B(b.checkbox,"click",function(d){e(b.series||b,"checkboxClick",{checked:d.target.checked,item:b},function(){b.select()})})};return a}();(/Trident\/7\.0/.test(I.navigator&&I.navigator.userAgent)||a)&&C(q.prototype,"positionItem",function(c,b){var d=this,a=function(){b._legendItemPos&&
c.call(d,b)};a();d.bubbleLegend||setTimeout(a)});m.Legend=q;return m.Legend});S(a,"Core/Series/SeriesRegistry.js",[a["Core/Globals.js"],a["Core/Options.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=m.defaultOptions,O=C.error,E=C.extendClass,I=C.merge,B;(function(a){function r(r,c){var l=F.plotOptions||{},e=c.defaultOptions;c.prototype.pointClass||(c.prototype.pointClass=A);c.prototype.type=r;e&&(l[r]=e);a.seriesTypes[r]=c}a.seriesTypes={};a.getSeries=function(r,c){void 0===
c&&(c={});var l=r.options.chart;l=c.type||l.type||l.defaultSeriesType||"";var e=a.seriesTypes[l];a||O(17,!0,r,{missingModuleFor:l});l=new e;"function"===typeof l.init&&l.init(r,c);return l};a.registerSeriesType=r;a.seriesType=function(v,c,l,e,n){var y=F.plotOptions||{};c=c||"";y[v]=I(y[c],l);r(v,E(a.seriesTypes[c]||function(){},e));a.seriesTypes[v].prototype.type=v;n&&(a.seriesTypes[v].prototype.pointClass=E(A,n));return a.seriesTypes[v]}})(B||(B={}));a.seriesType=B.seriesType;a.seriesTypes=B.seriesTypes;
return B});S(a,"Core/Chart/Chart.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Globals.js"],a["Core/Legend.js"],a["Core/MSPointer.js"],a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Pointer.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Time.js"],a["Core/Utilities.js"],a["Core/Renderer/HTML/AST.js"]],function(a,m,A,C,F,N,E,I,B,z,r,v){var c=a.animate,l=a.animObject,e=a.setAnimation,n=A.charts,y=A.doc,k=A.win,Q=N.defaultOptions,w=N.time,h=B.seriesTypes,G=r.addEvent,
q=r.attr,x=r.cleanRecursively,b=r.createElement,d=r.css,L=r.defined,M=r.discardElement,K=r.erase,g=r.error,J=r.extend,p=r.find,f=r.fireEvent,H=r.getStyle,u=r.isArray,R=r.isFunction,t=r.isNumber,P=r.isObject,O=r.isString,Y=r.merge,D=r.numberFormat,X=r.objectEach,T=r.pick,ba=r.pInt,U=r.relativeLength,Z=r.removeEvent,V=r.splat,ca=r.syncTimeout,ea=r.uniqueKey,da=A.marginNames,aa=function(){function a(b,d,a){this.yAxis=this.xAxis=this.userOptions=this.titleOffset=this.time=this.symbolCounter=this.spacingBox=
this.spacing=this.series=this.renderTo=this.renderer=this.pointer=this.pointCount=this.plotWidth=this.plotTop=this.plotLeft=this.plotHeight=this.plotBox=this.options=this.numberFormatter=this.margin=this.legend=this.labelCollectors=this.isResizing=this.index=this.container=this.colorCounter=this.clipBox=this.chartWidth=this.chartHeight=this.bounds=this.axisOffset=this.axes=void 0;this.getArgs(b,d,a)}a.prototype.getArgs=function(b,d,a){O(b)||b.nodeName?(this.renderTo=b,this.init(d,a)):this.init(b,
d)};a.prototype.init=function(b,d){var a,c=b.series,e=b.plotOptions||{};f(this,"init",{args:arguments},function(){b.series=null;a=Y(Q,b);var g=a.chart||{};X(a.plotOptions,function(b,d){P(b)&&(b.tooltip=e[d]&&Y(e[d].tooltip)||void 0)});a.tooltip.userOptions=b.chart&&b.chart.forExport&&b.tooltip.userOptions||b.tooltip;a.series=b.series=c;this.userOptions=b;var p=g.events;this.margin=[];this.spacing=[];this.bounds={h:{},v:{}};this.labelCollectors=[];this.callback=d;this.isResizing=0;this.options=a;this.axes=
[];this.series=[];this.time=b.time&&Object.keys(b.time).length?new z(b.time):A.time;this.numberFormatter=g.numberFormatter||D;this.styledMode=g.styledMode;this.hasCartesianSeries=g.showAxes;var h=this;h.index=n.length;n.push(h);A.chartCount++;p&&X(p,function(b,d){R(b)&&G(h,d,b)});h.xAxis=[];h.yAxis=[];h.pointCount=h.colorCounter=h.symbolCounter=0;f(h,"afterInit");h.firstRender()})};a.prototype.initSeries=function(b){var d=this.options.chart;d=b.type||d.type||d.defaultSeriesType;var a=h[d];a||g(17,
!0,this,{missingModuleFor:d});d=new a;"function"===typeof d.init&&d.init(this,b);return d};a.prototype.setSeriesData=function(){this.getSeriesOrderByLinks().forEach(function(b){b.points||b.data||!b.enabledDataSorting||b.setData(b.options.data,!1)})};a.prototype.getSeriesOrderByLinks=function(){return this.series.concat().sort(function(b,d){return b.linkedSeries.length||d.linkedSeries.length?d.linkedSeries.length-b.linkedSeries.length:0})};a.prototype.orderSeries=function(b){var d=this.series;for(b=
b||0;b<d.length;b++)d[b]&&(d[b].index=b,d[b].name=d[b].getName())};a.prototype.isInsidePlot=function(b,d,a){var c=a?d:b;b=a?b:d;c={x:c,y:b,isInsidePlot:0<=c&&c<=this.plotWidth&&0<=b&&b<=this.plotHeight};f(this,"afterIsInsidePlot",c);return c.isInsidePlot};a.prototype.redraw=function(b){f(this,"beforeRedraw");var d=this.hasCartesianSeries?this.axes:this.colorAxis||[],a=this.series,c=this.pointer,g=this.legend,p=this.userOptions.legend,h=this.isDirtyLegend,k=this.isDirtyBox,t=this.renderer,q=t.isHidden(),
D=[];this.setResponsive&&this.setResponsive(!1);e(this.hasRendered?b:!1,this);q&&this.temporaryDisplay();this.layOutTitles();for(b=a.length;b--;){var u=a[b];if(u.options.stacking||u.options.centerInCategory){var n=!0;if(u.isDirty){var l=!0;break}}}if(l)for(b=a.length;b--;)u=a[b],u.options.stacking&&(u.isDirty=!0);a.forEach(function(b){b.isDirty&&("point"===b.options.legendType?("function"===typeof b.updateTotals&&b.updateTotals(),h=!0):p&&(p.labelFormatter||p.labelFormat)&&(h=!0));b.isDirtyData&&
f(b,"updatedData")});h&&g&&g.options.enabled&&(g.render(),this.isDirtyLegend=!1);n&&this.getStacks();d.forEach(function(b){b.updateNames();b.setScale()});this.getMargins();d.forEach(function(b){b.isDirty&&(k=!0)});d.forEach(function(b){var d=b.min+","+b.max;b.extKey!==d&&(b.extKey=d,D.push(function(){f(b,"afterSetExtremes",J(b.eventArgs,b.getExtremes()));delete b.eventArgs}));(k||n)&&b.redraw()});k&&this.drawChartBox();f(this,"predraw");a.forEach(function(b){(k||b.isDirty)&&b.visible&&b.redraw();
b.isDirtyData=!1});c&&c.reset(!0);t.draw();f(this,"redraw");f(this,"render");q&&this.temporaryDisplay(!0);D.forEach(function(b){b.call()})};a.prototype.get=function(b){function d(d){return d.id===b||d.options&&d.options.id===b}var a=this.series,c;var f=p(this.axes,d)||p(this.series,d);for(c=0;!f&&c<a.length;c++)f=p(a[c].points||[],d);return f};a.prototype.getAxes=function(){var b=this,d=this.options,a=d.xAxis=V(d.xAxis||{});d=d.yAxis=V(d.yAxis||{});f(this,"getAxes");a.forEach(function(b,d){b.index=
d;b.isX=!0});d.forEach(function(b,d){b.index=d});a.concat(d).forEach(function(d){new m(b,d)});f(this,"afterGetAxes")};a.prototype.getSelectedPoints=function(){var b=[];this.series.forEach(function(d){b=b.concat(d.getPointsCollection().filter(function(b){return T(b.selectedStaging,b.selected)}))});return b};a.prototype.getSelectedSeries=function(){return this.series.filter(function(b){return b.selected})};a.prototype.setTitle=function(b,d,a){this.applyDescription("title",b);this.applyDescription("subtitle",
d);this.applyDescription("caption",void 0);this.layOutTitles(a)};a.prototype.applyDescription=function(b,d){var a=this,c="title"===b?{color:E.neutralColor80,fontSize:this.options.isStock?"16px":"18px"}:{color:E.neutralColor60};c=this.options[b]=Y(!this.styledMode&&{style:c},this.options[b],d);var f=this[b];f&&d&&(this[b]=f=f.destroy());c&&!f&&(f=this.renderer.text(c.text,0,0,c.useHTML).attr({align:c.align,"class":"highcharts-"+b,zIndex:c.zIndex||4}).add(),f.update=function(d){a[{title:"setTitle",
subtitle:"setSubtitle",caption:"setCaption"}[b]](d)},this.styledMode||f.css(c.style),this[b]=f)};a.prototype.layOutTitles=function(b){var d=[0,0,0],a=this.renderer,c=this.spacingBox;["title","subtitle","caption"].forEach(function(b){var f=this[b],e=this.options[b],g=e.verticalAlign||"top";b="title"===b?-3:"top"===g?d[0]+2:0;if(f){if(!this.styledMode)var p=e.style.fontSize;p=a.fontMetrics(p,f).b;f.css({width:(e.width||c.width+(e.widthAdjust||0))+"px"});var h=Math.round(f.getBBox(e.useHTML).height);
f.align(J({y:"bottom"===g?p:b+p,height:h},e),!1,"spacingBox");e.floating||("top"===g?d[0]=Math.ceil(d[0]+h):"bottom"===g&&(d[2]=Math.ceil(d[2]+h)))}},this);d[0]&&"top"===(this.options.title.verticalAlign||"top")&&(d[0]+=this.options.title.margin);d[2]&&"bottom"===this.options.caption.verticalAlign&&(d[2]+=this.options.caption.margin);var e=!this.titleOffset||this.titleOffset.join(",")!==d.join(",");this.titleOffset=d;f(this,"afterLayOutTitles");!this.isDirtyBox&&e&&(this.isDirtyBox=this.isDirtyLegend=
e,this.hasRendered&&T(b,!0)&&this.isDirtyBox&&this.redraw())};a.prototype.getChartSize=function(){var b=this.options.chart,d=b.width;b=b.height;var a=this.renderTo;L(d)||(this.containerWidth=H(a,"width"));L(b)||(this.containerHeight=H(a,"height"));this.chartWidth=Math.max(0,d||this.containerWidth||600);this.chartHeight=Math.max(0,U(b,this.chartWidth)||(1<this.containerHeight?this.containerHeight:400))};a.prototype.temporaryDisplay=function(b){var a=this.renderTo;if(b)for(;a&&a.style;)a.hcOrigStyle&&
(d(a,a.hcOrigStyle),delete a.hcOrigStyle),a.hcOrigDetached&&(y.body.removeChild(a),a.hcOrigDetached=!1),a=a.parentNode;else for(;a&&a.style;){y.body.contains(a)||a.parentNode||(a.hcOrigDetached=!0,y.body.appendChild(a));if("none"===H(a,"display",!1)||a.hcOricDetached)a.hcOrigStyle={display:a.style.display,height:a.style.height,overflow:a.style.overflow},b={display:"block",overflow:"hidden"},a!==this.renderTo&&(b.height=0),d(a,b),a.offsetWidth||a.style.setProperty("display","block","important");a=
a.parentNode;if(a===y.body)break}};a.prototype.setClassName=function(b){this.container.className="highcharts-container "+(b||"")};a.prototype.getContainer=function(){var a=this.options,c=a.chart;var p=this.renderTo;var h=ea(),k,D;p||(this.renderTo=p=c.renderTo);O(p)&&(this.renderTo=p=y.getElementById(p));p||g(13,!0,this);var u=ba(q(p,"data-highcharts-chart"));t(u)&&n[u]&&n[u].hasRendered&&n[u].destroy();q(p,"data-highcharts-chart",this.index);p.innerHTML="";c.skipClone||p.offsetWidth||this.temporaryDisplay();
this.getChartSize();u=this.chartWidth;var l=this.chartHeight;d(p,{overflow:"hidden"});this.styledMode||(k=J({position:"relative",overflow:"hidden",width:u+"px",height:l+"px",textAlign:"left",lineHeight:"normal",zIndex:0,"-webkit-tap-highlight-color":"rgba(0,0,0,0)",userSelect:"none"},c.style));this.container=p=b("div",{id:h},k,p);this._cursor=p.style.cursor;this.renderer=new (A[c.renderer]||A.Renderer)(p,u,l,null,c.forExport,a.exporting&&a.exporting.allowHTML,this.styledMode);e(void 0,this);this.setClassName(c.className);
if(this.styledMode)for(D in a.defs)this.renderer.definition(a.defs[D]);else this.renderer.setStyle(c.style);this.renderer.chartIndex=this.index;f(this,"afterGetContainer")};a.prototype.getMargins=function(b){var d=this.spacing,a=this.margin,c=this.titleOffset;this.resetMargins();c[0]&&!L(a[0])&&(this.plotTop=Math.max(this.plotTop,c[0]+d[0]));c[2]&&!L(a[2])&&(this.marginBottom=Math.max(this.marginBottom,c[2]+d[2]));this.legend&&this.legend.display&&this.legend.adjustMargins(a,d);f(this,"getMargins");
b||this.getAxisMargins()};a.prototype.getAxisMargins=function(){var b=this,d=b.axisOffset=[0,0,0,0],a=b.colorAxis,c=b.margin,f=function(b){b.forEach(function(b){b.visible&&b.getOffset()})};b.hasCartesianSeries?f(b.axes):a&&a.length&&f(a);da.forEach(function(a,f){L(c[f])||(b[a]+=d[f])});b.setChartSize()};a.prototype.reflow=function(b){var d=this,a=d.options.chart,c=d.renderTo,f=L(a.width)&&L(a.height),e=a.width||H(c,"width");a=a.height||H(c,"height");c=b?b.target:k;delete d.pointer.chartPosition;if(!f&&
!d.isPrinting&&e&&a&&(c===k||c===y)){if(e!==d.containerWidth||a!==d.containerHeight)r.clearTimeout(d.reflowTimeout),d.reflowTimeout=ca(function(){d.container&&d.setSize(void 0,void 0,!1)},b?100:0);d.containerWidth=e;d.containerHeight=a}};a.prototype.setReflow=function(b){var d=this;!1===b||this.unbindReflow?!1===b&&this.unbindReflow&&(this.unbindReflow=this.unbindReflow()):(this.unbindReflow=G(k,"resize",function(b){d.options&&d.reflow(b)}),G(this,"destroy",this.unbindReflow))};a.prototype.setSize=
function(b,a,g){var p=this,h=p.renderer;p.isResizing+=1;e(g,p);g=h.globalAnimation;p.oldChartHeight=p.chartHeight;p.oldChartWidth=p.chartWidth;"undefined"!==typeof b&&(p.options.chart.width=b);"undefined"!==typeof a&&(p.options.chart.height=a);p.getChartSize();p.styledMode||(g?c:d)(p.container,{width:p.chartWidth+"px",height:p.chartHeight+"px"},g);p.setChartSize(!0);h.setSize(p.chartWidth,p.chartHeight,g);p.axes.forEach(function(b){b.isDirty=!0;b.setScale()});p.isDirtyLegend=!0;p.isDirtyBox=!0;p.layOutTitles();
p.getMargins();p.redraw(g);p.oldChartHeight=null;f(p,"resize");ca(function(){p&&f(p,"endResize",null,function(){--p.isResizing})},l(g).duration)};a.prototype.setChartSize=function(b){var d=this.inverted,a=this.renderer,c=this.chartWidth,e=this.chartHeight,g=this.options.chart,p=this.spacing,h=this.clipOffset,k,t,q,D;this.plotLeft=k=Math.round(this.plotLeft);this.plotTop=t=Math.round(this.plotTop);this.plotWidth=q=Math.max(0,Math.round(c-k-this.marginRight));this.plotHeight=D=Math.max(0,Math.round(e-
t-this.marginBottom));this.plotSizeX=d?D:q;this.plotSizeY=d?q:D;this.plotBorderWidth=g.plotBorderWidth||0;this.spacingBox=a.spacingBox={x:p[3],y:p[0],width:c-p[3]-p[1],height:e-p[0]-p[2]};this.plotBox=a.plotBox={x:k,y:t,width:q,height:D};c=2*Math.floor(this.plotBorderWidth/2);d=Math.ceil(Math.max(c,h[3])/2);a=Math.ceil(Math.max(c,h[0])/2);this.clipBox={x:d,y:a,width:Math.floor(this.plotSizeX-Math.max(c,h[1])/2-d),height:Math.max(0,Math.floor(this.plotSizeY-Math.max(c,h[2])/2-a))};b||this.axes.forEach(function(b){b.setAxisSize();
b.setAxisTranslation()});f(this,"afterSetChartSize",{skipAxes:b})};a.prototype.resetMargins=function(){f(this,"resetMargins");var b=this,d=b.options.chart;["margin","spacing"].forEach(function(a){var c=d[a],f=P(c)?c:[c,c,c,c];["Top","Right","Bottom","Left"].forEach(function(c,e){b[a][e]=T(d[a+c],f[e])})});da.forEach(function(d,a){b[d]=T(b.margin[a],b.spacing[a])});b.axisOffset=[0,0,0,0];b.clipOffset=[0,0,0,0]};a.prototype.drawChartBox=function(){var b=this.options.chart,d=this.renderer,a=this.chartWidth,
c=this.chartHeight,e=this.chartBackground,g=this.plotBackground,p=this.plotBorder,h=this.styledMode,k=this.plotBGImage,t=b.backgroundColor,q=b.plotBackgroundColor,D=b.plotBackgroundImage,u,n=this.plotLeft,l=this.plotTop,w=this.plotWidth,H=this.plotHeight,y=this.plotBox,x=this.clipRect,J=this.clipBox,r="animate";e||(this.chartBackground=e=d.rect().addClass("highcharts-background").add(),r="attr");if(h)var G=u=e.strokeWidth();else{G=b.borderWidth||0;u=G+(b.shadow?8:0);t={fill:t||"none"};if(G||e["stroke-width"])t.stroke=
b.borderColor,t["stroke-width"]=G;e.attr(t).shadow(b.shadow)}e[r]({x:u/2,y:u/2,width:a-u-G%2,height:c-u-G%2,r:b.borderRadius});r="animate";g||(r="attr",this.plotBackground=g=d.rect().addClass("highcharts-plot-background").add());g[r](y);h||(g.attr({fill:q||"none"}).shadow(b.plotShadow),D&&(k?(D!==k.attr("href")&&k.attr("href",D),k.animate(y)):this.plotBGImage=d.image(D,n,l,w,H).add()));x?x.animate({width:J.width,height:J.height}):this.clipRect=d.clipRect(J);r="animate";p||(r="attr",this.plotBorder=
p=d.rect().addClass("highcharts-plot-border").attr({zIndex:1}).add());h||p.attr({stroke:b.plotBorderColor,"stroke-width":b.plotBorderWidth||0,fill:"none"});p[r](p.crisp({x:n,y:l,width:w,height:H},-p.strokeWidth()));this.isDirtyBox=!1;f(this,"afterDrawChartBox")};a.prototype.propFromSeries=function(){var b=this,d=b.options.chart,a,c=b.options.series,f,e;["inverted","angular","polar"].forEach(function(g){a=h[d.type||d.defaultSeriesType];e=d[g]||a&&a.prototype[g];for(f=c&&c.length;!e&&f--;)(a=h[c[f].type])&&
a.prototype[g]&&(e=!0);b[g]=e})};a.prototype.linkSeries=function(){var b=this,d=b.series;d.forEach(function(b){b.linkedSeries.length=0});d.forEach(function(d){var a=d.options.linkedTo;O(a)&&(a=":previous"===a?b.series[d.index-1]:b.get(a))&&a.linkedParent!==d&&(a.linkedSeries.push(d),d.linkedParent=a,a.enabledDataSorting&&d.setDataSortingOptions(),d.visible=T(d.options.visible,a.options.visible,d.visible))});f(this,"afterLinkSeries")};a.prototype.renderSeries=function(){this.series.forEach(function(b){b.translate();
b.render()})};a.prototype.renderLabels=function(){var b=this,d=b.options.labels;d.items&&d.items.forEach(function(a){var c=J(d.style,a.style),f=ba(c.left)+b.plotLeft,e=ba(c.top)+b.plotTop+12;delete c.left;delete c.top;b.renderer.text(a.html,f,e).attr({zIndex:2}).css(c).add()})};a.prototype.render=function(){var b=this.axes,d=this.colorAxis,a=this.renderer,c=this.options,f=0,e=function(b){b.forEach(function(b){b.visible&&b.render()})};this.setTitle();this.legend=new C(this,c.legend);this.getStacks&&
this.getStacks();this.getMargins(!0);this.setChartSize();c=this.plotWidth;b.some(function(b){if(b.horiz&&b.visible&&b.options.labels.enabled&&b.series.length)return f=21,!0});var g=this.plotHeight=Math.max(this.plotHeight-f,0);b.forEach(function(b){b.setScale()});this.getAxisMargins();var p=1.1<c/this.plotWidth;var h=1.05<g/this.plotHeight;if(p||h)b.forEach(function(b){(b.horiz&&p||!b.horiz&&h)&&b.setTickInterval(!0)}),this.getMargins();this.drawChartBox();this.hasCartesianSeries?e(b):d&&d.length&&
e(d);this.seriesGroup||(this.seriesGroup=a.g("series-group").attr({zIndex:3}).add());this.renderSeries();this.renderLabels();this.addCredits();this.setResponsive&&this.setResponsive();this.hasRendered=!0};a.prototype.addCredits=function(b){var d=this,a=Y(!0,this.options.credits,b);a.enabled&&!this.credits&&(this.credits=this.renderer.text(a.text+(this.mapCredits||""),0,0).addClass("highcharts-credits").on("click",function(){a.href&&(k.location.href=a.href)}).attr({align:a.position.align,zIndex:8}),
d.styledMode||this.credits.css(a.style),this.credits.add().align(a.position),this.credits.update=function(b){d.credits=d.credits.destroy();d.addCredits(b)})};a.prototype.destroy=function(){var b=this,d=b.axes,a=b.series,c=b.container,e,g=c&&c.parentNode;f(b,"destroy");b.renderer.forExport?K(n,b):n[b.index]=void 0;A.chartCount--;b.renderTo.removeAttribute("data-highcharts-chart");Z(b);for(e=d.length;e--;)d[e]=d[e].destroy();this.scroller&&this.scroller.destroy&&this.scroller.destroy();for(e=a.length;e--;)a[e]=
a[e].destroy();"title subtitle chartBackground plotBackground plotBGImage plotBorder seriesGroup clipRect credits pointer rangeSelector legend resetZoomButton tooltip renderer".split(" ").forEach(function(d){var a=b[d];a&&a.destroy&&(b[d]=a.destroy())});c&&(c.innerHTML="",Z(c),g&&M(c));X(b,function(d,a){delete b[a]})};a.prototype.firstRender=function(){var b=this,d=b.options;if(!b.isReadyToRender||b.isReadyToRender()){b.getContainer();b.resetMargins();b.setChartSize();b.propFromSeries();b.getAxes();
(u(d.series)?d.series:[]).forEach(function(d){b.initSeries(d)});b.linkSeries();b.setSeriesData();f(b,"beforeRender");I&&(b.pointer=A.hasTouch||!k.PointerEvent&&!k.MSPointerEvent?new I(b,d):new F(b,d));b.render();b.pointer.getChartPosition();if(!b.renderer.imgCount&&!b.hasLoaded)b.onload();b.temporaryDisplay(!0)}};a.prototype.onload=function(){this.callbacks.concat([this.callback]).forEach(function(b){b&&"undefined"!==typeof this.index&&b.apply(this,[this])},this);f(this,"load");f(this,"render");L(this.index)&&
this.setReflow(this.options.chart.reflow);this.hasLoaded=!0};a.prototype.addSeries=function(b,d,a){var c,e=this;b&&(d=T(d,!0),f(e,"addSeries",{options:b},function(){c=e.initSeries(b);e.isDirtyLegend=!0;e.linkSeries();c.enabledDataSorting&&c.setData(b.data,!1);f(e,"afterAddSeries",{series:c});d&&e.redraw(a)}));return c};a.prototype.addAxis=function(b,d,a,c){return this.createAxis(d?"xAxis":"yAxis",{axis:b,redraw:a,animation:c})};a.prototype.addColorAxis=function(b,d,a){return this.createAxis("colorAxis",
{axis:b,redraw:d,animation:a})};a.prototype.createAxis=function(b,d){var a=this.options,c="colorAxis"===b,e=d.redraw,f=d.animation;d=Y(d.axis,{index:this[b].length,isX:"xAxis"===b});var g=c?new A.ColorAxis(this,d):new m(this,d);a[b]=V(a[b]||{});a[b].push(d);c&&(this.isDirtyLegend=!0,this.axes.forEach(function(b){b.series=[]}),this.series.forEach(function(b){b.bindAxes();b.isDirtyData=!0}));T(e,!0)&&this.redraw(f);return g};a.prototype.showLoading=function(a){var e=this,f=e.options,g=e.loadingDiv,
p=e.loadingSpan,h=f.loading,k=function(){g&&d(g,{left:e.plotLeft+"px",top:e.plotTop+"px",width:e.plotWidth+"px",height:e.plotHeight+"px"})};g||(e.loadingDiv=g=b("div",{className:"highcharts-loading highcharts-loading-hidden"},null,e.container));p||(e.loadingSpan=p=b("span",{className:"highcharts-loading-inner"},null,g),G(e,"redraw",k));g.className="highcharts-loading";v.setElementHTML(p,T(a,f.lang.loading,""));e.styledMode||(d(g,J(h.style,{zIndex:10})),d(p,h.labelStyle),e.loadingShown||(d(g,{opacity:0,
display:""}),c(g,{opacity:h.style.opacity||.5},{duration:h.showDuration||0})));e.loadingShown=!0;k()};a.prototype.hideLoading=function(){var b=this.options,a=this.loadingDiv;a&&(a.className="highcharts-loading highcharts-loading-hidden",this.styledMode||c(a,{opacity:0},{duration:b.loading.hideDuration||100,complete:function(){d(a,{display:"none"})}}));this.loadingShown=!1};a.prototype.update=function(b,d,a,c){var e=this,g={credits:"addCredits",title:"setTitle",subtitle:"setSubtitle",caption:"setCaption"},
p,h,k,q=b.isResponsiveOptions,D=[];f(e,"update",{options:b});q||e.setResponsive(!1,!0);b=x(b,e.options);e.userOptions=Y(e.userOptions,b);if(p=b.chart){Y(!0,e.options.chart,p);"className"in p&&e.setClassName(p.className);"reflow"in p&&e.setReflow(p.reflow);if("inverted"in p||"polar"in p||"type"in p){e.propFromSeries();var u=!0}"alignTicks"in p&&(u=!0);X(p,function(b,d){-1!==e.propsRequireUpdateSeries.indexOf("chart."+d)&&(h=!0);-1!==e.propsRequireDirtyBox.indexOf(d)&&(e.isDirtyBox=!0);-1!==e.propsRequireReflow.indexOf(d)&&
(q?e.isDirtyBox=!0:k=!0)});!e.styledMode&&"style"in p&&e.renderer.setStyle(p.style)}!e.styledMode&&b.colors&&(this.options.colors=b.colors);b.time&&(this.time===w&&(this.time=new z(b.time)),Y(!0,e.options.time,b.time));X(b,function(d,a){if(e[a]&&"function"===typeof e[a].update)e[a].update(d,!1);else if("function"===typeof e[g[a]])e[g[a]](d);else"color"!==a&&-1===e.collectionsWithUpdate.indexOf(a)&&Y(!0,e.options[a],b[a]);"chart"!==a&&-1!==e.propsRequireUpdateSeries.indexOf(a)&&(h=!0)});this.collectionsWithUpdate.forEach(function(d){if(b[d]){if("series"===
d){var c=[];e[d].forEach(function(b,d){b.options.isInternal||c.push(T(b.options.index,d))})}V(b[d]).forEach(function(b,f){var g=L(b.id),p;g&&(p=e.get(b.id));!p&&e[d]&&(p=e[d][c?c[f]:f])&&g&&L(p.options.id)&&(p=void 0);p&&p.coll===d&&(p.update(b,!1),a&&(p.touched=!0));!p&&a&&e.collectionsWithInit[d]&&(e.collectionsWithInit[d][0].apply(e,[b].concat(e.collectionsWithInit[d][1]||[]).concat([!1])).touched=!0)});a&&e[d].forEach(function(b){b.touched||b.options.isInternal?delete b.touched:D.push(b)})}});
D.forEach(function(b){b.chart&&b.remove(!1)});u&&e.axes.forEach(function(b){b.update({},!1)});h&&e.getSeriesOrderByLinks().forEach(function(b){b.chart&&b.update({},!1)},this);u=p&&p.width;p=p&&p.height;O(p)&&(p=U(p,u||e.chartWidth));k||t(u)&&u!==e.chartWidth||t(p)&&p!==e.chartHeight?e.setSize(u,p,c):T(d,!0)&&e.redraw(c);f(e,"afterUpdate",{options:b,redraw:d,animation:c})};a.prototype.setSubtitle=function(b,d){this.applyDescription("subtitle",b);this.layOutTitles(d)};a.prototype.setCaption=function(b,
d){this.applyDescription("caption",b);this.layOutTitles(d)};a.prototype.showResetZoom=function(){function b(){d.zoomOut()}var d=this,a=Q.lang,c=d.options.chart.resetZoomButton,e=c.theme,g=e.states,p="chart"===c.relativeTo||"spaceBox"===c.relativeTo?null:this.scrollablePlotBox||"plotBox";f(this,"beforeShowResetZoom",null,function(){d.resetZoomButton=d.renderer.button(a.resetZoom,null,null,b,e,g&&g.hover).attr({align:c.position.align,title:a.resetZoomTitle}).addClass("highcharts-reset-zoom").add().align(c.position,
!1,p)});f(this,"afterShowResetZoom")};a.prototype.zoomOut=function(){f(this,"selection",{resetSelection:!0},this.zoom)};a.prototype.zoom=function(b){var d=this,a,c=d.pointer,e=!1,f=d.inverted?c.mouseDownX:c.mouseDownY;!b||b.resetSelection?(d.axes.forEach(function(b){a=b.zoom()}),c.initiated=!1):b.xAxis.concat(b.yAxis).forEach(function(b){var g=b.axis,p=d.inverted?g.left:g.top,h=d.inverted?p+g.width:p+g.height,k=g.isXAxis,t=!1;if(!k&&f>=p&&f<=h||k||!L(f))t=!0;c[k?"zoomX":"zoomY"]&&t&&(a=g.zoom(b.min,
b.max),g.displayBtn&&(e=!0))});var g=d.resetZoomButton;e&&!g?d.showResetZoom():!e&&P(g)&&(d.resetZoomButton=g.destroy());a&&d.redraw(T(d.options.chart.animation,b&&b.animation,100>d.pointCount))};a.prototype.pan=function(b,a){var c=this,e=c.hoverPoints,g=c.options.chart,p=c.options.mapNavigation&&c.options.mapNavigation.enabled,h;a="object"===typeof a?a:{enabled:a,type:"x"};g&&g.panning&&(g.panning=a);var k=a.type;f(this,"pan",{originalEvent:b},function(){e&&e.forEach(function(b){b.setState()});var a=
[1];"xy"===k?a=[1,0]:"y"===k&&(a=[0]);a.forEach(function(d){var a=c[d?"xAxis":"yAxis"][0],e=a.horiz,f=b[e?"chartX":"chartY"];e=e?"mouseDownX":"mouseDownY";var g=c[e],q=(a.pointRange||0)/2,D=a.reversed&&!c.inverted||!a.reversed&&c.inverted?-1:1,u=a.getExtremes(),n=a.toValue(g-f,!0)+q*D;D=a.toValue(g+a.len-f,!0)-q*D;var l=D<n;g=l?D:n;n=l?n:D;D=a.hasVerticalPanning();var w=a.panningState;!D||d||w&&!w.isDirty||a.series.forEach(function(b){var d=b.getProcessedData(!0);d=b.getExtremes(d.yData,!0);w||(w=
{startMin:Number.MAX_VALUE,startMax:-Number.MAX_VALUE});t(d.dataMin)&&t(d.dataMax)&&(w.startMin=Math.min(T(b.options.threshold,Infinity),d.dataMin,w.startMin),w.startMax=Math.max(T(b.options.threshold,-Infinity),d.dataMax,w.startMax))});d=Math.min(T(null===w||void 0===w?void 0:w.startMin,u.dataMin),q?u.min:a.toValue(a.toPixels(u.min)-a.minPixelPadding));q=Math.max(T(null===w||void 0===w?void 0:w.startMax,u.dataMax),q?u.max:a.toValue(a.toPixels(u.max)+a.minPixelPadding));a.panningState=w;a.isOrdinal||
(D=d-g,0<D&&(n+=D,g=d),D=n-q,0<D&&(n=q,g-=D),a.series.length&&g!==u.min&&n!==u.max&&g>=d&&n<=q&&(a.setExtremes(g,n,!1,!1,{trigger:"pan"}),c.resetZoomButton||p||g===d||n===q||!k.match("y")||(c.showResetZoom(),a.displayBtn=!1),h=!0),c[e]=f)});h&&c.redraw(!1);d(c.container,{cursor:"move"})})};return a}();J(aa.prototype,{callbacks:[],collectionsWithInit:{xAxis:[aa.prototype.addAxis,[!0]],yAxis:[aa.prototype.addAxis,[!1]],series:[aa.prototype.addSeries]},collectionsWithUpdate:["xAxis","yAxis","zAxis",
"series"],propsRequireDirtyBox:"backgroundColor borderColor borderWidth borderRadius plotBackgroundColor plotBackgroundImage plotBorderColor plotBorderWidth plotShadow shadow".split(" "),propsRequireReflow:"margin marginTop marginRight marginBottom marginLeft spacing spacingTop spacingRight spacingBottom spacingLeft".split(" "),propsRequireUpdateSeries:"chart.inverted chart.polar chart.ignoreHiddenSeries chart.type colors plotOptions time tooltip".split(" ")});A.chart=function(b,d,a){return new aa(b,
d,a)};A.Chart=aa;"";return aa});S(a,"Mixins/LegendSymbol.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var A=m.merge,C=m.pick;return a.LegendSymbolMixin={drawRectangle:function(a,m){var E=a.symbolHeight,I=a.options.squareSymbol;m.legendSymbol=this.chart.renderer.rect(I?(a.symbolWidth-E)/2:0,a.baseline-E+1,I?E:a.symbolWidth,E,C(a.options.symbolRadius,E/2)).addClass("highcharts-point").attr({zIndex:3}).add(m.legendGroup)},drawLineMarker:function(a){var m=this.options,E=m.marker,I=
a.symbolWidth,B=a.symbolHeight,z=B/2,r=this.chart.renderer,v=this.legendGroup;a=a.baseline-Math.round(.3*a.fontMetrics.b);var c={};this.chart.styledMode||(c={"stroke-width":m.lineWidth||0},m.dashStyle&&(c.dashstyle=m.dashStyle));this.legendLine=r.path([["M",0,a],["L",I,a]]).addClass("highcharts-graph").attr(c).add(v);E&&!1!==E.enabled&&I&&(m=Math.min(C(E.radius,z),z),0===this.symbol.indexOf("url")&&(E=A(E,{width:B,height:B}),m=0),this.legendSymbol=E=r.symbol(this.symbol,I/2-m,a-m,2*m,2*m,E).addClass("highcharts-point").add(v),
E.isMarker=!0)}}});S(a,"Core/Series/Series.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Series/Point.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I,B){var z=a.animObject,r=a.setAnimation,v=m.hasTouch,c=m.svg,l=m.win,e=C.defaultOptions,n=E.seriesTypes,y=B.addEvent,k=B.arrayMax,Q=B.arrayMin,w=B.clamp,h=B.cleanRecursively,
G=B.correctFloat,q=B.defined,x=B.erase,b=B.error,d=B.extend,L=B.find,M=B.fireEvent,K=B.getNestedProperty,g=B.isArray,J=B.isFunction,p=B.isNumber,f=B.isString,H=B.merge,u=B.objectEach,R=B.pick,t=B.removeEvent,P=B.splat,O=B.syncTimeout;a=function(){function a(){this.zones=this.yAxis=this.xAxis=this.userOptions=this.tooltipOptions=this.processedYData=this.processedXData=this.points=this.options=this.linkedSeries=this.index=this.eventsToUnbind=this.eventOptions=this.data=this.chart=this._i=void 0}a.prototype.init=
function(b,a){M(this,"init",{options:a});var c=this,e=b.series,f;this.eventOptions=this.eventOptions||{};this.eventsToUnbind=[];c.chart=b;c.options=a=c.setOptions(a);c.linkedSeries=[];c.bindAxes();d(c,{name:a.name,state:"",visible:!1!==a.visible,selected:!0===a.selected});var g=a.events;u(g,function(b,a){J(b)&&c.eventOptions[a]!==b&&(J(c.eventOptions[a])&&t(c,a,c.eventOptions[a]),c.eventOptions[a]=b,y(c,a,b))});if(g&&g.click||a.point&&a.point.events&&a.point.events.click||a.allowPointSelect)b.runTrackerClick=
!0;c.getColor();c.getSymbol();c.parallelArrays.forEach(function(b){c[b+"Data"]||(c[b+"Data"]=[])});c.isCartesian&&(b.hasCartesianSeries=!0);e.length&&(f=e[e.length-1]);c._i=R(f&&f._i,-1)+1;c.opacity=c.options.opacity;b.orderSeries(this.insert(e));a.dataSorting&&a.dataSorting.enabled?c.setDataSortingOptions():c.points||c.data||c.setData(a.data,!1);M(this,"afterInit")};a.prototype.is=function(b){return n[b]&&this instanceof n[b]};a.prototype.insert=function(b){var a=this.options.index,d;if(p(a)){for(d=
b.length;d--;)if(a>=R(b[d].options.index,b[d]._i)){b.splice(d+1,0,this);break}-1===d&&b.unshift(this);d+=1}else b.push(this);return R(d,b.length-1)};a.prototype.bindAxes=function(){var a=this,d=a.options,c=a.chart,e;M(this,"bindAxes",null,function(){(a.axisTypes||[]).forEach(function(f){c[f].forEach(function(b){e=b.options;if(d[f]===e.index||"undefined"!==typeof d[f]&&d[f]===e.id||"undefined"===typeof d[f]&&0===e.index)a.insert(b.series),a[f]=b,b.isDirty=!0});a[f]||a.optionalAxis===f||b(18,!0,c)})});
M(this,"afterBindAxes")};a.prototype.updateParallelArrays=function(b,a){var d=b.series,c=arguments,e=p(a)?function(c){var e="y"===c&&d.toYData?d.toYData(b):b[c];d[c+"Data"][a]=e}:function(b){Array.prototype[a].apply(d[b+"Data"],Array.prototype.slice.call(c,2))};d.parallelArrays.forEach(e)};a.prototype.hasData=function(){return this.visible&&"undefined"!==typeof this.dataMax&&"undefined"!==typeof this.dataMin||this.visible&&this.yData&&0<this.yData.length};a.prototype.autoIncrement=function(){var b=
this.options,a=this.xIncrement,d,c=b.pointIntervalUnit,e=this.chart.time;a=R(a,b.pointStart,0);this.pointInterval=d=R(this.pointInterval,b.pointInterval,1);c&&(b=new e.Date(a),"day"===c?e.set("Date",b,e.get("Date",b)+d):"month"===c?e.set("Month",b,e.get("Month",b)+d):"year"===c&&e.set("FullYear",b,e.get("FullYear",b)+d),d=b.getTime()-a);this.xIncrement=a+d;return a};a.prototype.setDataSortingOptions=function(){var b=this.options;d(this,{requireSorting:!1,sorted:!1,enabledDataSorting:!0,allowDG:!1});
q(b.pointRange)||(b.pointRange=1)};a.prototype.setOptions=function(b){var a=this.chart,d=a.options,c=d.plotOptions,f=a.userOptions||{};b=H(b);a=a.styledMode;var g={plotOptions:c,userOptions:b};M(this,"setOptions",g);var p=g.plotOptions[this.type],h=f.plotOptions||{};this.userOptions=g.userOptions;f=H(p,c.series,f.plotOptions&&f.plotOptions[this.type],b);this.tooltipOptions=H(e.tooltip,e.plotOptions.series&&e.plotOptions.series.tooltip,e.plotOptions[this.type].tooltip,d.tooltip.userOptions,c.series&&
c.series.tooltip,c[this.type].tooltip,b.tooltip);this.stickyTracking=R(b.stickyTracking,h[this.type]&&h[this.type].stickyTracking,h.series&&h.series.stickyTracking,this.tooltipOptions.shared&&!this.noSharedTooltip?!0:f.stickyTracking);null===p.marker&&delete f.marker;this.zoneAxis=f.zoneAxis;d=this.zones=(f.zones||[]).slice();!f.negativeColor&&!f.negativeFillColor||f.zones||(c={value:f[this.zoneAxis+"Threshold"]||f.threshold||0,className:"highcharts-negative"},a||(c.color=f.negativeColor,c.fillColor=
f.negativeFillColor),d.push(c));d.length&&q(d[d.length-1].value)&&d.push(a?{}:{color:this.color,fillColor:this.fillColor});M(this,"afterSetOptions",{options:f});return f};a.prototype.getName=function(){return R(this.options.name,"Series "+(this.index+1))};a.prototype.getCyclic=function(b,a,d){var c=this.chart,e=this.userOptions,f=b+"Index",g=b+"Counter",p=d?d.length:R(c.options.chart[b+"Count"],c[b+"Count"]);if(!a){var h=R(e[f],e["_"+f]);q(h)||(c.series.length||(c[g]=0),e["_"+f]=h=c[g]%p,c[g]+=1);
d&&(a=d[h])}"undefined"!==typeof h&&(this[f]=h);this[b]=a};a.prototype.getColor=function(){this.chart.styledMode?this.getCyclic("color"):this.options.colorByPoint?this.options.color=null:this.getCyclic("color",this.options.color||e.plotOptions[this.type].color,this.chart.options.colors)};a.prototype.getPointsCollection=function(){return(this.hasGroupedData?this.points:this.data)||[]};a.prototype.getSymbol=function(){this.getCyclic("symbol",this.options.marker.symbol,this.chart.options.symbols)};a.prototype.findPointIndex=
function(b,a){var d=b.id,c=b.x,e=this.points,f,g=this.options.dataSorting;if(d)var h=this.chart.get(d);else if(this.linkedParent||this.enabledDataSorting){var k=g&&g.matchByName?"name":"index";h=L(e,function(a){return!a.touched&&a[k]===b[k]});if(!h)return}if(h){var q=h&&h.index;"undefined"!==typeof q&&(f=!0)}"undefined"===typeof q&&p(c)&&(q=this.xData.indexOf(c,a));-1!==q&&"undefined"!==typeof q&&this.cropped&&(q=q>=this.cropStart?q-this.cropStart:q);!f&&e[q]&&e[q].touched&&(q=void 0);return q};a.prototype.updateData=
function(b,a){var d=this.options,c=d.dataSorting,e=this.points,f=[],g,h,t,u=this.requireSorting,n=b.length===e.length,D=!0;this.xIncrement=null;b.forEach(function(b,a){var h=q(b)&&this.pointClass.prototype.optionsToObject.call({series:this},b)||{};var k=h.x;if(h.id||p(k)){if(k=this.findPointIndex(h,t),-1===k||"undefined"===typeof k?f.push(b):e[k]&&b!==d.data[k]?(e[k].update(b,!1,null,!1),e[k].touched=!0,u&&(t=k+1)):e[k]&&(e[k].touched=!0),!n||a!==k||c&&c.enabled||this.hasDerivedData)g=!0}else f.push(b)},
this);if(g)for(b=e.length;b--;)(h=e[b])&&!h.touched&&h.remove&&h.remove(!1,a);else!n||c&&c.enabled?D=!1:(b.forEach(function(b,a){e[a].update&&b!==e[a].y&&e[a].update(b,!1,null,!1)}),f.length=0);e.forEach(function(b){b&&(b.touched=!1)});if(!D)return!1;f.forEach(function(b){this.addPoint(b,!1,null,null,!1)},this);null===this.xIncrement&&this.xData&&this.xData.length&&(this.xIncrement=k(this.xData),this.autoIncrement());return!0};a.prototype.setData=function(a,d,c,e){var h=this,k=h.points,q=k&&k.length||
0,t,u=h.options,n=h.chart,D=u.dataSorting,l=null,w=h.xAxis;l=u.turboThreshold;var H=this.xData,y=this.yData,x=(t=h.pointArrayMap)&&t.length,r=u.keys,J=0,G=1,v;a=a||[];t=a.length;d=R(d,!0);D&&D.enabled&&(a=this.sortData(a));!1!==e&&t&&q&&!h.cropped&&!h.hasGroupedData&&h.visible&&!h.isSeriesBoosting&&(v=this.updateData(a,c));if(!v){h.xIncrement=null;h.colorCounter=0;this.parallelArrays.forEach(function(b){h[b+"Data"].length=0});if(l&&t>l)if(l=h.getFirstValidPoint(a),p(l))for(c=0;c<t;c++)H[c]=this.autoIncrement(),
y[c]=a[c];else if(g(l))if(x)for(c=0;c<t;c++)e=a[c],H[c]=e[0],y[c]=e.slice(1,x+1);else for(r&&(J=r.indexOf("x"),G=r.indexOf("y"),J=0<=J?J:0,G=0<=G?G:1),c=0;c<t;c++)e=a[c],H[c]=e[J],y[c]=e[G];else b(12,!1,n);else for(c=0;c<t;c++)"undefined"!==typeof a[c]&&(e={series:h},h.pointClass.prototype.applyOptions.apply(e,[a[c]]),h.updateParallelArrays(e,c));y&&f(y[0])&&b(14,!0,n);h.data=[];h.options.data=h.userOptions.data=a;for(c=q;c--;)k[c]&&k[c].destroy&&k[c].destroy();w&&(w.minRange=w.userMinRange);h.isDirty=
n.isDirtyBox=!0;h.isDirtyData=!!k;c=!1}"point"===u.legendType&&(this.processData(),this.generatePoints());d&&n.redraw(c)};a.prototype.sortData=function(b){var a=this,d=a.options.dataSorting.sortKey||"y",c=function(b,a){return q(a)&&b.pointClass.prototype.optionsToObject.call({series:b},a)||{}};b.forEach(function(d,e){b[e]=c(a,d);b[e].index=e},this);b.concat().sort(function(b,a){b=K(d,b);a=K(d,a);return a<b?-1:a>b?1:0}).forEach(function(b,a){b.x=a},this);a.linkedSeries&&a.linkedSeries.forEach(function(a){var d=
a.options,e=d.data;d.dataSorting&&d.dataSorting.enabled||!e||(e.forEach(function(d,f){e[f]=c(a,d);b[f]&&(e[f].x=b[f].x,e[f].index=f)}),a.setData(e,!1))});return b};a.prototype.getProcessedData=function(a){var d=this.xData,c=this.yData,e=d.length;var f=0;var g=this.xAxis,p=this.options;var h=p.cropThreshold;var k=a||this.getExtremesFromAll||p.getExtremesFromAll,q=this.isCartesian;a=g&&g.val2lin;p=!(!g||!g.logarithmic);var t=this.requireSorting;if(g){g=g.getExtremes();var u=g.min;var n=g.max}if(q&&
this.sorted&&!k&&(!h||e>h||this.forceCrop))if(d[e-1]<u||d[0]>n)d=[],c=[];else if(this.yData&&(d[0]<u||d[e-1]>n)){f=this.cropData(this.xData,this.yData,u,n);d=f.xData;c=f.yData;f=f.start;var D=!0}for(h=d.length||1;--h;)if(e=p?a(d[h])-a(d[h-1]):d[h]-d[h-1],0<e&&("undefined"===typeof l||e<l))var l=e;else 0>e&&t&&(b(15,!1,this.chart),t=!1);return{xData:d,yData:c,cropped:D,cropStart:f,closestPointRange:l}};a.prototype.processData=function(b){var a=this.xAxis;if(this.isCartesian&&!this.isDirty&&!a.isDirty&&
!this.yAxis.isDirty&&!b)return!1;b=this.getProcessedData();this.cropped=b.cropped;this.cropStart=b.cropStart;this.processedXData=b.xData;this.processedYData=b.yData;this.closestPointRange=this.basePointRange=b.closestPointRange};a.prototype.cropData=function(b,a,d,c,e){var f=b.length,g=0,p=f,h;e=R(e,this.cropShoulder);for(h=0;h<f;h++)if(b[h]>=d){g=Math.max(0,h-e);break}for(d=h;d<f;d++)if(b[d]>c){p=d+e;break}return{xData:b.slice(g,p),yData:a.slice(g,p),start:g,end:p}};a.prototype.generatePoints=function(){var b=
this.options,a=b.data,c=this.data,e,f=this.processedXData,g=this.processedYData,p=this.pointClass,h=f.length,k=this.cropStart||0,q=this.hasGroupedData;b=b.keys;var t=[],u;c||q||(c=[],c.length=a.length,c=this.data=c);b&&q&&(this.options.keys=!1);for(u=0;u<h;u++){var n=k+u;if(q){var l=(new p).init(this,[f[u]].concat(P(g[u])));l.dataGroup=this.groupMap[u];l.dataGroup.options&&(l.options=l.dataGroup.options,d(l,l.dataGroup.options),delete l.dataLabels)}else(l=c[n])||"undefined"===typeof a[n]||(c[n]=l=
(new p).init(this,a[n],f[u]));l&&(l.index=n,t[u]=l)}this.options.keys=b;if(c&&(h!==(e=c.length)||q))for(u=0;u<e;u++)u!==k||q||(u+=h),c[u]&&(c[u].destroyElements(),c[u].plotX=void 0);this.data=c;this.points=t;M(this,"afterGeneratePoints")};a.prototype.getXExtremes=function(b){return{min:Q(b),max:k(b)}};a.prototype.getExtremes=function(b,a){var d=this.xAxis,c=this.yAxis,e=this.processedXData||this.xData,f=[],h=0,q=0;var t=0;var u=this.requireSorting?this.cropShoulder:0,n=c?c.positiveValuesOnly:!1,l;
b=b||this.stackedYData||this.processedYData||[];c=b.length;d&&(t=d.getExtremes(),q=t.min,t=t.max);for(l=0;l<c;l++){var w=e[l];var D=b[l];var H=(p(D)||g(D))&&(D.length||0<D||!n);w=a||this.getExtremesFromAll||this.options.getExtremesFromAll||this.cropped||!d||(e[l+u]||w)>=q&&(e[l-u]||w)<=t;if(H&&w)if(H=D.length)for(;H--;)p(D[H])&&(f[h++]=D[H]);else f[h++]=D}b={dataMin:Q(f),dataMax:k(f)};M(this,"afterGetExtremes",{dataExtremes:b});return b};a.prototype.applyExtremes=function(){var b=this.getExtremes();
this.dataMin=b.dataMin;this.dataMax=b.dataMax;return b};a.prototype.getFirstValidPoint=function(b){for(var a=null,d=b.length,c=0;null===a&&c<d;)a=b[c],c++;return a};a.prototype.translate=function(){this.processedXData||this.processData();this.generatePoints();var b=this.options,a=b.stacking,d=this.xAxis,c=d.categories,e=this.enabledDataSorting,f=this.yAxis,h=this.points,k=h.length,t=!!this.modifyValue,u,n=this.pointPlacementToXValue(),l=!!n,H=b.threshold,y=b.startFromThreshold?H:0,x,r=this.zoneAxis||
"y",J=Number.MAX_VALUE;for(u=0;u<k;u++){var v=h[u],z=v.x,K=v.y,m=v.low,L=a&&f.stacking&&f.stacking.stacks[(this.negStacks&&K<(y?0:H)?"-":"")+this.stackKey];if(f.positiveValuesOnly&&!f.validatePositiveValue(K)||d.positiveValuesOnly&&!d.validatePositiveValue(z))v.isNull=!0;v.plotX=x=G(w(d.translate(z,0,0,0,1,n,"flags"===this.type),-1E5,1E5));if(a&&this.visible&&L&&L[z]){var Q=this.getStackIndicator(Q,z,this.index);if(!v.isNull){var B=L[z];var P=B.points[Q.key]}}g(P)&&(m=P[0],K=P[1],m===y&&Q.key===L[z].base&&
(m=R(p(H)&&H,f.min)),f.positiveValuesOnly&&0>=m&&(m=null),v.total=v.stackTotal=B.total,v.percentage=B.total&&v.y/B.total*100,v.stackY=K,this.irregularWidths||B.setOffset(this.pointXOffset||0,this.barW||0));v.yBottom=q(m)?w(f.translate(m,0,1,0,1),-1E5,1E5):null;t&&(K=this.modifyValue(K,v));v.plotY=void 0;p(K)&&(K=f.translate(K,!1,!0,!1,!0),"undefined"!==typeof K&&(v.plotY=w(K,-1E5,1E5)));v.isInside=this.isPointInside(v);v.clientX=l?G(d.translate(z,0,0,0,1,n)):x;v.negative=v[r]<(b[r+"Threshold"]||H||
0);v.category=c&&"undefined"!==typeof c[v.x]?c[v.x]:v.x;if(!v.isNull&&!1!==v.visible){"undefined"!==typeof I&&(J=Math.min(J,Math.abs(x-I)));var I=x}v.zone=this.zones.length&&v.getZone();!v.graphic&&this.group&&e&&(v.isNew=!0)}this.closestPointRangePx=J;M(this,"afterTranslate")};a.prototype.getValidPoints=function(b,a,d){var c=this.chart;return(b||this.points||[]).filter(function(b){return a&&!c.isInsidePlot(b.plotX,b.plotY,c.inverted)?!1:!1!==b.visible&&(d||!b.isNull)})};a.prototype.getClipBox=function(b,
a){var d=this.options,c=this.chart,e=c.inverted,f=this.xAxis,g=f&&this.yAxis,p=c.options.chart.scrollablePlotArea||{};b&&!1===d.clip&&g?b=e?{y:-c.chartWidth+g.len+g.pos,height:c.chartWidth,width:c.chartHeight,x:-c.chartHeight+f.len+f.pos}:{y:-g.pos,height:c.chartHeight,width:c.chartWidth,x:-f.pos}:(b=this.clipBox||c.clipBox,a&&(b.width=c.plotSizeX,b.x=(c.scrollablePixelsX||0)*(p.scrollPositionX||0)));return a?{width:b.width,x:b.x}:b};a.prototype.setClip=function(b){var a=this.chart,d=this.options,
c=a.renderer,e=a.inverted,f=this.clipBox,g=this.getClipBox(b),p=this.sharedClipKey||["_sharedClip",b&&b.duration,b&&b.easing,b&&b.defer,g.height,d.xAxis,d.yAxis].join(),h=a[p],k=a[p+"m"];b&&(g.width=0,e&&(g.x=a.plotHeight+(!1!==d.clip?0:a.plotTop)));h?a.hasLoaded||h.attr(g):(b&&(a[p+"m"]=k=c.clipRect(e?a.plotSizeX+99:-99,e?-a.plotLeft:-a.plotTop,99,e?a.chartWidth:a.chartHeight)),a[p]=h=c.clipRect(g),h.count={length:0});b&&!h.count[this.index]&&(h.count[this.index]=!0,h.count.length+=1);if(!1!==d.clip||
b)this.group.clip(b||f?h:a.clipRect),this.markerGroup.clip(k),this.sharedClipKey=p;b||(h.count[this.index]&&(delete h.count[this.index],--h.count.length),0===h.count.length&&p&&a[p]&&(f||(a[p]=a[p].destroy()),a[p+"m"]&&(a[p+"m"]=a[p+"m"].destroy())))};a.prototype.animate=function(b){var a=this.chart,d=z(this.options.animation);if(b)this.setClip(d);else{var c=this.sharedClipKey;b=a[c];var e=this.getClipBox(d,!0);b&&b.animate(e,d);a[c+"m"]&&a[c+"m"].animate({width:e.width+99,x:e.x-(a.inverted?0:99)},
d)}};a.prototype.afterAnimate=function(){this.setClip();M(this,"afterAnimate");this.finishedAnimating=!0};a.prototype.drawPoints=function(){var b=this.points,a=this.chart,d,c,e=this.options.marker,f=this[this.specialGroup]||this.markerGroup,g=this.xAxis,p=R(e.enabled,!g||g.isRadial?!0:null,this.closestPointRangePx>=e.enabledThreshold*e.radius);if(!1!==e.enabled||this._hasPointMarkers)for(d=0;d<b.length;d++){var h=b[d];var k=(c=h.graphic)?"animate":"attr";var q=h.marker||{};var t=!!h.marker;if((p&&
"undefined"===typeof q.enabled||q.enabled)&&!h.isNull&&!1!==h.visible){var u=R(q.symbol,this.symbol);var n=this.markerAttribs(h,h.selected&&"select");this.enabledDataSorting&&(h.startXPos=g.reversed?-n.width:g.width);var l=!1!==h.isInside;c?c[l?"show":"hide"](l).animate(n):l&&(0<n.width||h.hasImage)&&(h.graphic=c=a.renderer.symbol(u,n.x,n.y,n.width,n.height,t?q:e).add(f),this.enabledDataSorting&&a.hasRendered&&(c.attr({x:h.startXPos}),k="animate"));c&&"animate"===k&&c[l?"show":"hide"](l).animate(n);
if(c&&!a.styledMode)c[k](this.pointAttribs(h,h.selected&&"select"));c&&c.addClass(h.getClassName(),!0)}else c&&(h.graphic=c.destroy())}};a.prototype.markerAttribs=function(b,a){var d=this.options,c=d.marker,e=b.marker||{},f=e.symbol||c.symbol,g=R(e.radius,c.radius);a&&(c=c.states[a],a=e.states&&e.states[a],g=R(a&&a.radius,c&&c.radius,g+(c&&c.radiusPlus||0)));b.hasImage=f&&0===f.indexOf("url");b.hasImage&&(g=0);b={x:d.crisp?Math.floor(b.plotX)-g:b.plotX-g,y:b.plotY-g};g&&(b.width=b.height=2*g);return b};
a.prototype.pointAttribs=function(b,a){var d=this.options.marker,c=b&&b.options,e=c&&c.marker||{},f=this.color,g=c&&c.color,p=b&&b.color;c=R(e.lineWidth,d.lineWidth);var h=b&&b.zone&&b.zone.color;b=1;f=g||h||p||f;g=e.fillColor||d.fillColor||f;f=e.lineColor||d.lineColor||f;a=a||"normal";d=d.states[a];a=e.states&&e.states[a]||{};c=R(a.lineWidth,d.lineWidth,c+R(a.lineWidthPlus,d.lineWidthPlus,0));g=a.fillColor||d.fillColor||g;f=a.lineColor||d.lineColor||f;b=R(a.opacity,d.opacity,b);return{stroke:f,"stroke-width":c,
fill:g,opacity:b}};a.prototype.destroy=function(b){var a=this,d=a.chart,c=/AppleWebKit\/533/.test(l.navigator.userAgent),e,f,g=a.data||[],p,h;M(a,"destroy");this.removeEvents(b);(a.axisTypes||[]).forEach(function(b){(h=a[b])&&h.series&&(x(h.series,a),h.isDirty=h.forceRedraw=!0)});a.legendItem&&a.chart.legend.destroyItem(a);for(f=g.length;f--;)(p=g[f])&&p.destroy&&p.destroy();a.points=null;B.clearTimeout(a.animationTimeout);u(a,function(b,a){b instanceof I&&!b.survive&&(e=c&&"group"===a?"hide":"destroy",
b[e]())});d.hoverSeries===a&&(d.hoverSeries=null);x(d.series,a);d.orderSeries();u(a,function(d,c){b&&"hcEvents"===c||delete a[c]})};a.prototype.applyZones=function(){var b=this,a=this.chart,d=a.renderer,c=this.zones,e,f,g=this.clips||[],p,h=this.graph,k=this.area,q=Math.max(a.chartWidth,a.chartHeight),t=this[(this.zoneAxis||"y")+"Axis"],u=a.inverted,n,l,H,y=!1,x,r;if(c.length&&(h||k)&&t&&"undefined"!==typeof t.min){var J=t.reversed;var v=t.horiz;h&&!this.showLine&&h.hide();k&&k.hide();var G=t.getExtremes();
c.forEach(function(c,D){e=J?v?a.plotWidth:0:v?0:t.toPixels(G.min)||0;e=w(R(f,e),0,q);f=w(Math.round(t.toPixels(R(c.value,G.max),!0)||0),0,q);y&&(e=f=t.toPixels(G.max));n=Math.abs(e-f);l=Math.min(e,f);H=Math.max(e,f);t.isXAxis?(p={x:u?H:l,y:0,width:n,height:q},v||(p.x=a.plotHeight-p.x)):(p={x:0,y:u?H:l,width:q,height:n},v&&(p.y=a.plotWidth-p.y));u&&d.isVML&&(p=t.isXAxis?{x:0,y:J?l:H,height:p.width,width:a.chartWidth}:{x:p.y-a.plotLeft-a.spacingBox.x,y:0,width:p.height,height:a.chartHeight});g[D]?g[D].animate(p):
g[D]=d.clipRect(p);x=b["zone-area-"+D];r=b["zone-graph-"+D];h&&r&&r.clip(g[D]);k&&x&&x.clip(g[D]);y=c.value>G.max;b.resetZones&&0===f&&(f=void 0)});this.clips=g}else b.visible&&(h&&h.show(!0),k&&k.show(!0))};a.prototype.invertGroups=function(b){function a(){["group","markerGroup"].forEach(function(a){d[a]&&(c.renderer.isVML&&d[a].attr({width:d.yAxis.len,height:d.xAxis.len}),d[a].width=d.yAxis.len,d[a].height=d.xAxis.len,d[a].invert(d.isRadialSeries?!1:b))})}var d=this,c=d.chart;d.xAxis&&(d.eventsToUnbind.push(y(c,
"resize",a)),a(),d.invertGroups=a)};a.prototype.plotGroup=function(b,a,d,c,e){var f=this[b],g=!f;d={visibility:d,zIndex:c||.1};"undefined"===typeof this.opacity||this.chart.styledMode||"inactive"===this.state||(d.opacity=this.opacity);g&&(this[b]=f=this.chart.renderer.g().add(e));f.addClass("highcharts-"+a+" highcharts-series-"+this.index+" highcharts-"+this.type+"-series "+(q(this.colorIndex)?"highcharts-color-"+this.colorIndex+" ":"")+(this.options.className||"")+(f.hasClass("highcharts-tracker")?
" highcharts-tracker":""),!0);f.attr(d)[g?"attr":"animate"](this.getPlotBox());return f};a.prototype.getPlotBox=function(){var b=this.chart,a=this.xAxis,d=this.yAxis;b.inverted&&(a=d,d=this.xAxis);return{translateX:a?a.left:b.plotLeft,translateY:d?d.top:b.plotTop,scaleX:1,scaleY:1}};a.prototype.removeEvents=function(b){b||t(this);this.eventsToUnbind.length&&(this.eventsToUnbind.forEach(function(b){b()}),this.eventsToUnbind.length=0)};a.prototype.render=function(){var b=this,a=b.chart,d=b.options,
c=z(d.animation),e=!b.finishedAnimating&&a.renderer.isSVG&&c.duration,f=b.visible?"inherit":"hidden",g=d.zIndex,p=b.hasRendered,h=a.seriesGroup,k=a.inverted;M(this,"render");var t=b.plotGroup("group","series",f,g,h);b.markerGroup=b.plotGroup("markerGroup","markers",f,g,h);e&&b.animate&&b.animate(!0);t.inverted=R(b.invertible,b.isCartesian)?k:!1;b.drawGraph&&(b.drawGraph(),b.applyZones());b.visible&&b.drawPoints();b.drawDataLabels&&b.drawDataLabels();b.redrawPoints&&b.redrawPoints();b.drawTracker&&
!1!==b.options.enableMouseTracking&&b.drawTracker();b.invertGroups(k);!1===d.clip||b.sharedClipKey||p||t.clip(a.clipRect);e&&b.animate&&b.animate();p||(e&&c.defer&&(e+=c.defer),b.animationTimeout=O(function(){b.afterAnimate()},e||0));b.isDirty=!1;b.hasRendered=!0;M(b,"afterRender")};a.prototype.redraw=function(){var b=this.chart,a=this.isDirty||this.isDirtyData,d=this.group,c=this.xAxis,e=this.yAxis;d&&(b.inverted&&d.attr({width:b.plotWidth,height:b.plotHeight}),d.animate({translateX:R(c&&c.left,
b.plotLeft),translateY:R(e&&e.top,b.plotTop)}));this.translate();this.render();a&&delete this.kdTree};a.prototype.searchPoint=function(b,a){var d=this.xAxis,c=this.yAxis,e=this.chart.inverted;return this.searchKDTree({clientX:e?d.len-b.chartY+d.pos:b.chartX-d.pos,plotY:e?c.len-b.chartX+c.pos:b.chartY-c.pos},a,b)};a.prototype.buildKDTree=function(b){function a(b,c,e){var f;if(f=b&&b.length){var g=d.kdAxisArray[c%e];b.sort(function(b,a){return b[g]-a[g]});f=Math.floor(f/2);return{point:b[f],left:a(b.slice(0,
f),c+1,e),right:a(b.slice(f+1),c+1,e)}}}this.buildingKdTree=!0;var d=this,c=-1<d.options.findNearestPointBy.indexOf("y")?2:1;delete d.kdTree;O(function(){d.kdTree=a(d.getValidPoints(null,!d.directTouch),c,c);d.buildingKdTree=!1},d.options.kdNow||b&&"touchstart"===b.type?0:1)};a.prototype.searchKDTree=function(b,a,d){function c(b,a,d,h){var k=a.point,t=e.kdAxisArray[d%h],u=k;var n=q(b[f])&&q(k[f])?Math.pow(b[f]-k[f],2):null;var l=q(b[g])&&q(k[g])?Math.pow(b[g]-k[g],2):null;l=(n||0)+(l||0);k.dist=q(l)?
Math.sqrt(l):Number.MAX_VALUE;k.distX=q(n)?Math.sqrt(n):Number.MAX_VALUE;t=b[t]-k[t];l=0>t?"left":"right";n=0>t?"right":"left";a[l]&&(l=c(b,a[l],d+1,h),u=l[p]<u[p]?l:k);a[n]&&Math.sqrt(t*t)<u[p]&&(b=c(b,a[n],d+1,h),u=b[p]<u[p]?b:u);return u}var e=this,f=this.kdAxisArray[0],g=this.kdAxisArray[1],p=a?"distX":"dist";a=-1<e.options.findNearestPointBy.indexOf("y")?2:1;this.kdTree||this.buildingKdTree||this.buildKDTree(d);if(this.kdTree)return c(b,this.kdTree,a,a)};a.prototype.pointPlacementToXValue=function(){var b=
this.options,a=b.pointRange,d=this.xAxis;b=b.pointPlacement;"between"===b&&(b=d.reversed?-.5:.5);return p(b)?b*(a||d.pointRange):0};a.prototype.isPointInside=function(b){return"undefined"!==typeof b.plotY&&"undefined"!==typeof b.plotX&&0<=b.plotY&&b.plotY<=this.yAxis.len&&0<=b.plotX&&b.plotX<=this.xAxis.len};a.prototype.drawTracker=function(){var b=this,a=b.options,d=a.trackByArea,e=[].concat(d?b.areaPath:b.graphPath),f=b.chart,g=f.pointer,p=f.renderer,h=f.options.tooltip.snap,k=b.tracker,t=function(a){if(f.hoverSeries!==
b)b.onMouseOver()},q="rgba(192,192,192,"+(c?.0001:.002)+")";k?k.attr({d:e}):b.graph&&(b.tracker=p.path(e).attr({visibility:b.visible?"visible":"hidden",zIndex:2}).addClass(d?"highcharts-tracker-area":"highcharts-tracker-line").add(b.group),f.styledMode||b.tracker.attr({"stroke-linecap":"round","stroke-linejoin":"round",stroke:q,fill:d?q:"none","stroke-width":b.graph.strokeWidth()+(d?0:2*h)}),[b.tracker,b.markerGroup].forEach(function(b){b.addClass("highcharts-tracker").on("mouseover",t).on("mouseout",
function(b){g.onTrackerMouseOut(b)});a.cursor&&!f.styledMode&&b.css({cursor:a.cursor});if(v)b.on("touchstart",t)}));M(this,"afterDrawTracker")};a.prototype.addPoint=function(b,a,d,c,e){var f=this.options,g=this.data,p=this.chart,h=this.xAxis;h=h&&h.hasNames&&h.names;var k=f.data,t=this.xData,q;a=R(a,!0);var u={series:this};this.pointClass.prototype.applyOptions.apply(u,[b]);var n=u.x;var l=t.length;if(this.requireSorting&&n<t[l-1])for(q=!0;l&&t[l-1]>n;)l--;this.updateParallelArrays(u,"splice",l,0,
0);this.updateParallelArrays(u,l);h&&u.name&&(h[n]=u.name);k.splice(l,0,b);q&&(this.data.splice(l,0,null),this.processData());"point"===f.legendType&&this.generatePoints();d&&(g[0]&&g[0].remove?g[0].remove(!1):(g.shift(),this.updateParallelArrays(u,"shift"),k.shift()));!1!==e&&M(this,"addPoint",{point:u});this.isDirtyData=this.isDirty=!0;a&&p.redraw(c)};a.prototype.removePoint=function(b,a,d){var c=this,e=c.data,f=e[b],g=c.points,p=c.chart,h=function(){g&&g.length===e.length&&g.splice(b,1);e.splice(b,
1);c.options.data.splice(b,1);c.updateParallelArrays(f||{series:c},"splice",b,1);f&&f.destroy();c.isDirty=!0;c.isDirtyData=!0;a&&p.redraw()};r(d,p);a=R(a,!0);f?f.firePointEvent("remove",null,h):h()};a.prototype.remove=function(b,a,d,c){function e(){f.destroy(c);g.isDirtyLegend=g.isDirtyBox=!0;g.linkSeries();R(b,!0)&&g.redraw(a)}var f=this,g=f.chart;!1!==d?M(f,"remove",null,e):e()};a.prototype.update=function(a,c){a=h(a,this.userOptions);M(this,"update",{options:a});var e=this,f=e.chart,g=e.userOptions,
p=e.initialType||e.type,k=f.options.plotOptions,t=a.type||g.type||f.options.chart.type,q=!(this.hasDerivedData||t&&t!==this.type||"undefined"!==typeof a.pointStart||"undefined"!==typeof a.pointInterval||e.hasOptionChanged("dataGrouping")||e.hasOptionChanged("pointStart")||e.hasOptionChanged("pointInterval")||e.hasOptionChanged("pointIntervalUnit")||e.hasOptionChanged("keys")),u=n[p].prototype,l,w=["eventOptions","navigatorSeries","baseSeries"],y=e.finishedAnimating&&{animation:!1},x={};q&&(w.push("data",
"isDirtyData","points","processedXData","processedYData","xIncrement","cropped","_hasPointMarkers","_hasPointLabels","nodes","layout","mapMap","mapData","minY","maxY","minX","maxX"),!1!==a.visible&&w.push("area","graph"),e.parallelArrays.forEach(function(b){w.push(b+"Data")}),a.data&&(a.dataSorting&&d(e.options.dataSorting,a.dataSorting),this.setData(a.data,!1)));a=H(g,y,{index:"undefined"===typeof g.index?e.index:g.index,pointStart:R(k&&k.series&&k.series.pointStart,g.pointStart,e.xData[0])},!q&&
{data:e.options.data},a);q&&a.data&&(a.data=e.options.data);w=["group","markerGroup","dataLabelsGroup","transformGroup"].concat(w);w.forEach(function(b){w[b]=e[b];delete e[b]});if(n[t||p]){if(g=t!==e.type,e.remove(!1,!1,!1,!0),g)if(Object.setPrototypeOf)Object.setPrototypeOf(e,n[t||p].prototype);else{g=Object.hasOwnProperty.call(e,"hcEvents")&&e.hcEvents;for(l in u)e[l]=void 0;d(e,n[t||p].prototype);g?e.hcEvents=g:delete e.hcEvents}}else b(17,!0,f,{missingModuleFor:t||p});w.forEach(function(b){e[b]=
w[b]});e.init(f,a);if(q&&this.points){var r=e.options;!1===r.visible?(x.graphic=1,x.dataLabel=1):e._hasPointLabels||(a=r.marker,t=r.dataLabels,a&&(!1===a.enabled||"symbol"in a)&&(x.graphic=1),t&&!1===t.enabled&&(x.dataLabel=1));this.points.forEach(function(b){b&&b.series&&(b.resolveColor(),Object.keys(x).length&&b.destroyElements(x),!1===r.showInLegend&&b.legendItem&&f.legend.destroyItem(b))},this)}e.initialType=p;f.linkSeries();M(this,"afterUpdate");R(c,!0)&&f.redraw(q?void 0:!1)};a.prototype.setName=
function(b){this.name=this.options.name=this.userOptions.name=b;this.chart.isDirtyLegend=!0};a.prototype.hasOptionChanged=function(b){var a=this.options[b],d=this.chart.options.plotOptions,c=this.userOptions[b];return c?a!==c:a!==R(d&&d[this.type]&&d[this.type][b],d&&d.series&&d.series[b],a)};a.prototype.onMouseOver=function(){var b=this.chart,a=b.hoverSeries;b.pointer.setHoverChartIndex();if(a&&a!==this)a.onMouseOut();this.options.events.mouseOver&&M(this,"mouseOver");this.setState("hover");b.hoverSeries=
this};a.prototype.onMouseOut=function(){var b=this.options,a=this.chart,d=a.tooltip,c=a.hoverPoint;a.hoverSeries=null;if(c)c.onMouseOut();this&&b.events.mouseOut&&M(this,"mouseOut");!d||this.stickyTracking||d.shared&&!this.noSharedTooltip||d.hide();a.series.forEach(function(b){b.setState("",!0)})};a.prototype.setState=function(b,a){var d=this,c=d.options,e=d.graph,f=c.inactiveOtherPoints,g=c.states,p=c.lineWidth,h=c.opacity,k=R(g[b||"normal"]&&g[b||"normal"].animation,d.chart.options.chart.animation);
c=0;b=b||"";if(d.state!==b&&([d.group,d.markerGroup,d.dataLabelsGroup].forEach(function(a){a&&(d.state&&a.removeClass("highcharts-series-"+d.state),b&&a.addClass("highcharts-series-"+b))}),d.state=b,!d.chart.styledMode)){if(g[b]&&!1===g[b].enabled)return;b&&(p=g[b].lineWidth||p+(g[b].lineWidthPlus||0),h=R(g[b].opacity,h));if(e&&!e.dashstyle)for(g={"stroke-width":p},e.animate(g,k);d["zone-graph-"+c];)d["zone-graph-"+c].animate(g,k),c+=1;f||[d.group,d.markerGroup,d.dataLabelsGroup,d.labelBySeries].forEach(function(b){b&&
b.animate({opacity:h},k)})}a&&f&&d.points&&d.setAllPointsToState(b||void 0)};a.prototype.setAllPointsToState=function(b){this.points.forEach(function(a){a.setState&&a.setState(b)})};a.prototype.setVisible=function(b,a){var d=this,c=d.chart,e=d.legendItem,f=c.options.chart.ignoreHiddenSeries,g=d.visible;var p=(d.visible=b=d.options.visible=d.userOptions.visible="undefined"===typeof b?!g:b)?"show":"hide";["group","dataLabelsGroup","markerGroup","tracker","tt"].forEach(function(b){if(d[b])d[b][p]()});
if(c.hoverSeries===d||(c.hoverPoint&&c.hoverPoint.series)===d)d.onMouseOut();e&&c.legend.colorizeItem(d,b);d.isDirty=!0;d.options.stacking&&c.series.forEach(function(b){b.options.stacking&&b.visible&&(b.isDirty=!0)});d.linkedSeries.forEach(function(a){a.setVisible(b,!1)});f&&(c.isDirtyBox=!0);M(d,p);!1!==a&&c.redraw()};a.prototype.show=function(){this.setVisible(!0)};a.prototype.hide=function(){this.setVisible(!1)};a.prototype.select=function(b){this.selected=b=this.options.selected="undefined"===
typeof b?!this.selected:b;this.checkbox&&(this.checkbox.checked=b);M(this,b?"select":"unselect")};a.defaultOptions={lineWidth:2,allowPointSelect:!1,crisp:!0,showCheckbox:!1,animation:{duration:1E3},events:{},marker:{enabledThreshold:2,lineColor:F.backgroundColor,lineWidth:0,radius:4,states:{normal:{animation:!0},hover:{animation:{duration:50},enabled:!0,radiusPlus:2,lineWidthPlus:1},select:{fillColor:F.neutralColor20,lineColor:F.neutralColor100,lineWidth:2}}},point:{events:{}},dataLabels:{animation:{},
align:"center",defer:!0,formatter:function(){var b=this.series.chart.numberFormatter;return"number"!==typeof this.y?"":b(this.y,-1)},padding:5,style:{fontSize:"11px",fontWeight:"bold",color:"contrast",textOutline:"1px contrast"},verticalAlign:"bottom",x:0,y:0},cropThreshold:300,opacity:1,pointRange:0,softThreshold:!0,states:{normal:{animation:!0},hover:{animation:{duration:50},lineWidthPlus:1,marker:{},halo:{size:10,opacity:.25}},select:{animation:{duration:0}},inactive:{animation:{duration:50},opacity:.2}},
stickyTracking:!0,turboThreshold:1E3,findNearestPointBy:"x"};return a}();d(a.prototype,{axisTypes:["xAxis","yAxis"],coll:"series",colorCounter:0,cropShoulder:1,directTouch:!1,drawLegendSymbol:A.drawLineMarker,isCartesian:!0,kdAxisArray:["clientX","plotY"],parallelArrays:["x","y"],pointClass:N,requireSorting:!0,sorted:!0});E.series=a;"";"";return a});S(a,"Extensions/ScrollablePlotArea.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Series/Series.js"],
a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N){var E=a.stop,I=N.addEvent,B=N.createElement,z=N.merge,r=N.pick;"";I(A,"afterSetChartSize",function(a){var c=this.options.chart.scrollablePlotArea,l=c&&c.minWidth;c=c&&c.minHeight;if(!this.renderer.forExport){if(l){if(this.scrollablePixelsX=l=Math.max(0,l-this.chartWidth)){this.scrollablePlotBox=z(this.plotBox);this.plotWidth+=l;this.inverted?(this.clipBox.height+=l,this.plotBox.height+=l):(this.clipBox.width+=l,this.plotBox.width+=
l);var e={1:{name:"right",value:l}}}}else c&&(this.scrollablePixelsY=l=Math.max(0,c-this.chartHeight))&&(this.scrollablePlotBox=z(this.plotBox),this.plotHeight+=l,this.inverted?(this.clipBox.width+=l,this.plotBox.width+=l):(this.clipBox.height+=l,this.plotBox.height+=l),e={2:{name:"bottom",value:l}});e&&!a.skipAxes&&this.axes.forEach(function(a){e[a.side]?a.getPlotLinePath=function(){var c=e[a.side].name,k=this[c];this[c]=k-e[a.side].value;var n=F.Axis.prototype.getPlotLinePath.apply(this,arguments);
this[c]=k;return n}:(a.setAxisSize(),a.setAxisTranslation())})}});I(A,"render",function(){this.scrollablePixelsX||this.scrollablePixelsY?(this.setUpScrolling&&this.setUpScrolling(),this.applyFixed()):this.fixedDiv&&this.applyFixed()});A.prototype.setUpScrolling=function(){var a=this,c={WebkitOverflowScrolling:"touch",overflowX:"hidden",overflowY:"hidden"};this.scrollablePixelsX&&(c.overflowX="auto");this.scrollablePixelsY&&(c.overflowY="auto");this.scrollingParent=B("div",{className:"highcharts-scrolling-parent"},
{position:"relative"},this.renderTo);this.scrollingContainer=B("div",{className:"highcharts-scrolling"},c,this.scrollingParent);I(this.scrollingContainer,"scroll",function(){a.pointer&&delete a.pointer.chartPosition});this.innerContainer=B("div",{className:"highcharts-inner-container"},null,this.scrollingContainer);this.innerContainer.appendChild(this.container);this.setUpScrolling=null};A.prototype.moveFixedElements=function(){var a=this.container,c=this.fixedRenderer,l=".highcharts-contextbutton .highcharts-credits .highcharts-legend .highcharts-legend-checkbox .highcharts-navigator-series .highcharts-navigator-xaxis .highcharts-navigator-yaxis .highcharts-navigator .highcharts-reset-zoom .highcharts-scrollbar .highcharts-subtitle .highcharts-title".split(" "),
e;this.scrollablePixelsX&&!this.inverted?e=".highcharts-yaxis":this.scrollablePixelsX&&this.inverted?e=".highcharts-xaxis":this.scrollablePixelsY&&!this.inverted?e=".highcharts-xaxis":this.scrollablePixelsY&&this.inverted&&(e=".highcharts-yaxis");e&&l.push(e+":not(.highcharts-radial-axis)",e+"-labels:not(.highcharts-radial-axis-labels)");l.forEach(function(e){[].forEach.call(a.querySelectorAll(e),function(a){(a.namespaceURI===c.SVG_NS?c.box:c.box.parentNode).appendChild(a);a.style.pointerEvents="auto"})})};
A.prototype.applyFixed=function(){var a=this,c,l,e,n=!this.fixedDiv,y=this.options.chart,k=y.scrollablePlotArea;n?(this.fixedDiv=B("div",{className:"highcharts-fixed"},{position:"absolute",overflow:"hidden",pointerEvents:"none",zIndex:((null===(c=y.style)||void 0===c?void 0:c.zIndex)||0)+2,top:0},null,!0),null===(l=this.scrollingContainer)||void 0===l?void 0:l.parentNode.insertBefore(this.fixedDiv,this.scrollingContainer),this.renderTo.style.overflow="visible",this.fixedRenderer=c=new F.Renderer(this.fixedDiv,
this.chartWidth,this.chartHeight,null===(e=this.options.chart)||void 0===e?void 0:e.style),this.scrollableMask=c.path().attr({fill:this.options.chart.backgroundColor||"#fff","fill-opacity":r(k.opacity,.85),zIndex:-1}).addClass("highcharts-scrollable-mask").add(),I(this,"afterShowResetZoom",this.moveFixedElements),I(this,"afterLayOutTitles",this.moveFixedElements),I(m,"afterInit",function(){a.scrollableDirty=!0}),I(C,"show",function(){a.scrollableDirty=!0})):this.fixedRenderer.setSize(this.chartWidth,
this.chartHeight);if(this.scrollableDirty||n)this.scrollableDirty=!1,this.moveFixedElements();e=this.chartWidth+(this.scrollablePixelsX||0);c=this.chartHeight+(this.scrollablePixelsY||0);E(this.container);this.container.style.width=e+"px";this.container.style.height=c+"px";this.renderer.boxWrapper.attr({width:e,height:c,viewBox:[0,0,e,c].join(" ")});this.chartBackground.attr({width:e,height:c});this.scrollingContainer.style.height=this.chartHeight+"px";n&&(k.scrollPositionX&&(this.scrollingContainer.scrollLeft=
this.scrollablePixelsX*k.scrollPositionX),k.scrollPositionY&&(this.scrollingContainer.scrollTop=this.scrollablePixelsY*k.scrollPositionY));c=this.axisOffset;n=this.plotTop-c[0]-1;k=this.plotLeft-c[3]-1;e=this.plotTop+this.plotHeight+c[2]+1;c=this.plotLeft+this.plotWidth+c[1]+1;l=this.plotLeft+this.plotWidth-(this.scrollablePixelsX||0);y=this.plotTop+this.plotHeight-(this.scrollablePixelsY||0);n=this.scrollablePixelsX?[["M",0,n],["L",this.plotLeft-1,n],["L",this.plotLeft-1,e],["L",0,e],["Z"],["M",
l,n],["L",this.chartWidth,n],["L",this.chartWidth,e],["L",l,e],["Z"]]:this.scrollablePixelsY?[["M",k,0],["L",k,this.plotTop-1],["L",c,this.plotTop-1],["L",c,0],["Z"],["M",k,y],["L",k,this.chartHeight],["L",c,this.chartHeight],["L",c,y],["Z"]]:[["M",0,0]];"adjustHeight"!==this.redrawTrigger&&this.scrollableMask.attr({d:n})}});S(a,"Core/Axis/StackingAxis.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Utilities.js"]],function(a,m){var A=a.getDeferredAnimation,C=m.addEvent,F=m.destroyObjectProperties,
O=m.fireEvent,E=m.objectEach,I=m.pick,B=function(){function a(a){this.oldStacks={};this.stacks={};this.stacksTouched=0;this.axis=a}a.prototype.buildStacks=function(){var a=this.axis,v=a.series,c=I(a.options.reversedStacks,!0),l=v.length,e;if(!a.isXAxis){this.usePercentage=!1;for(e=l;e--;){var n=v[c?e:l-e-1];n.setStackedPoints();n.setGroupedPoints()}for(e=0;e<l;e++)v[e].modifyStacks();O(a,"afterBuildStacks")}};a.prototype.cleanStacks=function(){if(!this.axis.isXAxis){if(this.oldStacks)var a=this.stacks=
this.oldStacks;E(a,function(a){E(a,function(a){a.cumulative=a.total})})}};a.prototype.resetStacks=function(){var a=this,v=a.stacks;a.axis.isXAxis||E(v,function(c){E(c,function(l,e){l.touched<a.stacksTouched?(l.destroy(),delete c[e]):(l.total=null,l.cumulative=null)})})};a.prototype.renderStackTotals=function(){var a=this.axis,v=a.chart,c=v.renderer,l=this.stacks;a=A(v,a.options.stackLabels.animation);var e=this.stackTotalGroup=this.stackTotalGroup||c.g("stack-labels").attr({visibility:"visible",zIndex:6,
opacity:0}).add();e.translate(v.plotLeft,v.plotTop);E(l,function(a){E(a,function(a){a.render(e)})});e.animate({opacity:1},a)};return a}();return function(){function a(){}a.compose=function(r){C(r,"init",a.onInit);C(r,"destroy",a.onDestroy)};a.onDestroy=function(){var a=this.stacking;if(a){var v=a.stacks;E(v,function(a,l){F(a);v[l]=null});a&&a.stackTotalGroup&&a.stackTotalGroup.destroy()}};a.onInit=function(){this.stacking||(this.stacking=new B(this))};return a}()});S(a,"Extensions/Stacking.js",[a["Core/Axis/Axis.js"],
a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Axis/StackingAxis.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N){var E=N.correctFloat,I=N.defined,B=N.destroyObjectProperties,z=N.format,r=N.isArray,v=N.isNumber,c=N.pick;"";var l=function(){function a(a,c,e,l,w){var h=a.chart.inverted;this.axis=a;this.isNegative=e;this.options=c=c||{};this.x=l;this.total=null;this.points={};this.hasValidPoints=!1;this.stack=w;this.rightCliff=this.leftCliff=0;this.alignOptions={align:c.align||
(h?e?"left":"right":"center"),verticalAlign:c.verticalAlign||(h?"middle":e?"bottom":"top"),y:c.y,x:c.x};this.textAlign=c.textAlign||(h?e?"right":"left":"center")}a.prototype.destroy=function(){B(this,this.axis)};a.prototype.render=function(a){var e=this.axis.chart,k=this.options,n=k.format;n=n?z(n,this,e):k.formatter.call(this);this.label?this.label.attr({text:n,visibility:"hidden"}):(this.label=e.renderer.label(n,null,null,k.shape,null,null,k.useHTML,!1,"stack-labels"),n={r:k.borderRadius||0,text:n,
rotation:k.rotation,padding:c(k.padding,5),visibility:"hidden"},e.styledMode||(n.fill=k.backgroundColor,n.stroke=k.borderColor,n["stroke-width"]=k.borderWidth,this.label.css(k.style)),this.label.attr(n),this.label.added||this.label.add(a));this.label.labelrank=e.plotSizeY};a.prototype.setOffset=function(a,e,k,l,w){var h=this.axis,n=h.chart;l=h.translate(h.stacking.usePercentage?100:l?l:this.total,0,0,0,1);k=h.translate(k?k:0);k=I(l)&&Math.abs(l-k);a=c(w,n.xAxis[0].translate(this.x))+a;h=I(l)&&this.getStackBox(n,
this,a,l,e,k,h);e=this.label;k=this.isNegative;a="justify"===c(this.options.overflow,"justify");var q=this.textAlign;e&&h&&(w=e.getBBox(),l=e.padding,q="left"===q?n.inverted?-l:l:"right"===q?w.width:n.inverted&&"center"===q?w.width/2:n.inverted?k?w.width+l:-l:w.width/2,k=n.inverted?w.height/2:k?-l:w.height,this.alignOptions.x=c(this.options.x,0),this.alignOptions.y=c(this.options.y,0),h.x-=q,h.y-=k,e.align(this.alignOptions,null,h),n.isInsidePlot(e.alignAttr.x+q-this.alignOptions.x,e.alignAttr.y+
k-this.alignOptions.y)?e.show():(e.alignAttr.y=-9999,a=!1),a&&C.prototype.justifyDataLabel.call(this.axis,e,this.alignOptions,e.alignAttr,w,h),e.attr({x:e.alignAttr.x,y:e.alignAttr.y}),c(!a&&this.options.crop,!0)&&((n=v(e.x)&&v(e.y)&&n.isInsidePlot(e.x-l+e.width,e.y)&&n.isInsidePlot(e.x+l,e.y))||e.hide()))};a.prototype.getStackBox=function(a,c,e,l,w,h,r){var k=c.axis.reversed,n=a.inverted,b=r.height+r.pos-(n?a.plotLeft:a.plotTop);c=c.isNegative&&!k||!c.isNegative&&k;return{x:n?c?l-r.right:l-h+r.pos-
a.plotLeft:e+a.xAxis[0].transB-a.plotLeft,y:n?r.height-e-w:c?b-l-h:b-l,width:n?h:w,height:n?w:h}};return a}();m.prototype.getStacks=function(){var a=this,l=a.inverted;a.yAxis.forEach(function(a){a.stacking&&a.stacking.stacks&&a.hasVisibleSeries&&(a.stacking.oldStacks=a.stacking.stacks)});a.series.forEach(function(e){var k=e.xAxis&&e.xAxis.options||{};!e.options.stacking||!0!==e.visible&&!1!==a.options.chart.ignoreHiddenSeries||(e.stackKey=[e.type,c(e.options.stack,""),l?k.top:k.left,l?k.height:k.width].join())})};
F.compose(a);C.prototype.setGroupedPoints=function(){this.options.centerInCategory&&(this.is("column")||this.is("columnrange"))&&!this.options.stacking&&1<this.chart.series.length&&C.prototype.setStackedPoints.call(this,"group")};C.prototype.setStackedPoints=function(a){var e=a||this.options.stacking;if(e&&(!0===this.visible||!1===this.chart.options.chart.ignoreHiddenSeries)){var v=this.processedXData,k=this.processedYData,m=[],w=k.length,h=this.options,G=h.threshold,q=c(h.startFromThreshold&&G,0);
h=h.stack;a=a?this.type+","+e:this.stackKey;var x="-"+a,b=this.negStacks,d=this.yAxis,z=d.stacking.stacks,M=d.stacking.oldStacks,K,g;d.stacking.stacksTouched+=1;for(g=0;g<w;g++){var J=v[g];var p=k[g];var f=this.getStackIndicator(f,J,this.index);var H=f.key;var u=(K=b&&p<(q?0:G))?x:a;z[u]||(z[u]={});z[u][J]||(M[u]&&M[u][J]?(z[u][J]=M[u][J],z[u][J].total=null):z[u][J]=new l(d,d.options.stackLabels,K,J,h));u=z[u][J];null!==p?(u.points[H]=u.points[this.index]=[c(u.cumulative,q)],I(u.cumulative)||(u.base=
H),u.touched=d.stacking.stacksTouched,0<f.index&&!1===this.singleStacks&&(u.points[H][0]=u.points[this.index+","+J+",0"][0])):u.points[H]=u.points[this.index]=null;"percent"===e?(K=K?a:x,b&&z[K]&&z[K][J]?(K=z[K][J],u.total=K.total=Math.max(K.total,u.total)+Math.abs(p)||0):u.total=E(u.total+(Math.abs(p)||0))):"group"===e?(r(p)&&(p=p[0]),null!==p&&(u.total=(u.total||0)+1)):u.total=E(u.total+(p||0));u.cumulative="group"===e?(u.total||1)-1:c(u.cumulative,q)+(p||0);null!==p&&(u.points[H].push(u.cumulative),
m[g]=u.cumulative,u.hasValidPoints=!0)}"percent"===e&&(d.stacking.usePercentage=!0);"group"!==e&&(this.stackedYData=m);d.stacking.oldStacks={}}};C.prototype.modifyStacks=function(){var a=this,c=a.stackKey,l=a.yAxis.stacking.stacks,k=a.processedXData,r,w=a.options.stacking;a[w+"Stacker"]&&[c,"-"+c].forEach(function(c){for(var e=k.length,h,n;e--;)if(h=k[e],r=a.getStackIndicator(r,h,a.index,c),n=(h=l[c]&&l[c][h])&&h.points[r.key])a[w+"Stacker"](n,h,e)})};C.prototype.percentStacker=function(a,c,l){c=
c.total?100/c.total:0;a[0]=E(a[0]*c);a[1]=E(a[1]*c);this.stackedYData[l]=a[1]};C.prototype.getStackIndicator=function(a,c,l,k){!I(a)||a.x!==c||k&&a.key!==k?a={x:c,index:0,key:k}:a.index++;a.key=[l,c,a.index].join();return a};A.StackItem=l;return A.StackItem});S(a,"Series/Line/LineSeries.js",[a["Core/Color/Palette.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=this&&this.__extends||function(){var a=function(m,z){a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(a,v){a.__proto__=v}||function(a,v){for(var c in v)v.hasOwnProperty(c)&&(a[c]=v[c])};return a(m,z)};return function(m,z){function r(){this.constructor=m}a(m,z);m.prototype=null===z?Object.create(z):(r.prototype=z.prototype,new r)}}(),O=C.defined,E=C.merge;C=function(I){function B(){var a=null!==I&&I.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}F(B,I);B.prototype.drawGraph=function(){var m=this,r=this.options,v=(this.gappedPath||
this.getGraphPath).call(this),c=this.chart.styledMode,l=[["graph","highcharts-graph"]];c||l[0].push(r.lineColor||this.color||a.neutralColor20,r.dashStyle);l=m.getZonesGraphs(l);l.forEach(function(a,l){var e=a[0],k=m[e],n=k?"animate":"attr";k?(k.endX=m.preventGraphAnimation?null:v.xMap,k.animate({d:v})):v.length&&(m[e]=k=m.chart.renderer.path(v).addClass(a[1]).attr({zIndex:1}).add(m.group));k&&!c&&(e={stroke:a[2],"stroke-width":r.lineWidth,fill:m.fillGraph&&m.color||"none"},a[3]?e.dashstyle=a[3]:"square"!==
r.linecap&&(e["stroke-linecap"]=e["stroke-linejoin"]="round"),k[n](e).shadow(2>l&&r.shadow));k&&(k.startX=v.xMap,k.isArea=v.isArea)})};B.prototype.getGraphPath=function(a,r,v){var c=this,l=c.options,e=l.step,n,y=[],k=[],m;a=a||c.points;(n=a.reversed)&&a.reverse();(e={right:1,center:2}[e]||e&&3)&&n&&(e=4-e);a=this.getValidPoints(a,!1,!(l.connectNulls&&!r&&!v));a.forEach(function(n,h){var w=n.plotX,q=n.plotY,x=a[h-1];(n.leftCliff||x&&x.rightCliff)&&!v&&(m=!0);n.isNull&&!O(r)&&0<h?m=!l.connectNulls:
n.isNull&&!r?m=!0:(0===h||m?h=[["M",n.plotX,n.plotY]]:c.getPointSpline?h=[c.getPointSpline(a,n,h)]:e?(h=1===e?[["L",x.plotX,q]]:2===e?[["L",(x.plotX+w)/2,x.plotY],["L",(x.plotX+w)/2,q]]:[["L",w,x.plotY]],h.push(["L",w,q])):h=[["L",w,q]],k.push(n.x),e&&(k.push(n.x),2===e&&k.push(n.x)),y.push.apply(y,h),m=!1)});y.xMap=k;return c.graphPath=y};B.prototype.getZonesGraphs=function(a){this.zones.forEach(function(r,v){v=["zone-graph-"+v,"highcharts-graph highcharts-zone-graph-"+v+" "+(r.className||"")];this.chart.styledMode||
v.push(r.color||this.color,r.dashStyle||this.options.dashStyle);a.push(v)},this);return a};B.defaultOptions=E(m.defaultOptions,{});return B}(m);A.registerSeriesType("line",C);"";return C});S(a,"Series/Area/AreaSeries.js",[a["Core/Color/Color.js"],a["Mixins/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=this&&this.__extends||function(){var a=function(r,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,
c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return a(r,c)};return function(r,c){function l(){this.constructor=r}a(r,c);r.prototype=null===c?Object.create(c):(l.prototype=c.prototype,new l)}}(),O=a.parse,E=A.seriesTypes.line;a=C.extend;var I=C.merge,B=C.objectEach,z=C.pick;C=function(a){function r(){var c=null!==a&&a.apply(this,arguments)||this;c.data=void 0;c.options=void 0;c.points=void 0;return c}F(r,a);r.prototype.drawGraph=function(){this.areaPath=[];a.prototype.drawGraph.apply(this);
var c=this,l=this.areaPath,e=this.options,n=[["area","highcharts-area",this.color,e.fillColor]];this.zones.forEach(function(a,k){n.push(["zone-area-"+k,"highcharts-area highcharts-zone-area-"+k+" "+a.className,a.color||c.color,a.fillColor||e.fillColor])});n.forEach(function(a){var k=a[0],n=c[k],w=n?"animate":"attr",h={};n?(n.endX=c.preventGraphAnimation?null:l.xMap,n.animate({d:l})):(h.zIndex=0,n=c[k]=c.chart.renderer.path(l).addClass(a[1]).add(c.group),n.isArea=!0);c.chart.styledMode||(h.fill=z(a[3],
O(a[2]).setOpacity(z(e.fillOpacity,.75)).get()));n[w](h);n.startX=l.xMap;n.shiftUnit=e.step?2:1})};r.prototype.getGraphPath=function(a){var c=E.prototype.getGraphPath,e=this.options,n=e.stacking,r=this.yAxis,k,v=[],w=[],h=this.index,G=r.stacking.stacks[this.stackKey],q=e.threshold,x=Math.round(r.getThreshold(e.threshold));e=z(e.connectNulls,"percent"===n);var b=function(b,d,c){var e=a[b];b=n&&G[e.x].points[h];var f=e[c+"Null"]||0;c=e[c+"Cliff"]||0;e=!0;if(c||f){var g=(f?b[0]:b[1])+c;var k=b[0]+c;
e=!!f}else!n&&a[d]&&a[d].isNull&&(g=k=q);"undefined"!==typeof g&&(w.push({plotX:m,plotY:null===g?x:r.getThreshold(g),isNull:e,isCliff:!0}),v.push({plotX:m,plotY:null===k?x:r.getThreshold(k),doCurve:!1}))};a=a||this.points;n&&(a=this.getStackPoints(a));for(k=0;k<a.length;k++){n||(a[k].leftCliff=a[k].rightCliff=a[k].leftNull=a[k].rightNull=void 0);var d=a[k].isNull;var m=z(a[k].rectPlotX,a[k].plotX);var M=n?z(a[k].yBottom,x):x;if(!d||e)e||b(k,k-1,"left"),d&&!n&&e||(w.push(a[k]),v.push({x:k,plotX:m,
plotY:M})),e||b(k,k+1,"right")}k=c.call(this,w,!0,!0);v.reversed=!0;d=c.call(this,v,!0,!0);(M=d[0])&&"M"===M[0]&&(d[0]=["L",M[1],M[2]]);d=k.concat(d);c=c.call(this,w,!1,e);d.xMap=k.xMap;this.areaPath=d;return c};r.prototype.getStackPoints=function(a){var c=[],e=[],n=this.xAxis,r=this.yAxis,k=r.stacking.stacks[this.stackKey],v={},w=this.index,h=r.series,G=h.length,q=z(r.options.reversedStacks,!0)?1:-1,x;a=a||this.points;if(this.options.stacking){for(x=0;x<a.length;x++)a[x].leftNull=a[x].rightNull=
void 0,v[a[x].x]=a[x];B(k,function(b,a){null!==b.total&&e.push(a)});e.sort(function(b,a){return b-a});var b=h.map(function(b){return b.visible});e.forEach(function(a,h){var d=0,l,g;if(v[a]&&!v[a].isNull)c.push(v[a]),[-1,1].forEach(function(d){var c=1===d?"rightNull":"leftNull",f=0,n=k[e[h+d]];if(n)for(x=w;0<=x&&x<G;)l=n.points[x],l||(x===w?v[a][c]=!0:b[x]&&(g=k[a].points[x])&&(f-=g[1]-g[0])),x+=q;v[a][1===d?"rightCliff":"leftCliff"]=f});else{for(x=w;0<=x&&x<G;){if(l=k[a].points[x]){d=l[1];break}x+=
q}d=r.translate(d,0,1,0,1);c.push({isNull:!0,plotX:n.translate(a,0,0,0,1),x:a,plotY:d,yBottom:d})}})}return c};r.defaultOptions=I(E.defaultOptions,{threshold:0});return r}(E);a(C.prototype,{singleStacks:!1,drawLegendSymbol:m.drawRectangle});A.registerSeriesType("area",C);"";return C});S(a,"Series/Spline/SplineSeries.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){var A=this&&this.__extends||function(){var a=function(m,B){a=Object.setPrototypeOf||{__proto__:[]}instanceof
Array&&function(a,r){a.__proto__=r}||function(a,r){for(var v in r)r.hasOwnProperty(v)&&(a[v]=r[v])};return a(m,B)};return function(m,B){function z(){this.constructor=m}a(m,B);m.prototype=null===B?Object.create(B):(z.prototype=B.prototype,new z)}}(),C=a.seriesTypes.line,F=m.merge,O=m.pick;m=function(a){function m(){var m=null!==a&&a.apply(this,arguments)||this;m.data=void 0;m.options=void 0;m.points=void 0;return m}A(m,a);m.prototype.getPointSpline=function(a,m,r){var v=m.plotX||0,c=m.plotY||0,l=a[r-
1];r=a[r+1];if(l&&!l.isNull&&!1!==l.doCurve&&!m.isCliff&&r&&!r.isNull&&!1!==r.doCurve&&!m.isCliff){a=l.plotY||0;var e=r.plotX||0;r=r.plotY||0;var n=0;var y=(1.5*v+(l.plotX||0))/2.5;var k=(1.5*c+a)/2.5;e=(1.5*v+e)/2.5;var z=(1.5*c+r)/2.5;e!==y&&(n=(z-k)*(e-v)/(e-y)+c-z);k+=n;z+=n;k>a&&k>c?(k=Math.max(a,c),z=2*c-k):k<a&&k<c&&(k=Math.min(a,c),z=2*c-k);z>r&&z>c?(z=Math.max(r,c),k=2*c-z):z<r&&z<c&&(z=Math.min(r,c),k=2*c-z);m.rightContX=e;m.rightContY=z}m=["C",O(l.rightContX,l.plotX,0),O(l.rightContY,l.plotY,
0),O(y,v,0),O(k,c,0),v,c];l.rightContX=l.rightContY=void 0;return m};m.defaultOptions=F(C.defaultOptions);return m}(C);a.registerSeriesType("spline",m);"";return m});S(a,"Series/AreaSpline/AreaSplineSeries.js",[a["Series/Area/AreaSeries.js"],a["Series/Spline/SplineSeries.js"],a["Mixins/LegendSymbol.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C,F){var O=this&&this.__extends||function(){var a=function(r,v){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,
l){a.__proto__=l}||function(a,l){for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])};return a(r,v)};return function(r,v){function c(){this.constructor=r}a(r,v);r.prototype=null===v?Object.create(v):(c.prototype=v.prototype,new c)}}(),E=a.prototype,I=F.extend,B=F.merge;F=function(z){function r(){var a=null!==z&&z.apply(this,arguments)||this;a.data=void 0;a.points=void 0;a.options=void 0;return a}O(r,z);r.defaultOptions=B(m.defaultOptions,a.defaultOptions);return r}(m);I(F.prototype,{getGraphPath:E.getGraphPath,
getStackPoints:E.getStackPoints,drawGraph:E.drawGraph,drawLegendSymbol:A.drawRectangle});C.registerSeriesType("areaspline",F);"";return F});S(a,"Series/Column/ColumnSeries.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Core/Color/Palette.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I){var B=this&&this.__extends||function(){var a=function(c,b){a=Object.setPrototypeOf||
{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};return a(c,b)};return function(c,b){function d(){this.constructor=c}a(c,b);c.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)}}(),z=a.animObject,r=m.parse,v=A.hasTouch;a=A.noop;var c=I.clamp,l=I.css,e=I.defined,n=I.extend,y=I.fireEvent,k=I.isArray,Q=I.isNumber,w=I.merge,h=I.pick,G=I.objectEach;I=function(a){function q(){var b=null!==a&&a.apply(this,arguments)||
this;b.borderWidth=void 0;b.data=void 0;b.group=void 0;b.options=void 0;b.points=void 0;return b}B(q,a);q.prototype.animate=function(b){var a=this,e=this.yAxis,h=a.options,k=this.chart.inverted,g={},q=k?"translateX":"translateY";if(b)g.scaleY=.001,b=c(e.toPixels(h.threshold),e.pos,e.pos+e.len),k?g.translateX=b-e.len:g.translateY=b,a.clipBox&&a.setClip(),a.group.attr(g);else{var p=a.group.attr(q);a.group.animate({scaleY:1},n(z(a.options.animation),{step:function(b,d){a.group&&(g[q]=p+d.pos*(e.pos-
p),a.group.attr(g))}}))}};q.prototype.init=function(b,d){a.prototype.init.apply(this,arguments);var c=this;b=c.chart;b.hasRendered&&b.series.forEach(function(b){b.type===c.type&&(b.isDirty=!0)})};q.prototype.getColumnMetrics=function(){var b=this,a=b.options,c=b.xAxis,e=b.yAxis,k=c.options.reversedStacks;k=c.reversed&&!k||!c.reversed&&k;var g,q={},p=0;!1===a.grouping?p=1:b.chart.series.forEach(function(a){var d=a.yAxis,c=a.options;if(a.type===b.type&&(a.visible||!b.chart.options.chart.ignoreHiddenSeries)&&
e.len===d.len&&e.pos===d.pos){if(c.stacking&&"group"!==c.stacking){g=a.stackKey;"undefined"===typeof q[g]&&(q[g]=p++);var f=q[g]}else!1!==c.grouping&&(f=p++);a.columnIndex=f}});var f=Math.min(Math.abs(c.transA)*(c.ordinal&&c.ordinal.slope||a.pointRange||c.closestPointRange||c.tickInterval||1),c.len),l=f*a.groupPadding,u=(f-2*l)/(p||1);a=Math.min(a.maxPointWidth||c.len,h(a.pointWidth,u*(1-2*a.pointPadding)));b.columnMetrics={width:a,offset:(u-a)/2+(l+((b.columnIndex||0)+(k?1:0))*u-f/2)*(k?-1:1),paddedWidth:u,
columnCount:p};return b.columnMetrics};q.prototype.crispCol=function(b,a,c,e){var d=this.chart,g=this.borderWidth,h=-(g%2?.5:0);g=g%2?.5:1;d.inverted&&d.renderer.isVML&&(g+=1);this.options.crisp&&(c=Math.round(b+c)+h,b=Math.round(b)+h,c-=b);e=Math.round(a+e)+g;h=.5>=Math.abs(a)&&.5<e;a=Math.round(a)+g;e-=a;h&&e&&(--a,e+=1);return{x:b,y:a,width:c,height:e}};q.prototype.adjustForMissingColumns=function(b,a,c,e){var d=this,g=this.options.stacking;if(!c.isNull&&1<e.columnCount){var h=0,p=0;G(this.yAxis.stacking&&
this.yAxis.stacking.stacks,function(b){if("number"===typeof c.x&&(b=b[c.x.toString()])){var a=b.points[d.index],e=b.total;g?(a&&(h=p),b.hasValidPoints&&p++):k(a)&&(h=a[1],p=e||0)}});b=(c.plotX||0)+((p-1)*e.paddedWidth+a)/2-a-h*e.paddedWidth}return b};q.prototype.translate=function(){var b=this,a=b.chart,k=b.options,q=b.dense=2>b.closestPointRange*b.xAxis.transA;q=b.borderWidth=h(k.borderWidth,q?0:1);var l=b.xAxis,g=b.yAxis,n=k.threshold,p=b.translatedThreshold=g.getThreshold(n),f=h(k.minPointLength,
5),w=b.getColumnMetrics(),u=w.width,r=b.barW=Math.max(u,1+2*q),t=b.pointXOffset=w.offset,x=b.dataMin,v=b.dataMax;a.inverted&&(p-=.5);k.pointPadding&&(r=Math.ceil(r));N.prototype.translate.apply(b);b.points.forEach(function(d){var q=h(d.yBottom,p),H=999+Math.abs(q),J=u,m=d.plotX||0;H=c(d.plotY,-H,g.len+H);var G=m+t,y=r,K=Math.min(H,q),z=Math.max(H,q)-K;if(f&&Math.abs(z)<f){z=f;var M=!g.reversed&&!d.negative||g.reversed&&d.negative;Q(n)&&Q(v)&&d.y===n&&v<=n&&(g.min||0)<n&&(x!==v||(g.max||0)<=n)&&(M=
!M);K=Math.abs(K-p)>f?q-f:p-(M?f:0)}e(d.options.pointWidth)&&(J=y=Math.ceil(d.options.pointWidth),G-=Math.round((J-u)/2));k.centerInCategory&&(G=b.adjustForMissingColumns(G,J,d,w));d.barX=G;d.pointWidth=J;d.tooltipPos=a.inverted?[c(g.len+g.pos-a.plotLeft-H,g.pos-a.plotLeft,g.len+g.pos-a.plotLeft),l.len+l.pos-a.plotTop-(m||0)-t-y/2,z]:[l.left-a.plotLeft+G+y/2,c(H+g.pos-a.plotTop,g.pos-a.plotTop,g.len+g.pos-a.plotTop),z];d.shapeType=b.pointClass.prototype.shapeType||"rect";d.shapeArgs=b.crispCol.apply(b,
d.isNull?[G,p,y,0]:[G,K,y,z])})};q.prototype.drawGraph=function(){this.group[this.dense?"addClass":"removeClass"]("highcharts-dense-data")};q.prototype.pointAttribs=function(b,a){var d=this.options,c=this.pointAttrToOptions||{};var e=c.stroke||"borderColor";var g=c["stroke-width"]||"borderWidth",k=b&&b.color||this.color,p=b&&b[e]||d[e]||this.color||k,f=b&&b[g]||d[g]||this[g]||0;c=b&&b.options.dashStyle||d.dashStyle;var q=h(b&&b.opacity,d.opacity,1);if(b&&this.zones.length){var u=b.getZone();k=b.options.color||
u&&(u.color||b.nonZonedColor)||this.color;u&&(p=u.borderColor||p,c=u.dashStyle||c,f=u.borderWidth||f)}a&&b&&(b=w(d.states[a],b.options.states&&b.options.states[a]||{}),a=b.brightness,k=b.color||"undefined"!==typeof a&&r(k).brighten(b.brightness).get()||k,p=b[e]||p,f=b[g]||f,c=b.dashStyle||c,q=h(b.opacity,q));e={fill:k,stroke:p,"stroke-width":f,opacity:q};c&&(e.dashstyle=c);return e};q.prototype.drawPoints=function(){var b=this,a=this.chart,c=b.options,e=a.renderer,h=c.animationLimit||250,g;b.points.forEach(function(d){var p=
d.graphic,f=!!p,k=p&&a.pointCount<h?"animate":"attr";if(Q(d.plotY)&&null!==d.y){g=d.shapeArgs;p&&d.hasNewShapeType()&&(p=p.destroy());b.enabledDataSorting&&(d.startXPos=b.xAxis.reversed?-(g?g.width:0):b.xAxis.width);p||(d.graphic=p=e[d.shapeType](g).add(d.group||b.group))&&b.enabledDataSorting&&a.hasRendered&&a.pointCount<h&&(p.attr({x:d.startXPos}),f=!0,k="animate");if(p&&f)p[k](w(g));if(c.borderRadius)p[k]({r:c.borderRadius});a.styledMode||p[k](b.pointAttribs(d,d.selected&&"select")).shadow(!1!==
d.allowShadow&&c.shadow,null,c.stacking&&!c.borderRadius);p&&(p.addClass(d.getClassName(),!0),p.attr({visibility:d.visible?"inherit":"hidden"}))}else p&&(d.graphic=p.destroy())})};q.prototype.drawTracker=function(){var b=this,a=b.chart,c=a.pointer,e=function(b){var a=c.getPointFromEvent(b);"undefined"!==typeof a&&(c.isDirectTouch=!0,a.onMouseOver(b))},h;b.points.forEach(function(b){h=k(b.dataLabels)?b.dataLabels:b.dataLabel?[b.dataLabel]:[];b.graphic&&(b.graphic.element.point=b);h.forEach(function(a){a.div?
a.div.point=b:a.element.point=b})});b._hasTracking||(b.trackerGroups.forEach(function(d){if(b[d]){b[d].addClass("highcharts-tracker").on("mouseover",e).on("mouseout",function(b){c.onTrackerMouseOut(b)});if(v)b[d].on("touchstart",e);!a.styledMode&&b.options.cursor&&b[d].css(l).css({cursor:b.options.cursor})}}),b._hasTracking=!0);y(this,"afterDrawTracker")};q.prototype.remove=function(){var b=this,a=b.chart;a.hasRendered&&a.series.forEach(function(a){a.type===b.type&&(a.isDirty=!0)});N.prototype.remove.apply(b,
arguments)};q.defaultOptions=w(N.defaultOptions,{borderRadius:0,centerInCategory:!1,groupPadding:.2,marker:null,pointPadding:.1,minPointLength:0,cropThreshold:50,pointRange:null,states:{hover:{halo:!1,brightness:.1},select:{color:F.neutralColor20,borderColor:F.neutralColor100}},dataLabels:{align:void 0,verticalAlign:void 0,y:void 0},startFromThreshold:!0,stickyTracking:!1,tooltip:{distance:6},threshold:0,borderColor:F.backgroundColor});return q}(N);n(I.prototype,{cropShoulder:0,directTouch:!0,drawLegendSymbol:C.drawRectangle,
getSymbol:a,negStacks:!0,trackerGroups:["group","dataLabelsGroup"]});E.registerSeriesType("column",I);"";"";return I});S(a,"Series/Bar/BarSeries.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A){var C=this&&this.__extends||function(){var a=function(m,B){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var v in r)r.hasOwnProperty(v)&&(a[v]=r[v])};return a(m,B)};return function(m,
B){function z(){this.constructor=m}a(m,B);m.prototype=null===B?Object.create(B):(z.prototype=B.prototype,new z)}}(),F=A.extend,O=A.merge;A=function(m){function I(){var a=null!==m&&m.apply(this,arguments)||this;a.data=void 0;a.options=void 0;a.points=void 0;return a}C(I,m);I.defaultOptions=O(a.defaultOptions,{});return I}(a);F(A.prototype,{inverted:!0});m.registerSeriesType("bar",A);"";return A});S(a,"Series/Scatter/ScatterSeries.js",[a["Series/Column/ColumnSeries.js"],a["Series/Line/LineSeries.js"],
a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=this&&this.__extends||function(){var a=function(m,r){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var l in c)c.hasOwnProperty(l)&&(a[l]=c[l])};return a(m,r)};return function(m,r){function v(){this.constructor=m}a(m,r);m.prototype=null===r?Object.create(r):(v.prototype=r.prototype,new v)}}(),O=C.addEvent,E=C.extend,I=C.merge;C=function(a){function z(){var r=
null!==a&&a.apply(this,arguments)||this;r.data=void 0;r.options=void 0;r.points=void 0;return r}F(z,a);z.prototype.applyJitter=function(){var a=this,m=this.options.jitter,c=this.points.length;m&&this.points.forEach(function(l,e){["x","y"].forEach(function(n,r){var k="plot"+n.toUpperCase();if(m[n]&&!l.isNull){var v=a[n+"Axis"];var w=m[n]*v.transA;if(v&&!v.isLog){var h=Math.max(0,l[k]-w);v=Math.min(v.len,l[k]+w);r=1E4*Math.sin(e+r*c);l[k]=h+(v-h)*(r-Math.floor(r));"x"===n&&(l.clientX=l.plotX)}}})})};
z.prototype.drawGraph=function(){(this.options.lineWidth||0===this.options.lineWidth&&this.graph&&this.graph.strokeWidth())&&a.prototype.drawGraph.call(this)};z.defaultOptions=I(m.defaultOptions,{lineWidth:0,findNearestPointBy:"xy",jitter:{x:0,y:0},marker:{enabled:!0},tooltip:{headerFormat:'<span style="color:{point.color}">\u25cf</span> <span style="font-size: 10px"> {series.name}</span><br/>',pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>"}});return z}(m);E(C.prototype,{drawTracker:a.prototype.drawTracker,
sorted:!1,requireSorting:!1,noSharedTooltip:!0,trackerGroups:["group","markerGroup","dataLabelsGroup"],takeOrdinalPosition:!1});O(C,"afterTranslate",function(){this.applyJitter()});A.registerSeriesType("scatter",C);"";return C});S(a,"Mixins/CenteredSeries.js",[a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,m,A){var C=A.isNumber,F=A.pick,O=A.relativeLength,E=a.deg2rad;return a.CenteredSeriesMixin={getCenter:function(){var a=this.options,B=this.chart,z=2*(a.slicedOffset||
0),r=B.plotWidth-2*z,v=B.plotHeight-2*z,c=a.center,l=Math.min(r,v),e=a.size,n=a.innerSize||0;"string"===typeof e&&(e=parseFloat(e));"string"===typeof n&&(n=parseFloat(n));a=[F(c[0],"50%"),F(c[1],"50%"),F(e&&0>e?void 0:a.size,"100%"),F(n&&0>n?void 0:a.innerSize||0,"0%")];!B.angular||this instanceof m||(a[3]=0);for(c=0;4>c;++c)e=a[c],B=2>c||2===c&&/%$/.test(e),a[c]=O(e,[r,v,l,a[2]][c])+(B?z:0);a[3]>a[2]&&(a[3]=a[2]);return a},getStartAndEndRadians:function(a,m){a=C(a)?a:0;m=C(m)&&m>a&&360>m-a?m:a+360;
return{start:E*(a+-90),end:E*(m+-90)}}}});S(a,"Series/Pie/PiePoint.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Series/Point.js"],a["Core/Utilities.js"]],function(a,m,A){var C=this&&this.__extends||function(){var a=function(r,c){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return a(r,c)};return function(r,c){function l(){this.constructor=r}a(r,c);r.prototype=null===c?Object.create(c):
(l.prototype=c.prototype,new l)}}(),F=a.setAnimation,O=A.addEvent,E=A.defined;a=A.extend;var I=A.isNumber,B=A.pick,z=A.relativeLength;A=function(a){function r(){var c=null!==a&&a.apply(this,arguments)||this;c.labelDistance=void 0;c.options=void 0;c.series=void 0;return c}C(r,a);r.prototype.getConnectorPath=function(){var a=this.labelPosition,l=this.series.options.dataLabels,e=l.connectorShape,n=this.connectorShapes;n[e]&&(e=n[e]);return e.call(this,{x:a.final.x,y:a.final.y,alignment:a.alignment},
a.connectorPosition,l)};r.prototype.getTranslate=function(){return this.sliced?this.slicedTranslation:{translateX:0,translateY:0}};r.prototype.haloPath=function(a){var c=this.shapeArgs;return this.sliced||!this.visible?[]:this.series.chart.renderer.symbols.arc(c.x,c.y,c.r+a,c.r+a,{innerR:c.r-1,start:c.start,end:c.end})};r.prototype.init=function(){m.prototype.init.apply(this,arguments);var a=this;a.name=B(a.name,"Slice");var l=function(c){a.slice("select"===c.type)};O(a,"select",l);O(a,"unselect",
l);return a};r.prototype.isValid=function(){return I(this.y)&&0<=this.y};r.prototype.setVisible=function(a,l){var c=this,n=c.series,r=n.chart,k=n.options.ignoreHiddenPoint;l=B(l,k);a!==c.visible&&(c.visible=c.options.visible=a="undefined"===typeof a?!c.visible:a,n.options.data[n.data.indexOf(c)]=c.options,["graphic","dataLabel","connector","shadowGroup"].forEach(function(e){if(c[e])c[e][a?"show":"hide"](a)}),c.legendItem&&r.legend.colorizeItem(c,a),a||"hover"!==c.state||c.setState(""),k&&(n.isDirty=
!0),l&&r.redraw())};r.prototype.slice=function(a,l,e){var c=this.series;F(e,c.chart);B(l,!0);this.sliced=this.options.sliced=E(a)?a:!this.sliced;c.options.data[c.data.indexOf(this)]=this.options;this.graphic&&this.graphic.animate(this.getTranslate());this.shadowGroup&&this.shadowGroup.animate(this.getTranslate())};return r}(m);a(A.prototype,{connectorShapes:{fixedOffset:function(a,m,c){var l=m.breakAt;m=m.touchingSliceAt;return[["M",a.x,a.y],c.softConnector?["C",a.x+("left"===a.alignment?-5:5),a.y,
2*l.x-m.x,2*l.y-m.y,l.x,l.y]:["L",l.x,l.y],["L",m.x,m.y]]},straight:function(a,m){m=m.touchingSliceAt;return[["M",a.x,a.y],["L",m.x,m.y]]},crookedLine:function(a,m,c){m=m.touchingSliceAt;var l=this.series,e=l.center[0],n=l.chart.plotWidth,r=l.chart.plotLeft;l=a.alignment;var k=this.shapeArgs.r;c=z(c.crookDistance,1);n="left"===l?e+k+(n+r-e-k)*(1-c):r+(e-k)*c;c=["L",n,a.y];e=!0;if("left"===l?n>a.x||n<m.x:n<a.x||n>m.x)e=!1;a=[["M",a.x,a.y]];e&&a.push(c);a.push(["L",m.x,m.y]);return a}}});return A});
S(a,"Series/Pie/PieSeries.js",[a["Mixins/CenteredSeries.js"],a["Series/Column/ColumnSeries.js"],a["Core/Globals.js"],a["Mixins/LegendSymbol.js"],a["Core/Color/Palette.js"],a["Series/Pie/PiePoint.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I,B,z){var r=this&&this.__extends||function(){var a=function(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,
c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return a(c,e)};return function(c,e){function h(){this.constructor=c}a(c,e);c.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)}}(),v=a.getStartAndEndRadians;A=A.noop;var c=z.clamp,l=z.extend,e=z.fireEvent,n=z.merge,y=z.pick,k=z.relativeLength;z=function(a){function l(){var c=null!==a&&a.apply(this,arguments)||this;c.center=void 0;c.data=void 0;c.maxLabelDistance=void 0;c.options=void 0;c.points=void 0;return c}r(l,a);l.prototype.animate=
function(a){var c=this,e=c.points,h=c.startAngleRad;a||e.forEach(function(b){var a=b.graphic,e=b.shapeArgs;a&&e&&(a.attr({r:y(b.startR,c.center&&c.center[3]/2),start:h,end:h}),a.animate({r:e.r,start:e.start,end:e.end},c.options.animation))})};l.prototype.drawEmpty=function(){var a=this.startAngleRad,c=this.endAngleRad,e=this.options;if(0===this.total&&this.center){var k=this.center[0];var b=this.center[1];this.graph||(this.graph=this.chart.renderer.arc(k,b,this.center[1]/2,0,a,c).addClass("highcharts-empty-series").add(this.group));
this.graph.attr({d:B.prototype.symbols.arc(k,b,this.center[2]/2,0,{start:a,end:c,innerR:this.center[3]/2})});this.chart.styledMode||this.graph.attr({"stroke-width":e.borderWidth,fill:e.fillColor||"none",stroke:e.color||F.neutralColor20})}else this.graph&&(this.graph=this.graph.destroy())};l.prototype.drawPoints=function(){var a=this.chart.renderer;this.points.forEach(function(c){c.graphic&&c.hasNewShapeType()&&(c.graphic=c.graphic.destroy());c.graphic||(c.graphic=a[c.shapeType](c.shapeArgs).add(c.series.group),
c.delayedRendering=!0)})};l.prototype.generatePoints=function(){a.prototype.generatePoints.call(this);this.updateTotals()};l.prototype.getX=function(a,e,k){var h=this.center,b=this.radii?this.radii[k.index]||0:h[2]/2;a=Math.asin(c((a-h[1])/(b+k.labelDistance),-1,1));return h[0]+(e?-1:1)*Math.cos(a)*(b+k.labelDistance)+(0<k.labelDistance?(e?-1:1)*this.options.dataLabels.padding:0)};l.prototype.hasData=function(){return!!this.processedXData.length};l.prototype.redrawPoints=function(){var a=this,c=a.chart,
e=c.renderer,k,b,d,l,w=a.options.shadow;this.drawEmpty();!w||a.shadowGroup||c.styledMode||(a.shadowGroup=e.g("shadow").attr({zIndex:-1}).add(a.group));a.points.forEach(function(h){var g={};b=h.graphic;if(!h.isNull&&b){l=h.shapeArgs;k=h.getTranslate();if(!c.styledMode){var q=h.shadowGroup;w&&!q&&(q=h.shadowGroup=e.g("shadow").add(a.shadowGroup));q&&q.attr(k);d=a.pointAttribs(h,h.selected&&"select")}h.delayedRendering?(b.setRadialReference(a.center).attr(l).attr(k),c.styledMode||b.attr(d).attr({"stroke-linejoin":"round"}).shadow(w,
q),h.delayedRendering=!1):(b.setRadialReference(a.center),c.styledMode||n(!0,g,d),n(!0,g,l,k),b.animate(g));b.attr({visibility:h.visible?"inherit":"hidden"});b.addClass(h.getClassName(),!0)}else b&&(h.graphic=b.destroy())})};l.prototype.sortByAngle=function(a,c){a.sort(function(a,e){return"undefined"!==typeof a.angle&&(e.angle-a.angle)*c})};l.prototype.translate=function(a){this.generatePoints();var c=0,h=this.options,l=h.slicedOffset,b=l+(h.borderWidth||0),d=v(h.startAngle,h.endAngle),n=this.startAngleRad=
d.start;d=(this.endAngleRad=d.end)-n;var w=this.points,m=h.dataLabels.distance;h=h.ignoreHiddenPoint;var g,r=w.length;a||(this.center=a=this.getCenter());for(g=0;g<r;g++){var p=w[g];var f=n+c*d;!p.isValid()||h&&!p.visible||(c+=p.percentage/100);var H=n+c*d;p.shapeType="arc";p.shapeArgs={x:a[0],y:a[1],r:a[2]/2,innerR:a[3]/2,start:Math.round(1E3*f)/1E3,end:Math.round(1E3*H)/1E3};p.labelDistance=y(p.options.dataLabels&&p.options.dataLabels.distance,m);p.labelDistance=k(p.labelDistance,p.shapeArgs.r);
this.maxLabelDistance=Math.max(this.maxLabelDistance||0,p.labelDistance);H=(H+f)/2;H>1.5*Math.PI?H-=2*Math.PI:H<-Math.PI/2&&(H+=2*Math.PI);p.slicedTranslation={translateX:Math.round(Math.cos(H)*l),translateY:Math.round(Math.sin(H)*l)};var u=Math.cos(H)*a[2]/2;var z=Math.sin(H)*a[2]/2;p.tooltipPos=[a[0]+.7*u,a[1]+.7*z];p.half=H<-Math.PI/2||H>Math.PI/2?1:0;p.angle=H;f=Math.min(b,p.labelDistance/5);p.labelPosition={natural:{x:a[0]+u+Math.cos(H)*p.labelDistance,y:a[1]+z+Math.sin(H)*p.labelDistance},"final":{},
alignment:0>p.labelDistance?"center":p.half?"right":"left",connectorPosition:{breakAt:{x:a[0]+u+Math.cos(H)*f,y:a[1]+z+Math.sin(H)*f},touchingSliceAt:{x:a[0]+u,y:a[1]+z}}}}e(this,"afterTranslate")};l.prototype.updateTotals=function(){var a,c=0,e=this.points,k=e.length,b=this.options.ignoreHiddenPoint;for(a=0;a<k;a++){var d=e[a];!d.isValid()||b&&!d.visible||(c+=d.y)}this.total=c;for(a=0;a<k;a++)d=e[a],d.percentage=0<c&&(d.visible||!b)?d.y/c*100:0,d.total=c};l.defaultOptions=n(E.defaultOptions,{center:[null,
null],clip:!1,colorByPoint:!0,dataLabels:{allowOverlap:!0,connectorPadding:5,connectorShape:"fixedOffset",crookDistance:"70%",distance:30,enabled:!0,formatter:function(){return this.point.isNull?void 0:this.point.name},softConnector:!0,x:0},fillColor:void 0,ignoreHiddenPoint:!0,inactiveOtherPoints:!0,legendType:"point",marker:null,size:null,showInLegend:!1,slicedOffset:10,stickyTracking:!1,tooltip:{followPointer:!0},borderColor:F.backgroundColor,borderWidth:1,lineWidth:void 0,states:{hover:{brightness:.1}}});
return l}(E);l(z.prototype,{axisTypes:[],directTouch:!0,drawGraph:null,drawLegendSymbol:C.drawRectangle,drawTracker:m.prototype.drawTracker,getCenter:a.getCenter,getSymbol:A,isCartesian:!1,noSharedTooltip:!0,pointAttribs:m.prototype.pointAttribs,pointClass:N,requireSorting:!1,searchPoint:A,trackerGroups:["group","dataLabelsGroup"]});I.registerSeriesType("pie",z);"";return z});S(a,"Core/Series/DataLabels.js",[a["Core/Animation/AnimationUtilities.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],
a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N){var E=a.getDeferredAnimation;a=m.noop;F=F.seriesTypes;var I=N.arrayMax,B=N.clamp,z=N.defined,r=N.extend,v=N.fireEvent,c=N.format,l=N.isArray,e=N.merge,n=N.objectEach,y=N.pick,k=N.relativeLength,Q=N.splat,w=N.stableSort;"";m.distribute=function(a,c,e){function h(b,a){return b.target-a.target}var b,d=!0,k=a,q=[];var l=0;var g=k.reducedLen||c;for(b=a.length;b--;)l+=a[b].size;if(l>g){w(a,function(b,
a){return(a.rank||0)-(b.rank||0)});for(l=b=0;l<=g;)l+=a[b].size,b++;q=a.splice(b-1,a.length)}w(a,h);for(a=a.map(function(b){return{size:b.size,targets:[b.target],align:y(b.align,.5)}});d;){for(b=a.length;b--;)d=a[b],l=(Math.min.apply(0,d.targets)+Math.max.apply(0,d.targets))/2,d.pos=B(l-d.size*d.align,0,c-d.size);b=a.length;for(d=!1;b--;)0<b&&a[b-1].pos+a[b-1].size>a[b].pos&&(a[b-1].size+=a[b].size,a[b-1].targets=a[b-1].targets.concat(a[b].targets),a[b-1].align=.5,a[b-1].pos+a[b-1].size>c&&(a[b-1].pos=
c-a[b-1].size),a.splice(b,1),d=!0)}k.push.apply(k,q);b=0;a.some(function(a){var d=0;if(a.targets.some(function(){k[b].pos=a.pos+d;if("undefined"!==typeof e&&Math.abs(k[b].pos-k[b].target)>e)return k.slice(0,b+1).forEach(function(b){delete b.pos}),k.reducedLen=(k.reducedLen||c)-.1*c,k.reducedLen>.1*c&&m.distribute(k,c,e),!0;d+=k[b].size;b++}))return!0});w(k,h)};C.prototype.drawDataLabels=function(){function a(b,a){var d=a.filter;return d?(a=d.operator,b=b[d.property],d=d.value,">"===a&&b>d||"<"===
a&&b<d||">="===a&&b>=d||"<="===a&&b<=d||"=="===a&&b==d||"==="===a&&b===d?!0:!1):!0}function k(b,a){var d=[],c;if(l(b)&&!l(a))d=b.map(function(b){return e(b,a)});else if(l(a)&&!l(b))d=a.map(function(a){return e(b,a)});else if(l(b)||l(a))for(c=Math.max(b.length,a.length);c--;)d[c]=e(b[c],a[c]);else d=e(b,a);return d}var q=this,w=q.chart,b=q.options,d=b.dataLabels,m=q.points,r,K=q.hasRendered||0,g=d.animation;g=d.defer?E(w,g,q):{defer:0,duration:0};var J=w.renderer;d=k(k(w.options.plotOptions&&w.options.plotOptions.series&&
w.options.plotOptions.series.dataLabels,w.options.plotOptions&&w.options.plotOptions[q.type]&&w.options.plotOptions[q.type].dataLabels),d);v(this,"drawDataLabels");if(l(d)||d.enabled||q._hasPointLabels){var p=q.plotGroup("dataLabelsGroup","data-labels",K?"inherit":"hidden",d.zIndex||6);p.attr({opacity:+K});!K&&(K=q.dataLabelsGroup)&&(q.visible&&p.show(!0),K[b.animation?"animate":"attr"]({opacity:1},g));m.forEach(function(e){r=Q(k(d,e.dlOptions||e.options&&e.options.dataLabels));r.forEach(function(d,
f){var g=d.enabled&&(!e.isNull||e.dataLabelOnNull)&&a(e,d),h=e.dataLabels?e.dataLabels[f]:e.dataLabel,k=e.connectors?e.connectors[f]:e.connector,u=y(d.distance,e.labelDistance),l=!h;if(g){var m=e.getLabelConfig();var r=y(d[e.formatPrefix+"Format"],d.format);m=z(r)?c(r,m,w):(d[e.formatPrefix+"Formatter"]||d.formatter).call(m,d);r=d.style;var H=d.rotation;w.styledMode||(r.color=y(d.color,r.color,q.color,A.neutralColor100),"contrast"===r.color?(e.contrastColor=J.getContrast(e.color||q.color),r.color=
!z(u)&&d.inside||0>u||b.stacking?e.contrastColor:A.neutralColor100):delete e.contrastColor,b.cursor&&(r.cursor=b.cursor));var x={r:d.borderRadius||0,rotation:H,padding:d.padding,zIndex:1};w.styledMode||(x.fill=d.backgroundColor,x.stroke=d.borderColor,x["stroke-width"]=d.borderWidth);n(x,function(b,a){"undefined"===typeof b&&delete x[a]})}!h||g&&z(m)?g&&z(m)&&(h?x.text=m:(e.dataLabels=e.dataLabels||[],h=e.dataLabels[f]=H?J.text(m,0,-9999,d.useHTML).addClass("highcharts-data-label"):J.label(m,0,-9999,
d.shape,null,null,d.useHTML,null,"data-label"),f||(e.dataLabel=h),h.addClass(" highcharts-data-label-color-"+e.colorIndex+" "+(d.className||"")+(d.useHTML?" highcharts-tracker":""))),h.options=d,h.attr(x),w.styledMode||h.css(r).shadow(d.shadow),h.added||h.add(p),d.textPath&&!d.useHTML&&(h.setTextPath(e.getDataLabelPath&&e.getDataLabelPath(h)||e.graphic,d.textPath),e.dataLabelPath&&!d.textPath.enabled&&(e.dataLabelPath=e.dataLabelPath.destroy())),q.alignDataLabel(e,h,d,null,l)):(e.dataLabel=e.dataLabel&&
e.dataLabel.destroy(),e.dataLabels&&(1===e.dataLabels.length?delete e.dataLabels:delete e.dataLabels[f]),f||delete e.dataLabel,k&&(e.connector=e.connector.destroy(),e.connectors&&(1===e.connectors.length?delete e.connectors:delete e.connectors[f])))})})}v(this,"afterDrawDataLabels")};C.prototype.alignDataLabel=function(a,c,e,k,b){var d=this,h=this.chart,q=this.isCartesian&&h.inverted,l=this.enabledDataSorting,g=y(a.dlBox&&a.dlBox.centerX,a.plotX,-9999),n=y(a.plotY,-9999),p=c.getBBox(),f=e.rotation,
w=e.align,u=h.isInsidePlot(g,Math.round(n),q),m="justify"===y(e.overflow,l?"none":"justify"),t=this.visible&&!1!==a.visible&&(a.series.forceDL||l&&!m||u||e.inside&&k&&h.isInsidePlot(g,q?k.x+1:k.y+k.height-1,q));var v=function(e){l&&d.xAxis&&!m&&d.setDataLabelStartPos(a,c,b,u,e)};if(t){var x=h.renderer.fontMetrics(h.styledMode?void 0:e.style.fontSize,c).b;k=r({x:q?this.yAxis.len-n:g,y:Math.round(q?this.xAxis.len-g:n),width:0,height:0},k);r(e,{width:p.width,height:p.height});f?(m=!1,g=h.renderer.rotCorr(x,
f),g={x:k.x+(e.x||0)+k.width/2+g.x,y:k.y+(e.y||0)+{top:0,middle:.5,bottom:1}[e.verticalAlign]*k.height},v(g),c[b?"attr":"animate"](g).attr({align:w}),v=(f+720)%360,v=180<v&&360>v,"left"===w?g.y-=v?p.height:0:"center"===w?(g.x-=p.width/2,g.y-=p.height/2):"right"===w&&(g.x-=p.width,g.y-=v?0:p.height),c.placed=!0,c.alignAttr=g):(v(k),c.align(e,null,k),g=c.alignAttr);m&&0<=k.height?this.justifyDataLabel(c,e,g,p,k,b):y(e.crop,!0)&&(t=h.isInsidePlot(g.x,g.y)&&h.isInsidePlot(g.x+p.width,g.y+p.height));if(e.shape&&
!f)c[b?"attr":"animate"]({anchorX:q?h.plotWidth-a.plotY:a.plotX,anchorY:q?h.plotHeight-a.plotX:a.plotY})}b&&l&&(c.placed=!1);t||l&&!m||(c.hide(!0),c.placed=!1)};C.prototype.setDataLabelStartPos=function(a,c,e,k,b){var d=this.chart,h=d.inverted,q=this.xAxis,l=q.reversed,g=h?c.height/2:c.width/2;a=(a=a.pointWidth)?a/2:0;q=h?b.x:l?-g-a:q.width-g+a;b=h?l?this.yAxis.height-g+a:-g-a:b.y;c.startXPos=q;c.startYPos=b;k?"hidden"===c.visibility&&(c.show(),c.attr({opacity:0}).animate({opacity:1})):c.attr({opacity:1}).animate({opacity:0},
void 0,c.hide);d.hasRendered&&(e&&c.attr({x:c.startXPos,y:c.startYPos}),c.placed=!0)};C.prototype.justifyDataLabel=function(a,c,e,k,b,d){var h=this.chart,q=c.align,l=c.verticalAlign,g=a.box?0:a.padding||0,n=c.x;n=void 0===n?0:n;var p=c.y;var f=void 0===p?0:p;p=e.x+g;if(0>p){"right"===q&&0<=n?(c.align="left",c.inside=!0):n-=p;var w=!0}p=e.x+k.width-g;p>h.plotWidth&&("left"===q&&0>=n?(c.align="right",c.inside=!0):n+=h.plotWidth-p,w=!0);p=e.y+g;0>p&&("bottom"===l&&0<=f?(c.verticalAlign="top",c.inside=
!0):f-=p,w=!0);p=e.y+k.height-g;p>h.plotHeight&&("top"===l&&0>=f?(c.verticalAlign="bottom",c.inside=!0):f+=h.plotHeight-p,w=!0);w&&(c.x=n,c.y=f,a.placed=!d,a.align(c,void 0,b));return w};F.pie&&(F.pie.prototype.dataLabelPositioners={radialDistributionY:function(a){return a.top+a.distributeBox.pos},radialDistributionX:function(a,c,e,k){return a.getX(e<c.top+2||e>c.bottom-2?k:e,c.half,c)},justify:function(a,c,e){return e[0]+(a.half?-1:1)*(c+a.labelDistance)},alignToPlotEdges:function(a,c,e,k){a=a.getBBox().width;
return c?a+k:e-a-k},alignToConnectors:function(a,c,e,k){var b=0,d;a.forEach(function(a){d=a.dataLabel.getBBox().width;d>b&&(b=d)});return c?b+k:e-b-k}},F.pie.prototype.drawDataLabels=function(){var a=this,c=a.data,k,l=a.chart,b=a.options.dataLabels||{},d=b.connectorPadding,n,w=l.plotWidth,r=l.plotHeight,g=l.plotLeft,v=Math.round(l.chartWidth/3),p,f=a.center,H=f[2]/2,u=f[1],B,t,Q,E,F=[[],[]],D,O,N,S,U=[0,0,0,0],Z=a.dataLabelPositioners,V;a.visible&&(b.enabled||a._hasPointLabels)&&(c.forEach(function(b){b.dataLabel&&
b.visible&&b.dataLabel.shortened&&(b.dataLabel.attr({width:"auto"}).css({width:"auto",textOverflow:"clip"}),b.dataLabel.shortened=!1)}),C.prototype.drawDataLabels.apply(a),c.forEach(function(a){a.dataLabel&&(a.visible?(F[a.half].push(a),a.dataLabel._pos=null,!z(b.style.width)&&!z(a.options.dataLabels&&a.options.dataLabels.style&&a.options.dataLabels.style.width)&&a.dataLabel.getBBox().width>v&&(a.dataLabel.css({width:Math.round(.7*v)+"px"}),a.dataLabel.shortened=!0)):(a.dataLabel=a.dataLabel.destroy(),
a.dataLabels&&1===a.dataLabels.length&&delete a.dataLabels))}),F.forEach(function(c,e){var p=c.length,h=[],q;if(p){a.sortByAngle(c,e-.5);if(0<a.maxLabelDistance){var n=Math.max(0,u-H-a.maxLabelDistance);var v=Math.min(u+H+a.maxLabelDistance,l.plotHeight);c.forEach(function(b){0<b.labelDistance&&b.dataLabel&&(b.top=Math.max(0,u-H-b.labelDistance),b.bottom=Math.min(u+H+b.labelDistance,l.plotHeight),q=b.dataLabel.getBBox().height||21,b.distributeBox={target:b.labelPosition.natural.y-b.top+q/2,size:q,
rank:b.y},h.push(b.distributeBox))});n=v+q-n;m.distribute(h,n,n/5)}for(S=0;S<p;S++){k=c[S];Q=k.labelPosition;B=k.dataLabel;N=!1===k.visible?"hidden":"inherit";O=n=Q.natural.y;h&&z(k.distributeBox)&&("undefined"===typeof k.distributeBox.pos?N="hidden":(E=k.distributeBox.size,O=Z.radialDistributionY(k)));delete k.positionIndex;if(b.justify)D=Z.justify(k,H,f);else switch(b.alignTo){case "connectors":D=Z.alignToConnectors(c,e,w,g);break;case "plotEdges":D=Z.alignToPlotEdges(B,e,w,g);break;default:D=Z.radialDistributionX(a,
k,O,n)}B._attr={visibility:N,align:Q.alignment};V=k.options.dataLabels||{};B._pos={x:D+y(V.x,b.x)+({left:d,right:-d}[Q.alignment]||0),y:O+y(V.y,b.y)-10};Q.final.x=D;Q.final.y=O;y(b.crop,!0)&&(t=B.getBBox().width,n=null,D-t<d&&1===e?(n=Math.round(t-D+d),U[3]=Math.max(n,U[3])):D+t>w-d&&0===e&&(n=Math.round(D+t-w+d),U[1]=Math.max(n,U[1])),0>O-E/2?U[0]=Math.max(Math.round(-O+E/2),U[0]):O+E/2>r&&(U[2]=Math.max(Math.round(O+E/2-r),U[2])),B.sideOverflow=n)}}}),0===I(U)||this.verifyDataLabelOverflow(U))&&
(this.placeDataLabels(),this.points.forEach(function(d){V=e(b,d.options.dataLabels);if(n=y(V.connectorWidth,1)){var c;p=d.connector;if((B=d.dataLabel)&&B._pos&&d.visible&&0<d.labelDistance){N=B._attr.visibility;if(c=!p)d.connector=p=l.renderer.path().addClass("highcharts-data-label-connector  highcharts-color-"+d.colorIndex+(d.className?" "+d.className:"")).add(a.dataLabelsGroup),l.styledMode||p.attr({"stroke-width":n,stroke:V.connectorColor||d.color||A.neutralColor60});p[c?"attr":"animate"]({d:d.getConnectorPath()});
p.attr("visibility",N)}else p&&(d.connector=p.destroy())}}))},F.pie.prototype.placeDataLabels=function(){this.points.forEach(function(a){var c=a.dataLabel,e;c&&a.visible&&((e=c._pos)?(c.sideOverflow&&(c._attr.width=Math.max(c.getBBox().width-c.sideOverflow,0),c.css({width:c._attr.width+"px",textOverflow:(this.options.dataLabels.style||{}).textOverflow||"ellipsis"}),c.shortened=!0),c.attr(c._attr),c[c.moved?"animate":"attr"](e),c.moved=!0):c&&c.attr({y:-9999}));delete a.distributeBox},this)},F.pie.prototype.alignDataLabel=
a,F.pie.prototype.verifyDataLabelOverflow=function(a){var c=this.center,e=this.options,h=e.center,b=e.minSize||80,d=null!==e.size;if(!d){if(null!==h[0])var l=Math.max(c[2]-Math.max(a[1],a[3]),b);else l=Math.max(c[2]-a[1]-a[3],b),c[0]+=(a[3]-a[1])/2;null!==h[1]?l=B(l,b,c[2]-Math.max(a[0],a[2])):(l=B(l,b,c[2]-a[0]-a[2]),c[1]+=(a[0]-a[2])/2);l<c[2]?(c[2]=l,c[3]=Math.min(k(e.innerSize||0,l),l),this.translate(c),this.drawDataLabels&&this.drawDataLabels()):d=!0}return d});F.column&&(F.column.prototype.alignDataLabel=
function(a,c,k,l,b){var d=this.chart.inverted,h=a.series,q=a.dlBox||a.shapeArgs,n=y(a.below,a.plotY>y(this.translatedThreshold,h.yAxis.len)),g=y(k.inside,!!this.options.stacking);q&&(l=e(q),0>l.y&&(l.height+=l.y,l.y=0),q=l.y+l.height-h.yAxis.len,0<q&&q<l.height&&(l.height-=q),d&&(l={x:h.yAxis.len-l.y-l.height,y:h.xAxis.len-l.x-l.width,width:l.height,height:l.width}),g||(d?(l.x+=n?0:l.width,l.width=0):(l.y+=n?l.height:0,l.height=0)));k.align=y(k.align,!d||g?"center":n?"right":"left");k.verticalAlign=
y(k.verticalAlign,d||g?"middle":n?"top":"bottom");C.prototype.alignDataLabel.call(this,a,c,k,l,b);k.inside&&a.contrastColor&&c.css({color:a.contrastColor})})});S(a,"Extensions/OverlappingDataLabels.js",[a["Core/Chart/Chart.js"],a["Core/Utilities.js"]],function(a,m){var A=m.addEvent,C=m.fireEvent,F=m.isArray,O=m.isNumber,E=m.objectEach,I=m.pick;A(a,"render",function(){var a=[];(this.labelCollectors||[]).forEach(function(m){a=a.concat(m())});(this.yAxis||[]).forEach(function(m){m.stacking&&m.options.stackLabels&&
!m.options.stackLabels.allowOverlap&&E(m.stacking.stacks,function(m){E(m,function(m){a.push(m.label)})})});(this.series||[]).forEach(function(m){var r=m.options.dataLabels;m.visible&&(!1!==r.enabled||m._hasPointLabels)&&(r=function(m){return m.forEach(function(c){c.visible&&(F(c.dataLabels)?c.dataLabels:c.dataLabel?[c.dataLabel]:[]).forEach(function(l){var e=l.options;l.labelrank=I(e.labelrank,c.labelrank,c.shapeArgs&&c.shapeArgs.height);e.allowOverlap||a.push(l)})})},r(m.nodes||[]),r(m.points))});
this.hideOverlappingLabels(a)});a.prototype.hideOverlappingLabels=function(a){var m=this,r=a.length,v=m.renderer,c,l,e,n=!1;var y=function(a){var c,e=a.box?0:a.padding||0,k=c=0,l;if(a&&(!a.alignAttr||a.placed)){var b=a.alignAttr||{x:a.attr("x"),y:a.attr("y")};var d=a.parentGroup;a.width||(c=a.getBBox(),a.width=c.width,a.height=c.height,c=v.fontMetrics(null,a.element).h);var n=a.width-2*e;(l={left:"0",center:"0.5",right:"1"}[a.alignValue])?k=+l*n:O(a.x)&&Math.round(a.x)!==a.translateX&&(k=a.x-a.translateX);
return{x:b.x+(d.translateX||0)+e-(k||0),y:b.y+(d.translateY||0)+e-c,width:a.width-2*e,height:a.height-2*e}}};for(l=0;l<r;l++)if(c=a[l])c.oldOpacity=c.opacity,c.newOpacity=1,c.absoluteBox=y(c);a.sort(function(a,c){return(c.labelrank||0)-(a.labelrank||0)});for(l=0;l<r;l++){var k=(y=a[l])&&y.absoluteBox;for(c=l+1;c<r;++c){var B=(e=a[c])&&e.absoluteBox;!k||!B||y===e||0===y.newOpacity||0===e.newOpacity||B.x>=k.x+k.width||B.x+B.width<=k.x||B.y>=k.y+k.height||B.y+B.height<=k.y||((y.labelrank<e.labelrank?
y:e).newOpacity=0)}}a.forEach(function(a){if(a){var c=a.newOpacity;a.oldOpacity!==c&&(a.alignAttr&&a.placed?(a[c?"removeClass":"addClass"]("highcharts-data-label-hidden"),n=!0,a.alignAttr.opacity=c,a[a.isOld?"animate":"attr"](a.alignAttr,null,function(){m.styledMode||a.css({pointerEvents:c?"auto":"none"});a.visibility=c?"inherit":"hidden"}),C(m,"afterHideOverlappingLabel")):a.attr({opacity:c}));a.isOld=!0}});n&&C(m,"afterHideAllOverlappingLabels")}});S(a,"Core/Responsive.js",[a["Core/Chart/Chart.js"],
a["Core/Utilities.js"]],function(a,m){var A=m.find,C=m.isArray,F=m.isObject,O=m.merge,E=m.objectEach,I=m.pick,B=m.splat,z=m.uniqueKey;a.prototype.setResponsive=function(a,m){var c=this.options.responsive,l=[],e=this.currentResponsive;!m&&c&&c.rules&&c.rules.forEach(function(a){"undefined"===typeof a._id&&(a._id=z());this.matchResponsiveRule(a,l)},this);m=O.apply(0,l.map(function(a){return A(c.rules,function(c){return c._id===a}).chartOptions}));m.isResponsiveOptions=!0;l=l.toString()||void 0;l!==
(e&&e.ruleIds)&&(e&&this.update(e.undoOptions,a,!0),l?(e=this.currentOptions(m),e.isResponsiveOptions=!0,this.currentResponsive={ruleIds:l,mergedOptions:m,undoOptions:e},this.update(m,a,!0)):this.currentResponsive=void 0)};a.prototype.matchResponsiveRule=function(a,m){var c=a.condition;(c.callback||function(){return this.chartWidth<=I(c.maxWidth,Number.MAX_VALUE)&&this.chartHeight<=I(c.maxHeight,Number.MAX_VALUE)&&this.chartWidth>=I(c.minWidth,0)&&this.chartHeight>=I(c.minHeight,0)}).call(this)&&
m.push(a._id)};a.prototype.currentOptions=function(a){function m(a,l,r,k){var e;E(a,function(a,h){if(!k&&-1<c.collectionsWithUpdate.indexOf(h)&&l[h])for(a=B(a),r[h]=[],e=0;e<Math.max(a.length,l[h].length);e++)l[h][e]&&(void 0===a[e]?r[h][e]=l[h][e]:(r[h][e]={},m(a[e],l[h][e],r[h][e],k+1)));else F(a)?(r[h]=C(a)?[]:{},m(a,l[h]||{},r[h],k+1)):r[h]="undefined"===typeof l[h]?null:l[h]})}var c=this,l={};m(a,this.options,l,0);return l}});S(a,"masters/highcharts.src.js",[a["Core/Globals.js"],a["Core/Utilities.js"],
a["Core/Renderer/HTML/AST.js"],a["Core/Series/Series.js"]],function(a,m,A,C){a.addEvent=m.addEvent;a.arrayMax=m.arrayMax;a.arrayMin=m.arrayMin;a.attr=m.attr;a.clearTimeout=m.clearTimeout;a.correctFloat=m.correctFloat;a.createElement=m.createElement;a.css=m.css;a.defined=m.defined;a.destroyObjectProperties=m.destroyObjectProperties;a.discardElement=m.discardElement;a.erase=m.erase;a.error=m.error;a.extend=m.extend;a.extendClass=m.extendClass;a.find=m.find;a.fireEvent=m.fireEvent;a.format=m.format;
a.getMagnitude=m.getMagnitude;a.getStyle=m.getStyle;a.inArray=m.inArray;a.isArray=m.isArray;a.isClass=m.isClass;a.isDOMElement=m.isDOMElement;a.isFunction=m.isFunction;a.isNumber=m.isNumber;a.isObject=m.isObject;a.isString=m.isString;a.keys=m.keys;a.merge=m.merge;a.normalizeTickInterval=m.normalizeTickInterval;a.numberFormat=m.numberFormat;a.objectEach=m.objectEach;a.offset=m.offset;a.pad=m.pad;a.pick=m.pick;a.pInt=m.pInt;a.relativeLength=m.relativeLength;a.removeEvent=m.removeEvent;a.splat=m.splat;
a.stableSort=m.stableSort;a.syncTimeout=m.syncTimeout;a.timeUnits=m.timeUnits;a.uniqueKey=m.uniqueKey;a.useSerialIds=m.useSerialIds;a.wrap=m.wrap;a.AST=A;a.Series=C;return a});S(a,"Core/Axis/NavigatorAxis.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var A=a.isTouchDevice,C=m.addEvent,F=m.correctFloat,N=m.defined,E=m.isNumber,I=m.pick,B=function(){function a(a){this.axis=a}a.prototype.destroy=function(){this.axis=void 0};a.prototype.toFixedRange=function(a,m,c,l){var e=this.axis,
n=e.chart;n=n&&n.fixedRange;var r=(e.pointRange||0)/2;a=I(c,e.translate(a,!0,!e.horiz));m=I(l,e.translate(m,!0,!e.horiz));e=n&&(m-a)/n;N(c)||(a=F(a+r));N(l)||(m=F(m-r));.7<e&&1.3>e&&(l?a=m-n:m=a+n);E(a)&&E(m)||(a=m=void 0);return{min:a,max:m}};return a}();return function(){function a(){}a.compose=function(a){a.keepProps.push("navigatorAxis");C(a,"init",function(){this.navigatorAxis||(this.navigatorAxis=new B(this))});C(a,"zoom",function(a){var c=this.chart.options,l=c.navigator,e=this.navigatorAxis,
n=c.chart.pinchType,m=c.rangeSelector;c=c.chart.zoomType;this.isXAxis&&(l&&l.enabled||m&&m.enabled)&&("y"===c?a.zoomed=!1:(!A&&"xy"===c||A&&"xy"===n)&&this.options.range&&(l=e.previousZoom,N(a.newMin)?e.previousZoom=[this.min,this.max]:l&&(a.newMin=l[0],a.newMax=l[1],e.previousZoom=void 0)));"undefined"!==typeof a.zoomed&&a.preventDefault()})};a.AdditionsClass=B;return a}()});S(a,"Core/Axis/ScrollbarAxis.js",[a["Core/Globals.js"],a["Core/Utilities.js"]],function(a,m){var A=m.addEvent,C=m.defined,
F=m.pick;return function(){function m(){}m.compose=function(m,I){var B=function(a){var m=F(a.options&&a.options.min,a.min),v=F(a.options&&a.options.max,a.max);return{axisMin:m,axisMax:v,scrollMin:C(a.dataMin)?Math.min(m,a.min,a.dataMin,F(a.threshold,Infinity)):m,scrollMax:C(a.dataMax)?Math.max(v,a.max,a.dataMax,F(a.threshold,-Infinity)):v}};A(m,"afterInit",function(){var m=this;m.options&&m.options.scrollbar&&m.options.scrollbar.enabled&&(m.options.scrollbar.vertical=!m.horiz,m.options.startOnTick=
m.options.endOnTick=!1,m.scrollbar=new I(m.chart.renderer,m.options.scrollbar,m.chart),A(m.scrollbar,"changed",function(r){var v=B(m),c=v.axisMax,l=v.scrollMin,e=v.scrollMax-l;C(v.axisMin)&&C(c)&&(m.horiz&&!m.reversed||!m.horiz&&m.reversed?(v=l+e*this.to,l+=e*this.from):(v=l+e*(1-this.from),l+=e*(1-this.to)),F(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===r.DOMType||"touchend"===r.DOMType||!C(r.DOMType)?m.setExtremes(l,v,!0,"mousemove"!==r.DOMType&&"touchmove"!==
r.DOMType,r):this.setRange(this.from,this.to))}))});A(m,"afterRender",function(){var a=B(this),m=a.scrollMin,v=a.scrollMax;a=this.scrollbar;var c=this.axisTitleMargin+(this.titleOffset||0),l=this.chart.scrollbarsOffsets,e=this.options.margin||0;a&&(this.horiz?(this.opposite||(l[1]+=c),a.position(this.left,this.top+this.height+2+l[1]-(this.opposite?e:0),this.width,this.height),this.opposite||(l[1]+=e),c=1):(this.opposite&&(l[0]+=c),a.position(this.left+this.width+2+l[0]-(this.opposite?0:e),this.top,
this.width,this.height),this.opposite&&(l[0]+=e),c=0),l[c]+=a.size+a.options.margin,isNaN(m)||isNaN(v)||!C(this.min)||!C(this.max)||this.min===this.max?a.setRange(0,1):(l=(this.min-m)/(v-m),m=(this.max-m)/(v-m),this.horiz&&!this.reversed||!this.horiz&&this.reversed?a.setRange(l,m):a.setRange(1-m,1-l)))});A(m,"afterGetOffset",function(){var a=this.horiz?2:1,m=this.scrollbar;m&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[a]+=m.size+m.options.margin)})};return m}()});S(a,"Core/Scrollbar.js",
[a["Core/Axis/Axis.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Axis/ScrollbarAxis.js"],a["Core/Utilities.js"],a["Core/Options.js"]],function(a,m,A,C,F,N){var E=F.addEvent,I=F.correctFloat,B=F.defined,z=F.destroyObjectProperties,r=F.fireEvent,v=F.merge,c=F.pick,l=F.removeEvent;F=N.defaultOptions;var e=m.isTouchDevice,n=m.swapXY=function(a,c){c&&a.forEach(function(a){for(var c=a.length,e,k=0;k<c;k+=2)e=a[k+1],"number"===typeof e&&(a[k+1]=a[k+2],a[k+2]=e)});return a};N=function(){function a(a,
c,e){this._events=[];this.from=this.chartY=this.chartX=0;this.scrollbar=this.group=void 0;this.scrollbarButtons=[];this.scrollbarGroup=void 0;this.scrollbarLeft=0;this.scrollbarRifles=void 0;this.scrollbarStrokeWidth=1;this.to=this.size=this.scrollbarTop=0;this.track=void 0;this.trackBorderWidth=1;this.userOptions={};this.y=this.x=0;this.chart=e;this.options=c;this.renderer=e.renderer;this.init(a,c,e)}a.prototype.addEvents=function(){var a=this.options.inverted?[1,0]:[0,1],c=this.scrollbarButtons,
e=this.scrollbarGroup.element,h=this.track.element,l=this.mouseDownHandler.bind(this),q=this.mouseMoveHandler.bind(this),n=this.mouseUpHandler.bind(this);a=[[c[a[0]].element,"click",this.buttonToMinClick.bind(this)],[c[a[1]].element,"click",this.buttonToMaxClick.bind(this)],[h,"click",this.trackClick.bind(this)],[e,"mousedown",l],[e.ownerDocument,"mousemove",q],[e.ownerDocument,"mouseup",n]];m.hasTouch&&a.push([e,"touchstart",l],[e.ownerDocument,"touchmove",q],[e.ownerDocument,"touchend",n]);a.forEach(function(a){E.apply(null,
a)});this._events=a};a.prototype.buttonToMaxClick=function(a){var e=(this.to-this.from)*c(this.options.step,.2);this.updatePosition(this.from+e,this.to+e);r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})};a.prototype.buttonToMinClick=function(a){var e=I(this.to-this.from)*c(this.options.step,.2);this.updatePosition(I(this.from-e),I(this.to-e));r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})};a.prototype.cursorToScrollbarPosition=function(a){var c=
this.options;c=c.minWidth>this.calculatedWidth?c.minWidth:0;return{chartX:(a.chartX-this.x-this.xOffset)/(this.barWidth-c),chartY:(a.chartY-this.y-this.yOffset)/(this.barWidth-c)}};a.prototype.destroy=function(){var a=this.chart.scroller;this.removeEvents();["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(a){this[a]&&this[a].destroy&&(this[a]=this[a].destroy())},this);a&&this===a.scrollbar&&(a.scrollbar=null,z(a.scrollbarButtons))};a.prototype.drawScrollbarButton=
function(a){var c=this.renderer,e=this.scrollbarButtons,k=this.options,l=this.size;var q=c.g().add(this.group);e.push(q);q=c.rect().addClass("highcharts-scrollbar-button").add(q);this.chart.styledMode||q.attr({stroke:k.buttonBorderColor,"stroke-width":k.buttonBorderWidth,fill:k.buttonBackgroundColor});q.attr(q.crisp({x:-.5,y:-.5,width:l+1,height:l+1,r:k.buttonBorderRadius},q.strokeWidth()));q=c.path(n([["M",l/2+(a?-1:1),l/2-3],["L",l/2+(a?-1:1),l/2+3],["L",l/2+(a?2:-2),l/2]],k.vertical)).addClass("highcharts-scrollbar-arrow").add(e[a]);
this.chart.styledMode||q.attr({fill:k.buttonArrowColor})};a.prototype.init=function(e,l,n){this.scrollbarButtons=[];this.renderer=e;this.userOptions=l;this.options=v(a.defaultOptions,l);this.chart=n;this.size=c(this.options.size,this.options.height);l.enabled&&(this.render(),this.addEvents())};a.prototype.mouseDownHandler=function(a){a=this.chart.pointer.normalize(a);a=this.cursorToScrollbarPosition(a);this.chartX=a.chartX;this.chartY=a.chartY;this.initPositions=[this.from,this.to];this.grabbedCenter=
!0};a.prototype.mouseMoveHandler=function(a){var c=this.chart.pointer.normalize(a),e=this.options.vertical?"chartY":"chartX",k=this.initPositions||[];!this.grabbedCenter||a.touches&&0===a.touches[0][e]||(c=this.cursorToScrollbarPosition(c)[e],e=this[e],e=c-e,this.hasDragged=!0,this.updatePosition(k[0]+e,k[1]+e),this.hasDragged&&r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a}))};a.prototype.mouseUpHandler=function(a){this.hasDragged&&r(this,"changed",{from:this.from,
to:this.to,trigger:"scrollbar",DOMType:a.type,DOMEvent:a});this.grabbedCenter=this.hasDragged=this.chartX=this.chartY=null};a.prototype.position=function(a,c,e,h){var k=this.options.vertical,l=0,n=this.rendered?"animate":"attr";this.x=a;this.y=c+this.trackBorderWidth;this.width=e;this.xOffset=this.height=h;this.yOffset=l;k?(this.width=this.yOffset=e=l=this.size,this.xOffset=c=0,this.barWidth=h-2*e,this.x=a+=this.options.margin):(this.height=this.xOffset=h=c=this.size,this.barWidth=e-2*h,this.y+=this.options.margin);
this.group[n]({translateX:a,translateY:this.y});this.track[n]({width:e,height:h});this.scrollbarButtons[1][n]({translateX:k?0:e-c,translateY:k?h-l:0})};a.prototype.removeEvents=function(){this._events.forEach(function(a){l.apply(null,a)});this._events.length=0};a.prototype.render=function(){var a=this.renderer,c=this.options,e=this.size,h=this.chart.styledMode,l;this.group=l=a.g("scrollbar").attr({zIndex:c.zIndex,translateY:-99999}).add();this.track=a.rect().addClass("highcharts-scrollbar-track").attr({x:0,
r:c.trackBorderRadius||0,height:e,width:e}).add(l);h||this.track.attr({fill:c.trackBackgroundColor,stroke:c.trackBorderColor,"stroke-width":c.trackBorderWidth});this.trackBorderWidth=this.track.strokeWidth();this.track.attr({y:-this.trackBorderWidth%2/2});this.scrollbarGroup=a.g().add(l);this.scrollbar=a.rect().addClass("highcharts-scrollbar-thumb").attr({height:e,width:e,r:c.barBorderRadius||0}).add(this.scrollbarGroup);this.scrollbarRifles=a.path(n([["M",-3,e/4],["L",-3,2*e/3],["M",0,e/4],["L",
0,2*e/3],["M",3,e/4],["L",3,2*e/3]],c.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup);h||(this.scrollbar.attr({fill:c.barBackgroundColor,stroke:c.barBorderColor,"stroke-width":c.barBorderWidth}),this.scrollbarRifles.attr({stroke:c.rifleColor,"stroke-width":1}));this.scrollbarStrokeWidth=this.scrollbar.strokeWidth();this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2);this.drawScrollbarButton(0);this.drawScrollbarButton(1)};a.prototype.setRange=
function(a,c){var e=this.options,k=e.vertical,l=e.minWidth,q=this.barWidth,n,b=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(B(q)){a=Math.max(a,0);var d=Math.ceil(q*a);this.calculatedWidth=n=I(q*Math.min(c,1)-d);n<l&&(d=(q-l+n)*a,n=l);l=Math.floor(d+this.xOffset+this.yOffset);q=n/2-.5;this.from=a;this.to=c;k?(this.scrollbarGroup[b]({translateY:l}),this.scrollbar[b]({height:n}),this.scrollbarRifles[b]({translateY:q}),this.scrollbarTop=l,
this.scrollbarLeft=0):(this.scrollbarGroup[b]({translateX:l}),this.scrollbar[b]({width:n}),this.scrollbarRifles[b]({translateX:q}),this.scrollbarLeft=l,this.scrollbarTop=0);12>=n?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0);!1===e.showFull&&(0>=a&&1<=c?this.group.hide():this.group.show());this.rendered=!0}};a.prototype.trackClick=function(a){var c=this.chart.pointer.normalize(a),e=this.to-this.from,k=this.y+this.scrollbarTop,l=this.x+this.scrollbarLeft;this.options.vertical&&c.chartY>
k||!this.options.vertical&&c.chartX>l?this.updatePosition(this.from+e,this.to+e):this.updatePosition(this.from-e,this.to-e);r(this,"changed",{from:this.from,to:this.to,trigger:"scrollbar",DOMEvent:a})};a.prototype.update=function(a){this.destroy();this.init(this.chart.renderer,v(!0,this.options,a),this.chart)};a.prototype.updatePosition=function(a,c){1<c&&(a=I(1-I(c-a)),c=1);0>a&&(c=I(c-a),a=0);this.from=a;this.to=c};a.defaultOptions={height:e?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,
margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:A.neutralColor20,barBorderWidth:1,barBorderColor:A.neutralColor20,buttonArrowColor:A.neutralColor80,buttonBackgroundColor:A.neutralColor10,buttonBorderColor:A.neutralColor20,buttonBorderWidth:1,rifleColor:A.neutralColor80,trackBackgroundColor:A.neutralColor5,trackBorderColor:A.neutralColor5,trackBorderWidth:1};return a}();m.Scrollbar||(F.scrollbar=v(!0,N.defaultOptions,F.scrollbar),m.Scrollbar=N,C.compose(a,N));return m.Scrollbar});S(a,"Core/Navigator.js",
[a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Color/Color.js"],a["Core/Globals.js"],a["Core/Axis/NavigatorAxis.js"],a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Scrollbar.js"],a["Core/Series/Series.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I,B,z,r){A=A.parse;var v=C.hasTouch,c=C.isTouchDevice,l=N.defaultOptions,e=r.addEvent,n=r.clamp,y=r.correctFloat,k=r.defined,Q=r.destroyObjectProperties,w=r.erase,h=r.extend,G=r.find,q=r.isArray,
x=r.isNumber,b=r.merge,d=r.pick,L=r.removeEvent,M=r.splat,K=function(a){for(var b=[],c=1;c<arguments.length;c++)b[c-1]=arguments[c];b=[].filter.call(b,x);if(b.length)return Math[a].apply(0,b)};N="undefined"===typeof z.seriesTypes.areaspline?"line":"areaspline";h(l,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:E.neutralColor5,borderColor:E.neutralColor40},maskFill:A(E.highlightColor60).setOpacity(.3).get(),
outlineColor:E.neutralColor20,outlineWidth:1,series:{type:N,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,
marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:E.neutralColor10,gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:E.neutralColor40},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}});C.Renderer.prototype.symbols["navigator-handle"]=
function(a,b,c,d,e){a=(e&&e.width||0)/2;b=Math.round(a/3)+.5;e=e&&e.height||0;return[["M",-a-1,.5],["L",a,.5],["L",a,e+.5],["L",-a-1,e+.5],["L",-a-1,.5],["M",-b,4],["L",-b,e-3],["M",b-1,4],["L",b-1,e-3]]};var g=function(){function g(a){this.zoomedMin=this.zoomedMax=this.yAxis=this.xAxis=this.top=this.size=this.shades=this.rendered=this.range=this.outlineHeight=this.outline=this.opposite=this.navigatorSize=this.navigatorSeries=this.navigatorOptions=this.navigatorGroup=this.navigatorEnabled=this.left=
this.height=this.handles=this.chart=this.baseSeries=void 0;this.init(a)}g.prototype.drawHandle=function(a,b,c,d){var e=this.navigatorOptions.handles.height;this.handles[b][d](c?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(a,10)+.5-e)}:{translateX:Math.round(this.left+parseInt(a,10)),translateY:Math.round(this.top+this.height/2-e/2-1)})};g.prototype.drawOutline=function(a,b,c,d){var e=this.navigatorOptions.maskInside,f=this.outline.strokeWidth(),g=f/2,p=f%
2/2;f=this.outlineHeight;var k=this.scrollbarHeight||0,h=this.size,l=this.left-k,n=this.top;c?(l-=g,c=n+b+p,b=n+a+p,p=[["M",l+f,n-k-p],["L",l+f,c],["L",l,c],["L",l,b],["L",l+f,b],["L",l+f,n+h+k]],e&&p.push(["M",l+f,c-g],["L",l+f,b+g])):(a+=l+k-p,b+=l+k-p,n+=g,p=[["M",l,n],["L",a,n],["L",a,n+f],["L",b,n+f],["L",b,n],["L",l+h+2*k,n]],e&&p.push(["M",a-g,n],["L",b+g,n]));this.outline[d]({d:p})};g.prototype.drawMasks=function(a,b,c,d){var e=this.left,f=this.top,g=this.height;if(c){var p=[e,e,e];var k=
[f,f+a,f+b];var h=[g,g,g];var l=[a,b-a,this.size-b]}else p=[e,e+a,e+b],k=[f,f,f],h=[a,b-a,this.size-b],l=[g,g,g];this.shades.forEach(function(a,b){a[d]({x:p[b],y:k[b],width:h[b],height:l[b]})})};g.prototype.renderElements=function(){var a=this,b=a.navigatorOptions,c=b.maskInside,d=a.chart,e=d.renderer,g,k={cursor:d.inverted?"ns-resize":"ew-resize"};a.navigatorGroup=g=e.g("navigator").attr({zIndex:8,visibility:"hidden"}).add();[!c,c,!c].forEach(function(c,f){a.shades[f]=e.rect().addClass("highcharts-navigator-mask"+
(1===f?"-inside":"-outside")).add(g);d.styledMode||a.shades[f].attr({fill:c?b.maskFill:"rgba(0,0,0,0)"}).css(1===f&&k)});a.outline=e.path().addClass("highcharts-navigator-outline").add(g);d.styledMode||a.outline.attr({"stroke-width":b.outlineWidth,stroke:b.outlineColor});b.handles.enabled&&[0,1].forEach(function(c){b.handles.inverted=d.inverted;a.handles[c]=e.symbol(b.handles.symbols[c],-b.handles.width/2-1,0,b.handles.width,b.handles.height,b.handles);a.handles[c].attr({zIndex:7-c}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+
["left","right"][c]).add(g);if(!d.styledMode){var f=b.handles;a.handles[c].attr({fill:f.backgroundColor,stroke:f.borderColor,"stroke-width":f.lineWidth}).css(k)}})};g.prototype.update=function(a){(this.series||[]).forEach(function(a){a.baseSeries&&delete a.baseSeries.navigatorSeries});this.destroy();b(!0,this.chart.options.navigator,this.options,a);this.init(this.chart)};g.prototype.render=function(a,b,c,e){var f=this.chart,g=this.scrollbarHeight,p,h=this.xAxis,l=h.pointRange||0;var q=h.navigatorAxis.fake?
f.xAxis[0]:h;var u=this.navigatorEnabled,m,r=this.rendered;var w=f.inverted;var H=f.xAxis[0].minRange,v=f.xAxis[0].options.maxRange;if(!this.hasDragged||k(c)){a=y(a-l/2);b=y(b+l/2);if(!x(a)||!x(b))if(r)c=0,e=d(h.width,q.width);else return;this.left=d(h.left,f.plotLeft+g+(w?f.plotWidth:0));this.size=m=p=d(h.len,(w?f.plotHeight:f.plotWidth)-2*g);f=w?g:p+2*g;c=d(c,h.toPixels(a,!0));e=d(e,h.toPixels(b,!0));x(c)&&Infinity!==Math.abs(c)||(c=0,e=f);a=h.toValue(c,!0);b=h.toValue(e,!0);var J=Math.abs(y(b-
a));J<H?this.grabbedLeft?c=h.toPixels(b-H-l,!0):this.grabbedRight&&(e=h.toPixels(a+H+l,!0)):k(v)&&y(J-l)>v&&(this.grabbedLeft?c=h.toPixels(b-v-l,!0):this.grabbedRight&&(e=h.toPixels(a+v+l,!0)));this.zoomedMax=n(Math.max(c,e),0,m);this.zoomedMin=n(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(c,e),0,m);this.range=this.zoomedMax-this.zoomedMin;m=Math.round(this.zoomedMax);c=Math.round(this.zoomedMin);u&&(this.navigatorGroup.attr({visibility:"visible"}),r=r&&!this.hasDragged?"animate":"attr",
this.drawMasks(c,m,w,r),this.drawOutline(c,m,w,r),this.navigatorOptions.handles.enabled&&(this.drawHandle(c,0,w,r),this.drawHandle(m,1,w,r)));this.scrollbar&&(w?(w=this.top-g,q=this.left-g+(u||!q.opposite?0:(q.titleOffset||0)+q.axisTitleMargin),g=p+2*g):(w=this.top+(u?this.height:-g),q=this.left-g),this.scrollbar.position(q,w,f,g),this.scrollbar.setRange(this.zoomedMin/(p||1),this.zoomedMax/(p||1)));this.rendered=!0}};g.prototype.addMouseEvents=function(){var a=this,b=a.chart,c=b.container,d=[],g,
k;a.mouseMoveHandler=g=function(b){a.onMouseMove(b)};a.mouseUpHandler=k=function(b){a.onMouseUp(b)};d=a.getPartsEvents("mousedown");d.push(e(b.renderTo,"mousemove",g),e(c.ownerDocument,"mouseup",k));v&&(d.push(e(b.renderTo,"touchmove",g),e(c.ownerDocument,"touchend",k)),d.concat(a.getPartsEvents("touchstart")));a.eventsToUnbind=d;a.series&&a.series[0]&&d.push(e(a.series[0].xAxis,"foundExtremes",function(){b.navigator.modifyNavigatorAxisExtremes()}))};g.prototype.getPartsEvents=function(a){var b=this,
c=[];["shades","handles"].forEach(function(d){b[d].forEach(function(f,g){c.push(e(f.element,a,function(a){b[d+"Mousedown"](a,g)}))})});return c};g.prototype.shadesMousedown=function(a,b){a=this.chart.pointer.normalize(a);var c=this.chart,d=this.xAxis,e=this.zoomedMin,f=this.left,g=this.size,p=this.range,h=a.chartX;c.inverted&&(h=a.chartY,f=this.top);if(1===b)this.grabbedCenter=h,this.fixedWidth=p,this.dragOffset=h-e;else{a=h-f-p/2;if(0===b)a=Math.max(0,a);else if(2===b&&a+p>=g)if(a=g-p,this.reversedExtremes){a-=
p;var l=this.getUnionExtremes().dataMin}else var n=this.getUnionExtremes().dataMax;a!==e&&(this.fixedWidth=p,b=d.navigatorAxis.toFixedRange(a,a+p,l,n),k(b.min)&&c.xAxis[0].setExtremes(Math.min(b.min,b.max),Math.max(b.min,b.max),!0,null,{trigger:"navigator"}))}};g.prototype.handlesMousedown=function(a,b){this.chart.pointer.normalize(a);a=this.chart;var c=a.xAxis[0],d=this.reversedExtremes;0===b?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=d?c.min:c.max):(this.grabbedRight=
!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=d?c.max:c.min);a.fixedRange=null};g.prototype.onMouseMove=function(a){var b=this,e=b.chart,g=b.left,p=b.navigatorSize,k=b.range,h=b.dragOffset,l=e.inverted;a.touches&&0===a.touches[0].pageX||(a=e.pointer.normalize(a),e=a.chartX,l&&(g=b.top,e=a.chartY),b.grabbedLeft?(b.hasDragged=!0,b.render(0,0,e-g,b.otherHandlePos)):b.grabbedRight?(b.hasDragged=!0,b.render(0,0,b.otherHandlePos,e-g)):b.grabbedCenter&&(b.hasDragged=!0,e<h?e=h:e>p+h-k&&(e=p+h-
k),b.render(0,0,e-h,e-h+k)),b.hasDragged&&b.scrollbar&&d(b.scrollbar.options.liveRedraw,C.svg&&!c&&!this.chart.isBoosting)&&(a.DOMType=a.type,setTimeout(function(){b.onMouseUp(a)},0)))};g.prototype.onMouseUp=function(a){var b=this.chart,c=this.xAxis,d=this.scrollbar,e=a.DOMEvent||a,g=b.inverted,p=this.rendered&&!this.hasDragged?"animate":"attr";if(this.hasDragged&&(!d||!d.hasDragged)||"scrollbar"===a.trigger){d=this.getUnionExtremes();if(this.zoomedMin===this.otherHandlePos)var h=this.fixedExtreme;
else if(this.zoomedMax===this.otherHandlePos)var l=this.fixedExtreme;this.zoomedMax===this.size&&(l=this.reversedExtremes?d.dataMin:d.dataMax);0===this.zoomedMin&&(h=this.reversedExtremes?d.dataMax:d.dataMin);c=c.navigatorAxis.toFixedRange(this.zoomedMin,this.zoomedMax,h,l);k(c.min)&&b.xAxis[0].setExtremes(Math.min(c.min,c.max),Math.max(c.min,c.max),!0,this.hasDragged?!1:null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:e})}"mousemove"!==a.DOMType&&"touchmove"!==a.DOMType&&(this.grabbedLeft=
this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null);this.navigatorEnabled&&x(this.zoomedMin)&&x(this.zoomedMax)&&(b=Math.round(this.zoomedMin),a=Math.round(this.zoomedMax),this.shades&&this.drawMasks(b,a,g,p),this.outline&&this.drawOutline(b,a,g,p),this.navigatorOptions.handles.enabled&&Object.keys(this.handles).length===this.handles.length&&(this.drawHandle(b,0,g,p),this.drawHandle(a,1,g,p)))};g.prototype.removeEvents=function(){this.eventsToUnbind&&
(this.eventsToUnbind.forEach(function(a){a()}),this.eventsToUnbind=void 0);this.removeBaseSeriesEvents()};g.prototype.removeBaseSeriesEvents=function(){var a=this.baseSeries||[];this.navigatorEnabled&&a[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&a.forEach(function(a){L(a,"updatedData",this.updatedDataHandler)},this),a[0].xAxis&&L(a[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))};g.prototype.init=function(c){var f=c.options,g=f.navigator,k=g.enabled,h=f.scrollbar,p=h.enabled;f=k?g.height:
0;var l=p?h.height:0;this.handles=[];this.shades=[];this.chart=c;this.setBaseSeries();this.height=f;this.scrollbarHeight=l;this.scrollbarEnabled=p;this.navigatorEnabled=k;this.navigatorOptions=g;this.scrollbarOptions=h;this.outlineHeight=f+l;this.opposite=d(g.opposite,!(k||!c.inverted));var n=this;k=n.baseSeries;h=c.xAxis.length;p=c.yAxis.length;var q=k&&k[0]&&k[0].xAxis||c.xAxis[0]||{options:{}};c.isDirtyBox=!0;n.navigatorEnabled?(n.xAxis=new a(c,b({breaks:q.options.breaks,ordinal:q.options.ordinal},
g.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:h,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},c.inverted?{offsets:[l,0,-l,0],width:f}:{offsets:[0,-l,0,l],height:f})),n.yAxis=new a(c,b(g.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:p,isInternal:!0,reversed:d(g.yAxis&&g.yAxis.reversed,c.yAxis[0]&&c.yAxis[0].reversed,!1),zoomEnabled:!1},c.inverted?{width:f}:{height:f})),k||g.series.data?
n.updateNavigatorSeries(!1):0===c.series.length&&(n.unbindRedraw=e(c,"beforeRedraw",function(){0<c.series.length&&!n.series&&(n.setBaseSeries(),n.unbindRedraw())})),n.reversedExtremes=c.inverted&&!n.xAxis.reversed||!c.inverted&&n.xAxis.reversed,n.renderElements(),n.addMouseEvents()):(n.xAxis={chart:c,navigatorAxis:{fake:!0},translate:function(a,b){var d=c.xAxis[0],e=d.getExtremes(),f=d.len-2*l,g=K("min",d.options.min,e.dataMin);d=K("max",d.options.max,e.dataMax)-g;return b?a*d/f+g:f*(a-g)/d},toPixels:function(a){return this.translate(a)},
toValue:function(a){return this.translate(a,!0)}},n.xAxis.navigatorAxis.axis=n.xAxis,n.xAxis.navigatorAxis.toFixedRange=F.AdditionsClass.prototype.toFixedRange.bind(n.xAxis.navigatorAxis));c.options.scrollbar.enabled&&(c.scrollbar=n.scrollbar=new I(c.renderer,b(c.options.scrollbar,{margin:n.navigatorEnabled?0:10,vertical:c.inverted}),c),e(n.scrollbar,"changed",function(a){var b=n.size,d=b*this.to;b*=this.from;n.hasDragged=n.scrollbar.hasDragged;n.render(0,0,b,d);(c.options.scrollbar.liveRedraw||"mousemove"!==
a.DOMType&&"touchmove"!==a.DOMType)&&setTimeout(function(){n.onMouseUp(a)})}));n.addBaseSeriesEvents();n.addChartEvents()};g.prototype.getUnionExtremes=function(a){var b=this.chart.xAxis[0],c=this.xAxis,e=c.options,g=b.options,k;a&&null===b.dataMin||(k={dataMin:d(e&&e.min,K("min",g.min,b.dataMin,c.dataMin,c.min)),dataMax:d(e&&e.max,K("max",g.max,b.dataMax,c.dataMax,c.max))});return k};g.prototype.setBaseSeries=function(a,b){var c=this.chart,d=this.baseSeries=[];a=a||c.options&&c.options.navigator.baseSeries||
(c.series.length?G(c.series,function(a){return!a.options.isInternal}).index:0);(c.series||[]).forEach(function(b,c){b.options.isInternal||!b.options.showInNavigator&&(c!==a&&b.options.id!==a||!1===b.options.showInNavigator)||d.push(b)});this.xAxis&&!this.xAxis.navigatorAxis.fake&&this.updateNavigatorSeries(!0,b)};g.prototype.updateNavigatorSeries=function(a,c){var e=this,g=e.chart,f=e.baseSeries,k,p,n=e.navigatorOptions.series,m,w={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,
xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:void 0,isInternal:!0,states:{inactive:{opacity:1}}},r=e.series=(e.series||[]).filter(function(a){var b=a.baseSeries;return 0>f.indexOf(b)?(b&&(L(b,"updatedData",e.updatedDataHandler),delete b.navigatorSeries),a.chart&&a.destroy(),!1):!0});f&&f.length&&f.forEach(function(a){var t=a.navigatorSeries,u=h({color:a.color,visible:a.visible},q(n)?l.navigator.series:n);t&&!1===e.navigatorOptions.adaptToUpdatedData||(w.name="Navigator "+
f.length,k=a.options||{},m=k.navigatorOptions||{},p=b(k,w,u,m),p.pointRange=d(u.pointRange,m.pointRange,l.plotOptions[p.type||"line"].pointRange),u=m.data||u.data,e.hasNavigatorData=e.hasNavigatorData||!!u,p.data=u||k.data&&k.data.slice(0),t&&t.options?t.update(p,c):(a.navigatorSeries=g.initSeries(p),a.navigatorSeries.baseSeries=a,r.push(a.navigatorSeries)))});if(n.data&&(!f||!f.length)||q(n))e.hasNavigatorData=!1,n=M(n),n.forEach(function(a,c){w.name="Navigator "+(r.length+1);p=b(l.navigator.series,
{color:g.series[c]&&!g.series[c].options.isInternal&&g.series[c].color||g.options.colors[c]||g.options.colors[0]},w,a);p.data=a.data;p.data&&(e.hasNavigatorData=!0,r.push(g.initSeries(p)))});a&&this.addBaseSeriesEvents()};g.prototype.addBaseSeriesEvents=function(){var a=this,b=a.baseSeries||[];b[0]&&b[0].xAxis&&e(b[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes);b.forEach(function(b){e(b,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)});e(b,"hide",function(){this.navigatorSeries&&
this.navigatorSeries.setVisible(!1,!1)});!1!==this.navigatorOptions.adaptToUpdatedData&&b.xAxis&&e(b,"updatedData",this.updatedDataHandler);e(b,"remove",function(){this.navigatorSeries&&(w(a.series,this.navigatorSeries),k(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)};g.prototype.getBaseSeriesMin=function(a){return this.baseSeries.reduce(function(a,b){return Math.min(a,b.xData?b.xData[0]:a)},a)};g.prototype.modifyNavigatorAxisExtremes=function(){var a=
this.xAxis,b;"undefined"!==typeof a.getExtremes&&(!(b=this.getUnionExtremes(!0))||b.dataMin===a.min&&b.dataMax===a.max||(a.min=b.dataMin,a.max=b.dataMax))};g.prototype.modifyBaseAxisExtremes=function(){var a=this.chart.navigator,b=this.getExtremes(),c=b.dataMin,e=b.dataMax;b=b.max-b.min;var g=a.stickToMin,k=a.stickToMax,h=d(this.options.overscroll,0),l=a.series&&a.series[0],n=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(g){var q=c;var m=q+b}k&&(m=e+h,g||
(q=Math.max(c,m-b,a.getBaseSeriesMin(l&&l.xData?l.xData[0]:-Number.MAX_VALUE))));n&&(g||k)&&x(q)&&(this.min=this.userMin=q,this.max=this.userMax=m)}a.stickToMin=a.stickToMax=null};g.prototype.updatedDataHandler=function(){var a=this.chart.navigator,b=this.navigatorSeries,c=a.getBaseSeriesMin(this.xData[0]);a.stickToMax=a.reversedExtremes?0===Math.round(a.zoomedMin):Math.round(a.zoomedMax)>=Math.round(a.size);a.stickToMin=x(this.xAxis.min)&&this.xAxis.min<=c&&(!this.chart.fixedRange||!a.stickToMax);
b&&!a.hasNavigatorData&&(b.options.pointStart=this.xData[0],b.setData(this.options.data,!1,null,!1))};g.prototype.addChartEvents=function(){this.eventsToUnbind||(this.eventsToUnbind=[]);this.eventsToUnbind.push(e(this.chart,"redraw",function(){var a=this.navigator,b=a&&(a.baseSeries&&a.baseSeries[0]&&a.baseSeries[0].xAxis||this.xAxis[0]);b&&a.render(b.min,b.max)}),e(this.chart,"getMargins",function(){var a=this.navigator,b=a.opposite?"plotTop":"marginBottom";this.inverted&&(b=a.opposite?"marginRight":
"plotLeft");this[b]=(this[b]||0)+(a.navigatorEnabled||!this.inverted?a.outlineHeight:0)+a.navigatorOptions.margin}))};g.prototype.destroy=function(){this.removeEvents();this.xAxis&&(w(this.chart.xAxis,this.xAxis),w(this.chart.axes,this.xAxis));this.yAxis&&(w(this.chart.yAxis,this.yAxis),w(this.chart.axes,this.yAxis));(this.series||[]).forEach(function(a){a.destroy&&a.destroy()});"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(a){this[a]&&
this[a].destroy&&this[a].destroy();this[a]=null},this);[this.handles].forEach(function(a){Q(a)},this)};return g}();C.Navigator||(C.Navigator=g,F.compose(a),e(m,"beforeShowResetZoom",function(){var a=this.options,b=a.navigator,d=a.rangeSelector;if((b&&b.enabled||d&&d.enabled)&&(!c&&"x"===a.chart.zoomType||c&&"x"===a.chart.pinchType))return!1}),e(m,"beforeRender",function(){var a=this.options;if(a.navigator.enabled||a.scrollbar.enabled)this.scroller=this.navigator=new g(this)}),e(m,"afterSetChartSize",
function(){var a=this.legend,b=this.navigator;if(b){var c=a&&a.options;var e=b.xAxis;var g=b.yAxis;var k=b.scrollbarHeight;this.inverted?(b.left=b.opposite?this.chartWidth-k-b.height:this.spacing[3]+k,b.top=this.plotTop+k):(b.left=this.plotLeft+k,b.top=b.navigatorOptions.top||this.chartHeight-b.height-k-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(c&&"bottom"===c.verticalAlign&&"proximate"!==c.layout&&c.enabled&&!c.floating?a.legendHeight+d(c.margin,
10):0)-(this.titleOffset?this.titleOffset[2]:0));e&&g&&(this.inverted?e.options.left=g.options.left=b.left:e.options.top=g.options.top=b.top,e.setAxisSize(),g.setAxisSize())}}),e(m,"update",function(a){var c=a.options.navigator||{},d=a.options.scrollbar||{};this.navigator||this.scroller||!c.enabled&&!d.enabled||(b(!0,this.options.navigator,c),b(!0,this.options.scrollbar,d),delete a.options.navigator,delete a.options.scrollbar)}),e(m,"afterUpdate",function(a){this.navigator||this.scroller||!this.options.navigator.enabled&&
!this.options.scrollbar.enabled||(this.scroller=this.navigator=new g(this),d(a.redraw,!0)&&this.redraw(a.animation))}),e(m,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),e(B,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),m.prototype.callbacks.push(function(a){var b=a.navigator;b&&a.xAxis[0]&&(a=a.xAxis[0].getExtremes(),b.render(a.min,a.max))}));C.Navigator=g;return C.Navigator});S(a,"Core/Axis/OrdinalAxis.js",
[a["Core/Axis/Axis.js"],a["Core/Globals.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"],a["Core/Chart/Chart.js"]],function(a,m,A,C,F){var N=C.addEvent,E=C.css,I=C.defined,B=C.error,z=C.pick,r=C.timeUnits,v;(function(a){var c=function(){function a(a){this.index={};this.axis=a}a.prototype.beforeSetTickPositions=function(){var a=this.axis,c=a.ordinal,e=[],l,m=!1,h=a.getExtremes(),r=h.min,q=h.max,v,b=a.isXAxis&&!!a.options.breaks;h=a.options.ordinal;var d=Number.MAX_VALUE,B=a.chart.options.chart.ignoreHiddenSeries,
M;if(h||b){a.series.forEach(function(a,c){l=[];if(!(B&&!1===a.visible||!1===a.takeOrdinalPosition&&!b)&&(e=e.concat(a.processedXData),K=e.length,e.sort(function(a,b){return a-b}),d=Math.min(d,z(a.closestPointRange,d)),K)){for(c=0;c<K-1;)e[c]!==e[c+1]&&l.push(e[c+1]),c++;l[0]!==e[0]&&l.unshift(e[0]);e=l}a.isSeriesBoosting&&(M=!0)});M&&(e.length=0);var K=e.length;if(2<K){var g=e[1]-e[0];for(v=K-1;v--&&!m;)e[v+1]-e[v]!==g&&(m=!0);!a.options.keepOrdinalPadding&&(e[0]-r>g||q-e[e.length-1]>g)&&(m=!0)}else a.options.overscroll&&
(2===K?d=e[1]-e[0]:1===K?(d=a.options.overscroll,e=[e[0],e[0]+d]):d=c.overscrollPointsRange);m?(a.options.overscroll&&(c.overscrollPointsRange=d,e=e.concat(c.getOverscrollPositions())),c.positions=e,g=a.ordinal2lin(Math.max(r,e[0]),!0),v=Math.max(a.ordinal2lin(Math.min(q,e[e.length-1]),!0),1),c.slope=q=(q-r)/(v-g),c.offset=r-g*q):(c.overscrollPointsRange=z(a.closestPointRange,c.overscrollPointsRange),c.positions=a.ordinal.slope=c.offset=void 0)}a.isOrdinal=h&&m;c.groupIntervalFactor=null};a.prototype.getExtendedPositions=
function(){var a=this,c=a.axis,e=c.constructor.prototype,l=c.chart,r=c.series[0].currentDataGrouping,h=a.index,v=r?r.count+r.unitName:"raw",q=c.options.overscroll,x=c.getExtremes(),b;h||(h=a.index={});if(!h[v]){var d={series:[],chart:l,getExtremes:function(){return{min:x.dataMin,max:x.dataMax+q}},options:{ordinal:!0},ordinal:{},ordinal2lin:e.ordinal2lin,val2lin:e.val2lin};d.ordinal.axis=d;c.series.forEach(function(c){b={xAxis:d,xData:c.xData.slice(),chart:l,destroyGroupedData:m.noop,getProcessedData:A.prototype.getProcessedData};
b.xData=b.xData.concat(a.getOverscrollPositions());b.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}};c.processData.apply(b);d.series.push(b)});c.ordinal.beforeSetTickPositions.apply({axis:d});h[v]=d.ordinal.positions}return h[v]};a.prototype.getGroupIntervalFactor=function(a,c,e){e=e.processedXData;var k=e.length,l=[];var h=this.groupIntervalFactor;if(!h){for(h=0;h<k-1;h++)l[h]=e[h+1]-e[h];l.sort(function(a,c){return a-c});l=l[Math.floor(k/
2)];a=Math.max(a,e[0]);c=Math.min(c,e[k-1]);this.groupIntervalFactor=h=k*l/(c-a)}return h};a.prototype.getOverscrollPositions=function(){var a=this.axis,c=a.options.overscroll,e=this.overscrollPointsRange,l=[],m=a.dataMax;if(I(e))for(l.push(m);m<=a.dataMax+c;)m+=e,l.push(m);return l};a.prototype.postProcessTickInterval=function(a){var c=this.axis,e=this.slope;return e?c.options.breaks?c.closestPointRange||a:a/(e/c.closestPointRange):a};return a}();a.Composition=c;a.compose=function(c,l,m){c.keepProps.push("ordinal");
var e=c.prototype;c.prototype.getTimeTicks=function(a,c,e,k,l,n,b){void 0===l&&(l=[]);void 0===n&&(n=0);var d=0,h,q,m={},g=[],w=-Number.MAX_VALUE,p=this.options.tickPixelInterval,f=this.chart.time,v=[];if(!this.options.ordinal&&!this.options.breaks||!l||3>l.length||"undefined"===typeof c)return f.getTimeTicks.apply(f,arguments);var u=l.length;for(h=0;h<u;h++){var x=h&&l[h-1]>e;l[h]<c&&(d=h);if(h===u-1||l[h+1]-l[h]>5*n||x){if(l[h]>w){for(q=f.getTimeTicks(a,l[d],l[h],k);q.length&&q[0]<=w;)q.shift();
q.length&&(w=q[q.length-1]);v.push(g.length);g=g.concat(q)}d=h+1}if(x)break}if(q){q=q.info;if(b&&q.unitRange<=r.hour){h=g.length-1;for(d=1;d<h;d++)if(f.dateFormat("%d",g[d])!==f.dateFormat("%d",g[d-1])){m[g[d]]="day";var t=!0}t&&(m[g[0]]="day");q.higherRanks=m}q.segmentStarts=v;g.info=q}else B(12,!1,this.chart);if(b&&I(p)){d=v=g.length;t=[];var y;for(f=[];d--;)h=this.translate(g[d]),y&&(f[d]=y-h),t[d]=y=h;f.sort();f=f[Math.floor(f.length/2)];f<.6*p&&(f=null);d=g[v-1]>e?v-1:v;for(y=void 0;d--;)h=t[d],
v=Math.abs(y-h),y&&v<.8*p&&(null===f||v<.8*f)?(m[g[d]]&&!m[g[d+1]]?(v=d+1,y=h):v=d,g.splice(v,1)):y=h}return g};e.lin2val=function(a,c){var e=this.ordinal,k=e.positions;if(k){var l=e.slope,n=e.offset;e=k.length-1;if(c)if(0>a)a=k[0];else if(a>e)a=k[e];else{e=Math.floor(a);var b=a-e}else for(;e--;)if(c=l*e+n,a>=c){l=l*(e+1)+n;b=(a-c)/(l-c);break}return"undefined"!==typeof b&&"undefined"!==typeof k[e]?k[e]+(b?b*(k[e+1]-k[e]):0):a}return a};e.val2lin=function(a,c){var e=this.ordinal,k=e.positions;if(k){var l=
k.length,n;for(n=l;n--;)if(k[n]===a){var b=n;break}for(n=l-1;n--;)if(a>k[n]||0===n){a=(a-k[n])/(k[n+1]-k[n]);b=n+a;break}c=c?b:e.slope*(b||0)+e.offset}else c=a;return c};e.ordinal2lin=e.val2lin;N(c,"afterInit",function(){this.ordinal||(this.ordinal=new a.Composition(this))});N(c,"foundExtremes",function(){this.isXAxis&&I(this.options.overscroll)&&this.max===this.dataMax&&(!this.chart.mouseIsDown||this.isInternal)&&(!this.eventArgs||this.eventArgs&&"navigator"!==this.eventArgs.trigger)&&(this.max+=
this.options.overscroll,!this.isInternal&&I(this.userMin)&&(this.min+=this.options.overscroll))});N(c,"afterSetScale",function(){this.horiz&&!this.isDirty&&(this.isDirty=this.isOrdinal&&this.chart.navigator&&!this.chart.navigator.adaptToUpdatedData)});N(c,"initialAxisTranslation",function(){this.ordinal&&(this.ordinal.beforeSetTickPositions(),this.tickInterval=this.ordinal.postProcessTickInterval(this.tickInterval))});N(l,"pan",function(a){var c=this.xAxis[0],e=c.options.overscroll,k=a.originalEvent.chartX,
l=this.options.chart&&this.options.chart.panning,n=!1;if(l&&"y"!==l.type&&c.options.ordinal&&c.series.length){var b=this.mouseDownX,d=c.getExtremes(),m=d.dataMax,r=d.min,v=d.max,g=this.hoverPoints,y=c.closestPointRange||c.ordinal&&c.ordinal.overscrollPointsRange;b=(b-k)/(c.translationSlope*(c.ordinal.slope||y));var p={ordinal:{positions:c.ordinal.getExtendedPositions()}};y=c.lin2val;var f=c.val2lin;if(!p.ordinal.positions)n=!0;else if(1<Math.abs(b)){g&&g.forEach(function(a){a.setState()});if(0>b){g=
p;var H=c.ordinal.positions?c:p}else g=c.ordinal.positions?c:p,H=p;p=H.ordinal.positions;m>p[p.length-1]&&p.push(m);this.fixedRange=v-r;b=c.navigatorAxis.toFixedRange(null,null,y.apply(g,[f.apply(g,[r,!0])+b,!0]),y.apply(H,[f.apply(H,[v,!0])+b,!0]));b.min>=Math.min(d.dataMin,r)&&b.max<=Math.max(m,v)+e&&c.setExtremes(b.min,b.max,!0,!1,{trigger:"pan"});this.mouseDownX=k;E(this.container,{cursor:"move"})}}else n=!0;n||l&&/y/.test(l.type)?e&&(c.max=c.dataMax+e):a.preventDefault()});N(m,"updatedData",
function(){var a=this.xAxis;a&&a.options.ordinal&&delete a.ordinal.index})}})(v||(v={}));v.compose(a,F,A);return v});S(a,"Core/Axis/BrokenAxis.js",[a["Core/Axis/Axis.js"],a["Core/Series/Series.js"],a["Extensions/Stacking.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=C.addEvent,N=C.find,E=C.fireEvent,I=C.isArray,B=C.isNumber,z=C.pick,r=function(){function m(a){this.hasBreaks=!1;this.axis=a}m.isInBreak=function(a,l){var c=a.repeat||Infinity,n=a.from,m=a.to-a.from;l=l>=n?(l-n)%c:c-(n-l)%c;return a.inclusive?
l<=m:l<m&&0!==l};m.lin2Val=function(a){var c=this.brokenAxis;c=c&&c.breakArray;if(!c)return a;var e;for(e=0;e<c.length;e++){var n=c[e];if(n.from>=a)break;else n.to<a?a+=n.len:m.isInBreak(n,a)&&(a+=n.len)}return a};m.val2Lin=function(a){var c=this.brokenAxis;c=c&&c.breakArray;if(!c)return a;var e=a,n;for(n=0;n<c.length;n++){var r=c[n];if(r.to<=a)e-=r.len;else if(r.from>=a)break;else if(m.isInBreak(r,a)){e-=a-r.from;break}}return e};m.prototype.findBreakAt=function(a,l){return N(l,function(c){return c.from<
a&&a<c.to})};m.prototype.isInAnyBreak=function(a,l){var c=this.axis,n=c.options.breaks,r=n&&n.length,k;if(r){for(;r--;)if(m.isInBreak(n[r],a)){var v=!0;k||(k=z(n[r].showPoints,!c.isXAxis))}var w=v&&l?v&&!k:v}return w};m.prototype.setBreaks=function(c,l){var e=this,n=e.axis,r=I(c)&&!!c.length;n.isDirty=e.hasBreaks!==r;e.hasBreaks=r;n.options.breaks=n.userOptions.breaks=c;n.forceRedraw=!0;n.series.forEach(function(a){a.isDirty=!0});r||n.val2lin!==m.val2Lin||(delete n.val2lin,delete n.lin2val);r&&(n.userOptions.ordinal=
!1,n.lin2val=m.lin2Val,n.val2lin=m.val2Lin,n.setExtremes=function(c,l,n,h,m){if(e.hasBreaks){for(var k,r=this.options.breaks;k=e.findBreakAt(c,r);)c=k.to;for(;k=e.findBreakAt(l,r);)l=k.from;l<c&&(l=c)}a.prototype.setExtremes.call(this,c,l,n,h,m)},n.setAxisTranslation=function(){a.prototype.setAxisTranslation.call(this);e.unitLength=null;if(e.hasBreaks){var c=n.options.breaks||[],l=[],r=[],h=0,v,q=n.userMin||n.min,x=n.userMax||n.max,b=z(n.pointRangePadding,0),d;c.forEach(function(a){v=a.repeat||Infinity;
m.isInBreak(a,q)&&(q+=a.to%v-q%v);m.isInBreak(a,x)&&(x-=x%v-a.from%v)});c.forEach(function(a){B=a.from;for(v=a.repeat||Infinity;B-v>q;)B-=v;for(;B<q;)B+=v;for(d=B;d<x;d+=v)l.push({value:d,move:"in"}),l.push({value:d+(a.to-a.from),move:"out",size:a.breakSize})});l.sort(function(a,b){return a.value===b.value?("in"===a.move?0:1)-("in"===b.move?0:1):a.value-b.value});var y=0;var B=q;l.forEach(function(a){y+="in"===a.move?1:-1;1===y&&"in"===a.move&&(B=a.value);0===y&&(r.push({from:B,to:a.value,len:a.value-
B-(a.size||0)}),h+=a.value-B-(a.size||0))});n.breakArray=e.breakArray=r;e.unitLength=x-q-h+b;E(n,"afterBreaks");n.staticScale?n.transA=n.staticScale:e.unitLength&&(n.transA*=(x-n.min+b)/e.unitLength);b&&(n.minPixelPadding=n.transA*n.minPointOffset);n.min=q;n.max=x}});z(l,!0)&&n.chart.redraw()};return m}();C=function(){function a(){}a.compose=function(a,l){a.keepProps.push("brokenAxis");var c=m.prototype;c.drawBreaks=function(a,c){var e=this,l=e.points,n,h,m,q;if(a&&a.brokenAxis&&a.brokenAxis.hasBreaks){var r=
a.brokenAxis;c.forEach(function(b){n=r&&r.breakArray||[];h=a.isXAxis?a.min:z(e.options.threshold,a.min);l.forEach(function(c){q=z(c["stack"+b.toUpperCase()],c[b]);n.forEach(function(b){if(B(h)&&B(q)){m=!1;if(h<b.from&&q>b.to||h>b.from&&q<b.from)m="pointBreak";else if(h<b.from&&q>b.from&&q<b.to||h>b.from&&q>b.to&&q<b.from)m="pointInBreak";m&&E(a,m,{point:c,brk:b})}})})})}};c.gappedPath=function(){var a=this.currentDataGrouping,c=a&&a.gapSize;a=this.options.gapSize;var e=this.points.slice(),l=e.length-
1,m=this.yAxis,h;if(a&&0<l)for("value"!==this.options.gapUnit&&(a*=this.basePointRange),c&&c>a&&c>=this.basePointRange&&(a=c),h=void 0;l--;)h&&!1!==h.visible||(h=e[l+1]),c=e[l],!1!==h.visible&&!1!==c.visible&&(h.x-c.x>a&&(h=(c.x+h.x)/2,e.splice(l+1,0,{isNull:!0,x:h}),m.stacking&&this.options.stacking&&(h=m.stacking.stacks[this.stackKey][h]=new A(m,m.options.stackLabels,!1,h,this.stack),h.total=0)),h=c);return this.getGraphPath(e)};F(a,"init",function(){this.brokenAxis||(this.brokenAxis=new r(this))});
F(a,"afterInit",function(){"undefined"!==typeof this.brokenAxis&&this.brokenAxis.setBreaks(this.options.breaks,!1)});F(a,"afterSetTickPositions",function(){var a=this.brokenAxis;if(a&&a.hasBreaks){var c=this.tickPositions,e=this.tickPositions.info,l=[],m;for(m=0;m<c.length;m++)a.isInAnyBreak(c[m])||l.push(c[m]);this.tickPositions=l;this.tickPositions.info=e}});F(a,"afterSetOptions",function(){this.brokenAxis&&this.brokenAxis.hasBreaks&&(this.options.ordinal=!1)});F(l,"afterGeneratePoints",function(){var a=
this.options.connectNulls,c=this.points,e=this.xAxis,l=this.yAxis;if(this.isDirty)for(var m=c.length;m--;){var h=c[m],r=!(null===h.y&&!1===a)&&(e&&e.brokenAxis&&e.brokenAxis.isInAnyBreak(h.x,!0)||l&&l.brokenAxis&&l.brokenAxis.isInAnyBreak(h.y,!0));h.visible=r?!1:!1!==h.options.visible}});F(l,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]);this.drawBreaks(this.yAxis,z(this.pointArrayMap,["y"]))})};return a}();C.compose(a,m);return C});S(a,"masters/modules/broken-axis.src.js",[],function(){});
S(a,"Extensions/DataGrouping.js",[a["Core/Axis/Axis.js"],a["Core/Axis/DateTimeAxis.js"],a["Core/Globals.js"],a["Core/Options.js"],a["Core/Series/Point.js"],a["Core/Series/Series.js"],a["Core/Tooltip.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I){var B=N.prototype,z=I.addEvent,r=I.arrayMax,v=I.arrayMin,c=I.correctFloat,l=I.defined,e=I.error,n=I.extend,y=I.format,k=I.isNumber,O=I.merge,w=I.pick;"";var h=A.approximations={sum:function(a){var b=a.length;if(!b&&a.hasNulls)var c=null;else if(b)for(c=
0;b--;)c+=a[b];return c},average:function(a){var b=a.length;a=h.sum(a);k(a)&&b&&(a=c(a/b));return a},averages:function(){var a=[];[].forEach.call(arguments,function(b){a.push(h.average(b))});return"undefined"===typeof a[0]?void 0:a},open:function(a){return a.length?a[0]:a.hasNulls?null:void 0},high:function(a){return a.length?r(a):a.hasNulls?null:void 0},low:function(a){return a.length?v(a):a.hasNulls?null:void 0},close:function(a){return a.length?a[a.length-1]:a.hasNulls?null:void 0},ohlc:function(a,
b,c,d){a=h.open(a);b=h.high(b);c=h.low(c);d=h.close(d);if(k(a)||k(b)||k(c)||k(d))return[a,b,c,d]},range:function(a,b){a=h.low(a);b=h.high(b);if(k(a)||k(b))return[a,b];if(null===a&&null===b)return null}};I=function(a,b,c,d){var e=this,g=e.data,n=e.options&&e.options.data,m=[],q=[],t=[],r=a.length,v=!!b,w=[],x=e.pointArrayMap,y=x&&x.length,J=["x"].concat(x||["y"]),z=0,B=0,K;d="function"===typeof d?d:h[d]?h[d]:h[e.getDGApproximation&&e.getDGApproximation()||"average"];y?x.forEach(function(){w.push([])}):
w.push([]);var C=y||1;for(K=0;K<=r&&!(a[K]>=c[0]);K++);for(K;K<=r;K++){for(;"undefined"!==typeof c[z+1]&&a[K]>=c[z+1]||K===r;){var A=c[z];e.dataGroupInfo={start:e.cropStart+B,length:w[0].length};var M=d.apply(e,w);e.pointClass&&!l(e.dataGroupInfo.options)&&(e.dataGroupInfo.options=O(e.pointClass.prototype.optionsToObject.call({series:e},e.options.data[e.cropStart+B])),J.forEach(function(a){delete e.dataGroupInfo.options[a]}));"undefined"!==typeof M&&(m.push(A),q.push(M),t.push(e.dataGroupInfo));B=
K;for(A=0;A<C;A++)w[A].length=0,w[A].hasNulls=!1;z+=1;if(K===r)break}if(K===r)break;if(x)for(A=e.cropStart+K,M=g&&g[A]||e.pointClass.prototype.applyOptions.apply({series:e},[n[A]]),A=0;A<y;A++){var E=M[x[A]];k(E)?w[A].push(E):null===E&&(w[A].hasNulls=!0)}else A=v?b[K]:null,k(A)?w[0].push(A):null===A&&(w[0].hasNulls=!0)}return{groupedXData:m,groupedYData:q,groupMap:t}};var G={approximations:h,groupData:I},q=B.processData,x=B.generatePoints,b={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L",
"%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},d={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},
candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},L=A.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];B.getDGApproximation=function(){return this.is("arearange")?"range":this.is("ohlc")?"ohlc":this.is("column")?"sum":"average"};B.groupData=I;B.processData=function(){var a=this.chart,b=this.options.dataGrouping,c=!1!==this.allowDG&&
b&&w(b.enabled,a.options.isStock),d=this.visible||!a.options.chart.ignoreHiddenSeries,e,f=this.currentDataGrouping,h=!1;this.forceCrop=c;this.groupPixelWidth=null;this.hasProcessed=!0;c&&!this.requireSorting&&(this.requireSorting=h=!0);c=!1===q.apply(this,arguments)||!c;h&&(this.requireSorting=!1);if(!c){this.destroyGroupedData();c=b.groupAll?this.xData:this.processedXData;var k=b.groupAll?this.yData:this.processedYData,n=a.plotSizeX;a=this.xAxis;var t=a.options.ordinal,r=this.groupPixelWidth=a.getGroupPixelWidth&&
a.getGroupPixelWidth();if(r){this.isDirty=e=!0;this.points=null;h=a.getExtremes();var v=h.min;h=h.max;t=t&&a.ordinal&&a.ordinal.getGroupIntervalFactor(v,h,this)||1;r=r*(h-v)/n*t;n=a.getTimeTicks(m.AdditionsClass.prototype.normalizeTimeTickInterval(r,b.units||L),Math.min(v,c[0]),Math.max(h,c[c.length-1]),a.options.startOfWeek,c,this.closestPointRange);k=B.groupData.apply(this,[c,k,n,b.approximation]);c=k.groupedXData;t=k.groupedYData;var x=0;if(b.smoothed&&c.length){var y=c.length-1;for(c[y]=Math.min(c[y],
h);y--&&0<y;)c[y]+=r/2;c[0]=Math.max(c[0],v)}for(y=1;y<n.length;y++)n.info.segmentStarts&&-1!==n.info.segmentStarts.indexOf(y)||(x=Math.max(n[y]-n[y-1],x));v=n.info;v.gapSize=x;this.closestPointRange=n.info.totalRange;this.groupMap=k.groupMap;if(l(c[0])&&c[0]<a.min&&d){if(!l(a.options.min)&&a.min<=a.dataMin||a.min===a.dataMin)a.min=Math.min(c[0],a.min);a.dataMin=Math.min(c[0],a.dataMin)}b.groupAll&&(b=this.cropData(c,t,a.min,a.max,1),c=b.xData,t=b.yData);this.processedXData=c;this.processedYData=
t}else this.groupMap=null;this.hasGroupedData=e;this.currentDataGrouping=v;this.preventGraphAnimation=(f&&f.totalRange)!==(v&&v.totalRange)}};B.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(a,b){a&&(this.groupedData[b]=a.destroy?a.destroy():null)},this),this.groupedData.length=0)};B.generatePoints=function(){x.apply(this);this.destroyGroupedData();this.groupedData=this.hasGroupedData?this.points:null};z(F,"update",function(){if(this.dataGroup)return e(24,!1,this.series.chart),
!1});z(E,"headerFormatter",function(a){var c=this.chart,d=c.time,e=a.labelConfig,h=e.series,f=h.tooltipOptions,l=h.options.dataGrouping,m=f.xDateFormat,q=h.xAxis,t=f[(a.isFooter?"footer":"header")+"Format"];if(q&&"datetime"===q.options.type&&l&&k(e.key)){var r=h.currentDataGrouping;l=l.dateTimeLabelFormats||b.dateTimeLabelFormats;if(r)if(f=l[r.unitName],1===r.count)m=f[0];else{m=f[1];var v=f[2]}else!m&&l&&(m=this.getXDateFormat(e,f,q));m=d.dateFormat(m,e.key);v&&(m+=d.dateFormat(v,e.key+r.totalRange-
1));h.chart.styledMode&&(t=this.styledModeFormat(t));a.text=y(t,{point:n(e.point,{key:m}),series:h},c);a.preventDefault()}});z(N,"destroy",B.destroyGroupedData);z(N,"afterSetOptions",function(a){a=a.options;var c=this.type,e=this.chart.options.plotOptions,h=C.defaultOptions.plotOptions[c].dataGrouping,k=this.useCommonDataGrouping&&b;if(d[c]||k)h||(h=O(b,d[c])),a.dataGrouping=O(k,h,e.series&&e.series.dataGrouping,e[c].dataGrouping,this.userOptions.dataGrouping)});z(a,"afterSetScale",function(){this.series.forEach(function(a){a.hasProcessed=
!1})});a.prototype.getGroupPixelWidth=function(){var a=this.series,c=a.length,d,e=0,h=!1,f;for(d=c;d--;)(f=a[d].options.dataGrouping)&&(e=Math.max(e,w(f.groupPixelWidth,b.groupPixelWidth)));for(d=c;d--;)(f=a[d].options.dataGrouping)&&a[d].hasProcessed&&(c=(a[d].processedXData||a[d].data).length,a[d].groupPixelWidth||c>this.chart.plotSizeX/e||c&&f.forced)&&(h=!0);return h?e:0};a.prototype.setDataGrouping=function(b,c){var d;c=w(c,!0);b||(b={forced:!1,units:null});if(this instanceof a)for(d=this.series.length;d--;)this.series[d].update({dataGrouping:b},
!1);else this.chart.options.series.forEach(function(a){a.dataGrouping=b},!1);this.ordinal&&(this.ordinal.slope=void 0);c&&this.chart.redraw()};A.dataGrouping=G;"";return G});S(a,"Series/OHLC/OHLCPoint.js",[a["Core/Series/SeriesRegistry.js"]],function(a){var m=this&&this.__extends||function(){var a=function(m,A){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,m){a.__proto__=m}||function(a,m){for(var A in m)m.hasOwnProperty(A)&&(a[A]=m[A])};return a(m,A)};return function(m,A){function C(){this.constructor=
m}a(m,A);m.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}();return function(a){function A(){var m=null!==a&&a.apply(this,arguments)||this;m.close=void 0;m.high=void 0;m.low=void 0;m.open=void 0;m.options=void 0;m.plotClose=void 0;m.plotOpen=void 0;m.series=void 0;return m}m(A,a);A.prototype.getClassName=function(){return a.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")};A.prototype.resolveUpColor=function(){this.open<
this.close&&!this.options.color&&this.series.options.upColor&&(this.color=this.series.options.upColor)};A.prototype.resolveColor=function(){a.prototype.resolveColor.call(this);this.resolveUpColor()};A.prototype.getZone=function(){var m=a.prototype.getZone.call(this);this.resolveUpColor();return m};return A}(a.seriesTypes.column.prototype.pointClass)});S(a,"Series/OHLC/OHLCSeries.js",[a["Series/OHLC/OHLCPoint.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A){var C=this&&
this.__extends||function(){var a=function(m,z){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,m){a.__proto__=m}||function(a,m){for(var c in m)m.hasOwnProperty(c)&&(a[c]=m[c])};return a(m,z)};return function(m,z){function r(){this.constructor=m}a(m,z);m.prototype=null===z?Object.create(z):(r.prototype=z.prototype,new r)}}(),F=m.seriesTypes.column,N=A.extend,E=A.merge;A=function(a){function m(){var m=null!==a&&a.apply(this,arguments)||this;m.data=void 0;m.options=void 0;m.points=
void 0;m.yData=void 0;return m}C(m,a);m.prototype.drawPoints=function(){var a=this,m=a.chart,v=function(a,l,e){var c=a[0];a=a[1];"number"===typeof c[2]&&(c[2]=Math.max(e+l,c[2]));"number"===typeof a[2]&&(a[2]=Math.min(e-l,a[2]))};a.points.forEach(function(c){var l=c.graphic,e=!l;if("undefined"!==typeof c.plotY){l||(c.graphic=l=m.renderer.path().add(a.group));m.styledMode||l.attr(a.pointAttribs(c,c.selected&&"select"));var n=l.strokeWidth();var r=n%2/2;var k=Math.round(c.plotX)-r;var z=Math.round(c.shapeArgs.width/
2);var w=[["M",k,Math.round(c.yBottom)],["L",k,Math.round(c.plotHigh)]];if(null!==c.open){var h=Math.round(c.plotOpen)+r;w.push(["M",k,h],["L",k-z,h]);v(w,n/2,h)}null!==c.close&&(h=Math.round(c.plotClose)+r,w.push(["M",k,h],["L",k+z,h]),v(w,n/2,h));l[e?"attr":"animate"]({d:w}).addClass(c.getClassName(),!0)}})};m.prototype.init=function(){a.prototype.init.apply(this,arguments);this.options.stacking=void 0};m.prototype.pointAttribs=function(m,r){r=a.prototype.pointAttribs.call(this,m,r);var v=this.options;
delete r.fill;!m.options.color&&v.upColor&&m.open<m.close&&(r.stroke=v.upColor);return r};m.prototype.toYData=function(a){return[a.open,a.high,a.low,a.close]};m.prototype.translate=function(){var m=this,r=m.yAxis,v=!!m.modifyValue,c=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];a.prototype.translate.apply(m);m.points.forEach(function(a){[a.open,a.high,a.low,a.close,a.low].forEach(function(e,l){null!==e&&(v&&(e=m.modifyValue(e)),a[c[l]]=r.toPixels(e,!0))});a.tooltipPos[1]=a.plotHigh+r.pos-
m.chart.plotTop})};m.defaultOptions=E(F.defaultOptions,{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">\u25cf</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0});return m}(F);N(A.prototype,{animate:null,directTouch:!1,pointArrayMap:["open","high","low","close"],pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},pointValKey:"close"});
A.prototype.pointClass=a;m.registerSeriesType("ohlc",A);"";return A});S(a,"Series/Candlestick/CandlestickSeries.js",[a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m,A,C){var F=this&&this.__extends||function(){var a=function(m,v){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,l){a.__proto__=l}||function(a,l){for(var c in l)l.hasOwnProperty(c)&&(a[c]=l[c])};return a(m,v)};return function(m,v){function c(){this.constructor=
m}a(m,v);m.prototype=null===v?Object.create(v):(c.prototype=v.prototype,new c)}}(),N=a.defaultOptions;a=A.seriesTypes;var E=a.column,I=a.ohlc,B=C.merge;C=function(a){function r(){var m=null!==a&&a.apply(this,arguments)||this;m.data=void 0;m.options=void 0;m.points=void 0;return m}F(r,a);r.prototype.pointAttribs=function(a,c){var l=E.prototype.pointAttribs.call(this,a,c),e=this.options,m=a.open<a.close,r=e.lineColor||this.color,k=a.color||this.color;l["stroke-width"]=e.lineWidth;l.fill=a.options.color||
(m?e.upColor||k:k);l.stroke=a.options.lineColor||(m?e.upLineColor||r:r);c&&(a=e.states[c],l.fill=a.color||l.fill,l.stroke=a.lineColor||l.stroke,l["stroke-width"]=a.lineWidth||l["stroke-width"]);return l};r.prototype.drawPoints=function(){var a=this,c=a.chart,l=a.yAxis.reversed;a.points.forEach(function(e){var m=e.graphic,r=!m;if("undefined"!==typeof e.plotY){m||(e.graphic=m=c.renderer.path().add(a.group));a.chart.styledMode||m.attr(a.pointAttribs(e,e.selected&&"select")).shadow(a.options.shadow);
var k=m.strokeWidth()%2/2;var v=Math.round(e.plotX)-k;var w=e.plotOpen;var h=e.plotClose;var z=Math.min(w,h);w=Math.max(w,h);var q=Math.round(e.shapeArgs.width/2);h=l?w!==e.yBottom:Math.round(z)!==Math.round(e.plotHigh);var x=l?Math.round(z)!==Math.round(e.plotHigh):w!==e.yBottom;z=Math.round(z)+k;w=Math.round(w)+k;k=[];k.push(["M",v-q,w],["L",v-q,z],["L",v+q,z],["L",v+q,w],["Z"],["M",v,z],["L",v,h?Math.round(l?e.yBottom:e.plotHigh):z],["M",v,w],["L",v,x?Math.round(l?e.plotHigh:e.yBottom):w]);m[r?
"attr":"animate"]({d:k}).addClass(e.getClassName(),!0)}})};r.defaultOptions=B(I.defaultOptions,N.plotOptions,{states:{hover:{lineWidth:2}},tooltip:N.plotOptions.ohlc.tooltip,threshold:null,lineColor:m.neutralColor100,lineWidth:1,upColor:m.backgroundColor,stickyTracking:!0});return r}(I);A.registerSeriesType("candlestick",C);"";return C});S(a,"Series/Flags/FlagsPoint.js",[a["Core/Series/SeriesRegistry.js"],a["Core/Utilities.js"]],function(a,m){var A=this&&this.__extends||function(){var a=function(m,
A){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,m){a.__proto__=m}||function(a,m){for(var z in m)m.hasOwnProperty(z)&&(a[z]=m[z])};return a(m,A)};return function(m,A){function C(){this.constructor=m}a(m,A);m.prototype=null===A?Object.create(A):(C.prototype=A.prototype,new C)}}(),C=m.isNumber;return function(a){function m(){var m=null!==a&&a.apply(this,arguments)||this;m.options=void 0;m.series=void 0;return m}A(m,a);m.prototype.isValid=function(){return C(this.y)||"undefined"===
typeof this.y};return m}(a.seriesTypes.column.prototype.pointClass)});S(a,"Mixins/OnSeries.js",[a["Series/Column/ColumnSeries.js"],a["Core/Series/Series.js"],a["Core/Utilities.js"]],function(a,m,A){var C=a.prototype,F=m.prototype,N=A.defined,E=A.stableSort;return{getPlotBox:function(){return F.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){C.translate.apply(this);var a=this,m=a.options,z=a.chart,r=a.points,v=r.length-1,c,l=m.onSeries;l=l&&
z.get(l);m=m.onKey||"y";var e=l&&l.options.step,n=l&&l.points,y=n&&n.length,k=z.inverted,A=a.xAxis,w=a.yAxis,h=0,G;if(l&&l.visible&&y){h=(l.pointXOffset||0)+(l.barW||0)/2;z=l.currentDataGrouping;var q=n[y-1].x+(z?z.totalRange:0);E(r,function(a,b){return a.x-b.x});for(m="plot"+m[0].toUpperCase()+m.substr(1);y--&&r[v];){var x=n[y];z=r[v];z.y=x.y;if(x.x<=z.x&&"undefined"!==typeof x[m]){if(z.x<=q&&(z.plotY=x[m],x.x<z.x&&!e&&(G=n[y+1])&&"undefined"!==typeof G[m])){var b=(z.x-x.x)/(G.x-x.x);z.plotY+=b*
(G[m]-x[m]);z.y+=b*(G.y-x.y)}v--;y++;if(0>v)break}}}r.forEach(function(b,e){b.plotX+=h;if("undefined"===typeof b.plotY||k)0<=b.plotX&&b.plotX<=A.len?k?(b.plotY=A.translate(b.x,0,1,0,1),b.plotX=N(b.y)?w.translate(b.y,0,0,0,1):0):b.plotY=(A.opposite?0:a.yAxis.len)+A.offset:b.shapeArgs={};if((c=r[e-1])&&c.plotX===b.plotX){"undefined"===typeof c.stackIndex&&(c.stackIndex=0);var d=c.stackIndex+1}b.stackIndex=d});this.onSeries=l}}});S(a,"Series/Flags/FlagsSymbols.js",[a["Core/Globals.js"],a["Core/Renderer/SVG/SVGRenderer.js"]],
function(a,m){function A(a){N[a+"pin"]=function(m,A,z,r,v){var c=v&&v.anchorX;v=v&&v.anchorY;"circle"===a&&r>z&&(m-=Math.round((r-z)/2),z=r);var l=N[a](m,A,z,r);if(c&&v){var e=c;"circle"===a?e=m+z/2:(m=l[0],z=l[1],"M"===m[0]&&"L"===z[0]&&(e=(m[1]+z[1])/2));l.push(["M",e,A>v?A:A+r],["L",c,v]);l=l.concat(N.circle(c-1,v-1,2,2))}return l}}var C=a.Renderer,F=a.VMLRenderer,N=m.prototype.symbols;N.flag=function(a,m,A,z,r){var v=r&&r.anchorX||a;r=r&&r.anchorY||m;var c=N.circle(v-1,r-1,2,2);c.push(["M",v,
r],["L",a,m+z],["L",a,m],["L",a+A,m],["L",a+A,m+z],["L",a,m+z],["Z"]);return c};A("circle");A("square");C===F&&["circlepin","flag","squarepin"].forEach(function(a){F.prototype.symbols[a]=N[a]});return N});S(a,"Series/Flags/FlagsSeries.js",[a["Series/Flags/FlagsPoint.js"],a["Core/Globals.js"],a["Mixins/OnSeries.js"],a["Core/Color/Palette.js"],a["Core/Series/SeriesRegistry.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E){var I=this&&this.__extends||function(){var a=
function(c,e){a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,c){a.__proto__=c}||function(a,c){for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e])};return a(c,e)};return function(c,e){function h(){this.constructor=c}a(c,e);c.prototype=null===e?Object.create(e):(h.prototype=e.prototype,new h)}}(),B=m.noop,z=F.series,r=F.seriesTypes.column,v=E.addEvent,c=E.defined,l=E.extend,e=E.merge,n=E.objectEach,y=E.wrap;E=function(a){function k(){var c=null!==a&&a.apply(this,arguments)||this;c.data=
void 0;c.options=void 0;c.points=void 0;return c}I(k,a);k.prototype.animate=function(a){a&&this.setClip()};k.prototype.drawPoints=function(){var a=this.points,h=this.chart,k=h.renderer,l=h.inverted,r=this.options,b=r.y,d,v=this.yAxis,z={},A=[];for(d=a.length;d--;){var g=a[d];var J=(l?g.plotY:g.plotX)>this.xAxis.len;var p=g.plotX;var f=g.stackIndex;var H=g.options.shape||r.shape;var u=g.plotY;"undefined"!==typeof u&&(u=g.plotY+b-("undefined"!==typeof f&&f*r.stackDistance));g.anchorX=f?void 0:g.plotX;
var B=f?void 0:g.plotY;var t="flag"!==H;f=g.graphic;"undefined"!==typeof u&&0<=p&&!J?(f||(f=g.graphic=k.label("",null,null,H,null,null,r.useHTML).addClass("highcharts-point").add(this.markerGroup),g.graphic.div&&(g.graphic.div.point=g),f.isNew=!0),f.attr({align:t?"center":"left",width:r.width,height:r.height,"text-align":r.textAlign}),h.styledMode||f.attr(this.pointAttribs(g)).css(e(r.style,g.style)).shadow(r.shadow),0<p&&(p-=f.strokeWidth()%2),H={y:u,anchorY:B},r.allowOverlapX&&(H.x=p,H.anchorX=
g.anchorX),f.attr({text:g.options.title||r.title||"A"})[f.isNew?"attr":"animate"](H),r.allowOverlapX||(z[g.plotX]?z[g.plotX].size=Math.max(z[g.plotX].size,f.width):z[g.plotX]={align:t?.5:0,size:f.width,target:p,anchorX:p}),g.tooltipPos=[p,u+v.pos-h.plotTop]):f&&(g.graphic=f.destroy())}r.allowOverlapX||(n(z,function(a){a.plotX=a.anchorX;A.push(a)}),m.distribute(A,l?v.len:this.xAxis.len,100),a.forEach(function(a){var b=a.graphic&&z[a.plotX];b&&(a.graphic[a.graphic.isNew?"attr":"animate"]({x:b.pos+b.align*
b.size,anchorX:a.anchorX}),c(b.pos)?a.graphic.isNew=!1:(a.graphic.attr({x:-9999,anchorX:-9999}),a.graphic.isNew=!0))}));r.useHTML&&y(this.markerGroup,"on",function(a){return N.prototype.on.apply(a.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})};k.prototype.drawTracker=function(){var c=this.points;a.prototype.drawTracker.call(this);c.forEach(function(a){var e=a.graphic;e&&v(e.element,"mouseover",function(){0<a.stackIndex&&!a.raised&&(a._y=e.y,e.attr({y:a._y-8}),a.raised=!0);c.forEach(function(c){c!==
a&&c.raised&&c.graphic&&(c.graphic.attr({y:c._y}),c.raised=!1)})})})};k.prototype.pointAttribs=function(a,c){var e=this.options,h=a&&a.color||this.color,k=e.lineColor,b=a&&a.lineWidth;a=a&&a.fillColor||e.fillColor;c&&(a=e.states[c].fillColor,k=e.states[c].lineColor,b=e.states[c].lineWidth);return{fill:a||h,stroke:k||h,"stroke-width":b||e.lineWidth||0}};k.prototype.setClip=function(){z.prototype.setClip.apply(this,arguments);!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])};
k.defaultOptions=e(r.defaultOptions,{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:C.backgroundColor,lineWidth:1,states:{hover:{lineColor:C.neutralColor100,fillColor:C.highlightColor20}},style:{fontSize:"11px",fontWeight:"bold"}});return k}(r);l(E.prototype,{allowDG:!1,buildKDTree:B,forceCrop:!0,getPlotBox:A.getPlotBox,init:z.prototype.init,invertGroups:B,invertible:!1,noSharedTooltip:!0,pointClass:a,
sorted:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],translate:A.translate});F.registerSeriesType("flags",E);"";"";return E});S(a,"Extensions/RangeSelector.js",[a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Options.js"],a["Core/Color/Palette.js"],a["Core/Renderer/SVG/SVGElement.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E){function I(a){if(-1!==a.indexOf("%L"))return"text";var b="aAdewbBmoyY".split("").some(function(b){return-1!==a.indexOf("%"+b)}),
c="HkIlMS".split("").some(function(b){return-1!==a.indexOf("%"+b)});return b&&c?"datetime-local":b?"date":c?"time":"text"}var B=C.defaultOptions,z=E.addEvent,r=E.createElement,v=E.css,c=E.defined,l=E.destroyObjectProperties,e=E.discardElement,n=E.extend,y=E.find,k=E.fireEvent,O=E.isNumber,w=E.merge,h=E.objectEach,G=E.pad,q=E.pick,x=E.pInt,b=E.splat;n(B,{rangeSelector:{allButtonsEnabled:!1,buttons:void 0,buttonSpacing:5,dropdown:"responsive",enabled:void 0,verticalAlign:"top",buttonTheme:{width:28,
height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputBoxBorderColor:"none",inputBoxHeight:17,inputBoxWidth:void 0,inputDateFormat:"%b %e, %Y",inputDateParser:void 0,inputEditDateFormat:"%Y-%m-%d",inputEnabled:!0,inputPosition:{align:"right",x:0,y:0},inputSpacing:5,selected:void 0,buttonPosition:{align:"left",x:0,y:0},inputStyle:{color:F.highlightColor80,cursor:"pointer"},labelStyle:{color:F.neutralColor60}}});n(B.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"",rangeSelectorTo:"\u2192"});
var d=function(){function d(a){this.buttons=void 0;this.buttonOptions=d.prototype.defaultButtons;this.initialButtonGroupWidth=0;this.options=void 0;this.chart=a;this.init(a)}d.prototype.clickButton=function(d,e){var g=this.chart,f=this.buttonOptions[d],h=g.xAxis[0],l=g.scroller&&g.scroller.getUnionExtremes()||h||{},m=l.dataMin,n=l.dataMax,r=h&&Math.round(Math.min(h.max,q(n,h.max))),v=f.type;l=f._range;var w,y=f.dataGrouping;if(null!==m&&null!==n){g.fixedRange=l;y&&(this.forcedDataGrouping=!0,a.prototype.setDataGrouping.call(h||
{chart:this.chart},y,!1),this.frozenStates=f.preserveDataGrouping);if("month"===v||"year"===v)if(h){v={range:f,max:r,chart:g,dataMin:m,dataMax:n};var x=h.minFromRange.call(v);O(v.newMax)&&(r=v.newMax)}else l=f;else if(l)x=Math.max(r-l,m),r=Math.min(x+l,n);else if("ytd"===v)if(h)"undefined"===typeof n&&(m=Number.MAX_VALUE,n=Number.MIN_VALUE,g.series.forEach(function(a){a=a.xData;m=Math.min(a[0],m);n=Math.max(a[a.length-1],n)}),e=!1),r=this.getYTDExtremes(n,m,g.time.useUTC),x=w=r.min,r=r.max;else{this.deferredYTDClick=
d;return}else"all"===v&&h&&(x=m,r=n);c(x)&&(x+=f._offsetMin);c(r)&&(r+=f._offsetMax);this.setSelected(d);this.dropdown&&(this.dropdown.selectedIndex=d+1);if(h)h.setExtremes(x,r,q(e,!0),void 0,{trigger:"rangeSelectorButton",rangeSelectorButton:f});else{var J=b(g.options.xAxis)[0];var A=J.range;J.range=l;var B=J.min;J.min=w;z(g,"load",function(){J.range=A;J.min=B})}k(this,"afterBtnClick")}};d.prototype.setSelected=function(a){this.selected=this.options.selected=a};d.prototype.init=function(a){var b=
this,c=a.options.rangeSelector,d=c.buttons||b.defaultButtons.slice(),e=c.selected,g=function(){var a=b.minInput,c=b.maxInput;a&&a.blur&&k(a,"blur");c&&c.blur&&k(c,"blur")};b.chart=a;b.options=c;b.buttons=[];b.buttonOptions=d;this.eventsToUnbind=[];this.eventsToUnbind.push(z(a.container,"mousedown",g));this.eventsToUnbind.push(z(a,"resize",g));d.forEach(b.computeButtonRange);"undefined"!==typeof e&&d[e]&&this.clickButton(e,!1);this.eventsToUnbind.push(z(a,"load",function(){a.xAxis&&a.xAxis[0]&&z(a.xAxis[0],
"setExtremes",function(c){this.max-this.min!==a.fixedRange&&"rangeSelectorButton"!==c.trigger&&"updatedData"!==c.trigger&&b.forcedDataGrouping&&!b.frozenStates&&this.setDataGrouping(!1,!1)})}))};d.prototype.updateButtonStates=function(){var a=this,b=this.chart,c=this.dropdown,d=b.xAxis[0],e=Math.round(d.max-d.min),h=!d.hasVisibleSeries,k=b.scroller&&b.scroller.getUnionExtremes()||d,l=k.dataMin,m=k.dataMax;b=a.getYTDExtremes(m,l,b.time.useUTC);var n=b.min,q=b.max,r=a.selected,v=O(r),w=a.options.allButtonsEnabled,
x=a.buttons;a.buttonOptions.forEach(function(b,g){var f=b._range,k=b.type,p=b.count||1,t=x[g],u=0,y=b._offsetMax-b._offsetMin;b=g===r;var z=f>m-l,H=f<d.minRange,J=!1,A=!1;f=f===e;("month"===k||"year"===k)&&e+36E5>=864E5*{month:28,year:365}[k]*p-y&&e-36E5<=864E5*{month:31,year:366}[k]*p+y?f=!0:"ytd"===k?(f=q-n+y===e,J=!b):"all"===k&&(f=d.max-d.min>=m-l,A=!b&&v&&f);k=!w&&(z||H||A||h);p=b&&f||f&&!v&&!J||b&&a.frozenStates;k?u=3:p&&(v=!0,u=2);t.state!==u&&(t.setState(u),c&&(c.options[g+1].disabled=k,2===
u&&(c.selectedIndex=g+1)),0===u&&r===g&&a.setSelected())})};d.prototype.computeButtonRange=function(a){var b=a.type,c=a.count||1,d={millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5};if(d[b])a._range=d[b]*c;else if("month"===b||"year"===b)a._range=864E5*{month:30,year:365}[b]*c;a._offsetMin=q(a.offsetMin,0);a._offsetMax=q(a.offsetMax,0);a._range+=a._offsetMax-a._offsetMin};d.prototype.getInputValue=function(a){a="min"===a?this.minInput:this.maxInput;var b=this.chart.options.rangeSelector,
c=this.chart.time;return a?("text"===a.type&&b.inputDateParser||this.defaultInputDateParser)(a.value,c.useUTC,c):0};d.prototype.setInputValue=function(a,b){var d=this.options,e=this.chart.time,g="min"===a?this.minInput:this.maxInput;a="min"===a?this.minDateBox:this.maxDateBox;if(g){var h=g.getAttribute("data-hc-time");h=c(h)?Number(h):void 0;c(b)&&(c(h)&&g.setAttribute("data-hc-time-previous",h),g.setAttribute("data-hc-time",b),h=b);g.value=e.dateFormat(this.inputTypeFormats[g.type]||d.inputEditDateFormat,
h);a&&a.attr({text:e.dateFormat(d.inputDateFormat,h)})}};d.prototype.setInputExtremes=function(a,b,c){if(a="min"===a?this.minInput:this.maxInput){var d=this.inputTypeFormats[a.type],e=this.chart.time;d&&(b=e.dateFormat(d,b),a.min!==b&&(a.min=b),c=e.dateFormat(d,c),a.max!==c&&(a.max=c))}};d.prototype.showInput=function(a){var b="min"===a?this.minDateBox:this.maxDateBox;if((a="min"===a?this.minInput:this.maxInput)&&b&&this.inputGroup){var c="text"===a.type,d=this.inputGroup,e=d.translateX;d=d.translateY;
v(a,{width:c?b.width-2+"px":"auto",height:c?b.height-2+"px":"auto",border:"2px solid silver"});c?v(a,{left:e+b.x+"px",top:d+"px"}):v(a,{left:Math.min(Math.round(b.x+e-(a.offsetWidth-b.width)/2),this.chart.chartWidth-a.offsetWidth)+"px",top:d-(a.offsetHeight-b.height)/2+"px"})}};d.prototype.hideInput=function(a){(a="min"===a?this.minInput:this.maxInput)&&v(a,{top:"-9999em",border:0,width:"1px",height:"1px"})};d.prototype.defaultInputDateParser=function(a,b,c){var d=a.split("/").join("-").split(" ").join("T");
-1===d.indexOf("T")&&(d+="T00:00");if(b)d+="Z";else{var e;if(e=A.isSafari)e=d,e=!(6<e.length&&(e.lastIndexOf("-")===e.length-6||e.lastIndexOf("+")===e.length-6));e&&(e=(new Date(d)).getTimezoneOffset()/60,d+=0>=e?"+"+G(-e)+":00":"-"+G(e)+":00")}d=Date.parse(d);O(d)||(a=a.split("-"),d=Date.UTC(x(a[0]),x(a[1])-1,x(a[2])));c&&b&&(d+=c.getTimezoneOffset(d));return d};d.prototype.drawInput=function(a){function b(){var b=g.getInputValue(a),d=c.xAxis[0],e=c.scroller&&c.scroller.xAxis?c.scroller.xAxis:d,
f=e.dataMin;e=e.dataMax;var h=g.maxInput,k=g.minInput;b!==Number(x.getAttribute("data-hc-time-previous"))&&O(b)&&(x.setAttribute("data-hc-time-previous",b),m&&h&&O(f)?b>Number(h.getAttribute("data-hc-time"))?b=void 0:b<f&&(b=f):k&&O(e)&&(b<Number(k.getAttribute("data-hc-time"))?b=void 0:b>e&&(b=e)),"undefined"!==typeof b&&d.setExtremes(m?b:d.min,m?d.max:b,void 0,void 0,{trigger:"rangeSelectorInput"}))}var c=this.chart,d=this.div,e=this.inputGroup,g=this,h=c.renderer.style||{},k=c.renderer,l=c.options.rangeSelector,
m="min"===a,q=B.lang[m?"rangeSelectorFrom":"rangeSelectorTo"];q=k.label(q,0).addClass("highcharts-range-label").attr({padding:q?2:0}).add(e);k=k.label("",0).addClass("highcharts-range-input").attr({padding:2,width:l.inputBoxWidth,height:l.inputBoxHeight,"text-align":"center"}).on("click",function(){g.showInput(a);g[a+"Input"].focus()});c.styledMode||k.attr({stroke:l.inputBoxBorderColor,"stroke-width":1});k.add(e);var x=r("input",{name:a,className:"highcharts-range-selector"},void 0,d);x.setAttribute("type",
I(l.inputDateFormat||"%b %e, %Y"));c.styledMode||(q.css(w(h,l.labelStyle)),k.css(w({color:F.neutralColor80},h,l.inputStyle)),v(x,n({position:"absolute",border:0,boxShadow:"0 0 15px rgba(0,0,0,0.3)",width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:h.fontSize,fontFamily:h.fontFamily,top:"-9999em"},l.inputStyle)));x.onfocus=function(){g.showInput(a)};x.onblur=function(){x===A.doc.activeElement&&b();g.hideInput(a);g.setInputValue(a);x.blur()};var y=!1;x.onchange=function(){b();y||(g.hideInput(a),
x.blur())};x.onkeypress=function(a){13===a.keyCode&&b()};x.onkeydown=function(){y=!0};x.onkeyup=function(){y=!1};return{dateBox:k,input:x,label:q}};d.prototype.getPosition=function(){var a=this.chart,b=a.options.rangeSelector;a="top"===b.verticalAlign?a.plotTop-a.axisOffset[0]:0;return{buttonTop:a+b.buttonPosition.y,inputTop:a+b.inputPosition.y-10}};d.prototype.getYTDExtremes=function(a,b,c){var d=this.chart.time,e=new d.Date(a),g=d.get("FullYear",e);c=c?d.Date.UTC(g,0,1):+new d.Date(g,0,1);b=Math.max(b,
c);e=e.getTime();return{max:Math.min(a||e,e),min:b}};d.prototype.render=function(a,b){var d=this.chart,e=d.renderer,g=d.container,h=d.options,k=h.rangeSelector,l=q(h.chart.style&&h.chart.style.zIndex,0)+1;h=k.inputEnabled;if(!1!==k.enabled){this.rendered||(this.group=e.g("range-selector-group").attr({zIndex:7}).add(),this.div=r("div",void 0,{position:"relative",height:0,zIndex:l}),this.buttonOptions.length&&this.renderButtons(),g.parentNode&&g.parentNode.insertBefore(this.div,g),h&&(this.inputGroup=
e.g("input-group").add(this.group),e=this.drawInput("min"),this.minDateBox=e.dateBox,this.minLabel=e.label,this.minInput=e.input,e=this.drawInput("max"),this.maxDateBox=e.dateBox,this.maxLabel=e.label,this.maxInput=e.input));if(h&&(this.setInputValue("min",a),this.setInputValue("max",b),a=d.scroller&&d.scroller.getUnionExtremes()||d.xAxis[0]||{},c(a.dataMin)&&c(a.dataMax)&&(d=d.xAxis[0].minRange||0,this.setInputExtremes("min",a.dataMin,Math.min(a.dataMax,this.getInputValue("max"))-d),this.setInputExtremes("max",
Math.max(a.dataMin,this.getInputValue("min"))+d,a.dataMax)),this.inputGroup)){var m=0;[this.minLabel,this.minDateBox,this.maxLabel,this.maxDateBox].forEach(function(a){a&&a.width&&(a.attr({x:m}),m+=a.width+k.inputSpacing)})}this.alignElements();this.rendered=!0}};d.prototype.renderButtons=function(){var a=this,b=this.buttons,c=this.options,d=B.lang,e=this.chart.renderer,h=w(c.buttonTheme),l=h&&h.states,m=h.width||28;delete h.width;this.buttonGroup=e.g("range-selector-buttons").add(this.group);var n=
this.dropdown=r("select",void 0,{position:"absolute",width:"1px",height:"1px",padding:0,border:0,top:"-9999em",cursor:"pointer",opacity:.0001},this.div);z(n,"touchstart",function(){n.style.fontSize="16px"});[[A.isMS?"mouseover":"mouseenter"],[A.isMS?"mouseout":"mouseleave"],["change","click"]].forEach(function(c){var d=c[0],e=c[1];z(n,d,function(){var c=b[a.currentButtonIndex()];c&&k(c.element,e||d)})});this.zoomText=e.text(d.rangeSelectorZoom,0,15).add(this.buttonGroup);this.chart.styledMode||(this.zoomText.css(c.labelStyle),
h["stroke-width"]=q(h["stroke-width"],0));r("option",{textContent:this.zoomText.textStr,disabled:!0},void 0,n);this.buttonOptions.forEach(function(c,d){r("option",{textContent:c.title||c.text},void 0,n);b[d]=e.button(c.text,0,0,function(b){var e=c.events&&c.events.click,f;e&&(f=e.call(c,b));!1!==f&&a.clickButton(d);a.isActive=!0},h,l&&l.hover,l&&l.select,l&&l.disabled).attr({"text-align":"center",width:m}).add(a.buttonGroup);c.title&&b[d].attr("title",c.title)})};d.prototype.alignElements=function(){var a=
this,b=this.buttonGroup,c=this.buttons,d=this.chart,e=this.group,h=this.inputGroup,k=this.options,l=this.zoomText,m=d.options,n=m.exporting&&!1!==m.exporting.enabled&&m.navigation&&m.navigation.buttonOptions;m=k.buttonPosition;var r=k.inputPosition,v=k.verticalAlign,w=function(b,c){return n&&a.titleCollision(d)&&"top"===v&&"right"===c.align&&c.y-b.getBBox().height-12<(n.y||0)+(n.height||0)+d.spacing[0]?-40:0},x=d.plotLeft;if(e&&m&&r){var y=m.x-d.spacing[3];if(b){this.positionButtons();if(!this.initialButtonGroupWidth){var z=
0;l&&(z+=l.getBBox().width+5);c.forEach(function(a,b){z+=a.width;b!==c.length-1&&(z+=k.buttonSpacing)});this.initialButtonGroupWidth=z}x-=d.spacing[3];this.updateButtonStates();l=w(b,m);this.alignButtonGroup(l);e.placed=b.placed=d.hasLoaded}b=0;h&&(b=w(h,r),"left"===r.align?y=x:"right"===r.align&&(y=-Math.max(d.axisOffset[1],-b)),h.align({y:r.y,width:h.getBBox().width,align:r.align,x:r.x+y-2},!0,d.spacingBox),h.placed=d.hasLoaded);this.handleCollision(b);e.align({verticalAlign:v},!0,d.spacingBox);
h=e.alignAttr.translateY;b=e.getBBox().height+20;w=0;"bottom"===v&&(w=(w=d.legend&&d.legend.options)&&"bottom"===w.verticalAlign&&w.enabled&&!w.floating?d.legend.legendHeight+q(w.margin,10):0,b=b+w-20,w=h-b-(k.floating?0:k.y)-(d.titleOffset?d.titleOffset[2]:0)-10);if("top"===v)k.floating&&(w=0),d.titleOffset&&d.titleOffset[0]&&(w=d.titleOffset[0]),w+=d.margin[0]-d.spacing[0]||0;else if("middle"===v)if(r.y===m.y)w=h;else if(r.y||m.y)w=0>r.y||0>m.y?w-Math.min(r.y,m.y):h-b;e.translate(k.x,k.y+Math.floor(w));
m=this.minInput;r=this.maxInput;h=this.dropdown;k.inputEnabled&&m&&r&&(m.style.marginTop=e.translateY+"px",r.style.marginTop=e.translateY+"px");h&&(h.style.marginTop=e.translateY+"px")}};d.prototype.alignButtonGroup=function(a,b){var c=this.chart,d=this.buttonGroup,e=this.options.buttonPosition,g=c.plotLeft-c.spacing[3],h=e.x-c.spacing[3];"right"===e.align?h+=a-g:"center"===e.align&&(h-=g/2);d&&d.align({y:e.y,width:q(b,this.initialButtonGroupWidth),align:e.align,x:h},!0,c.spacingBox)};d.prototype.positionButtons=
function(){var a=this.buttons,b=this.chart,c=this.options,d=this.zoomText,e=b.hasLoaded?"animate":"attr",h=c.buttonPosition,k=b.plotLeft,l=k;d&&"hidden"!==d.visibility&&(d[e]({x:q(k+h.x,k)}),l+=h.x+d.getBBox().width+5);this.buttonOptions.forEach(function(b,d){if("hidden"!==a[d].visibility)a[d][e]({x:l}),l+=a[d].width+c.buttonSpacing;else a[d][e]({x:k})})};d.prototype.handleCollision=function(a){var b=this,c=this.chart,d=this.buttonGroup,e=this.inputGroup,g=this.options,h=g.buttonPosition,k=g.dropdown,
l=g.inputPosition;g=function(){var a=0;b.buttons.forEach(function(b){b=b.getBBox();b.width>a&&(a=b.width)});return a};var m=function(b){if(e&&d){var c=e.alignAttr.translateX+e.alignOptions.x-a+e.getBBox().x+2,g=e.alignOptions.width,f=d.alignAttr.translateX+d.getBBox().x;return f+b>c&&c+g>f&&h.y<l.y+e.getBBox().height}return!1},n=function(){e&&d&&e.attr({translateX:e.alignAttr.translateX+(c.axisOffset[1]>=-a?0:-a),translateY:e.alignAttr.translateY+d.getBBox().height+10})};if(d){if("always"===k){this.collapseButtons(a);
m(g())&&n();return}"never"===k&&this.expandButtons()}e&&d?l.align===h.align||m(this.initialButtonGroupWidth+20)?"responsive"===k?(this.collapseButtons(a),m(g())&&n()):n():"responsive"===k&&this.expandButtons():d&&"responsive"===k&&(this.initialButtonGroupWidth>c.plotWidth?this.collapseButtons(a):this.expandButtons())};d.prototype.collapseButtons=function(a){var b,c=this.buttons,d=this.buttonOptions,e=this.dropdown,g=this.options,h=this.zoomText,k=function(a){return{text:a?a+" \u25be":"\u25be",width:"auto",
paddingLeft:8,paddingRight:8}};h&&h.hide();var l=!1;d.forEach(function(a,b){b=c[b];2!==b.state?b.hide():(b.show(),b.attr(k(a.text)),l=!0)});l||(e&&(e.selectedIndex=0),c[0].show(),c[0].attr(k(null===(b=this.zoomText)||void 0===b?void 0:b.textStr)));b=g.buttonPosition.align;this.positionButtons();"right"!==b&&"center"!==b||this.alignButtonGroup(a,c[this.currentButtonIndex()].getBBox().width);this.showDropdown()};d.prototype.expandButtons=function(){var a=this.buttons,b=this.buttonOptions,c=this.options,
d=this.zoomText;this.hideDropdown();d&&d.show();b.forEach(function(b,d){d=a[d];d.show();d.attr({text:b.text,width:c.buttonTheme.width||28,paddingLeft:"unset",paddingRight:"unset"});2>d.state&&d.setState(0)});this.positionButtons()};d.prototype.currentButtonIndex=function(){var a=this.dropdown;return a&&0<a.selectedIndex?a.selectedIndex-1:0};d.prototype.showDropdown=function(){var a=this.buttonGroup,b=this.buttons,c=this.chart,d=this.dropdown;if(a&&d){var e=a.translateX;a=a.translateY;b=b[this.currentButtonIndex()].getBBox();
v(d,{left:c.plotLeft+e+"px",top:a+.5+"px",width:b.width+"px",height:b.height+"px"});this.hasVisibleDropdown=!0}};d.prototype.hideDropdown=function(){var a=this.dropdown;a&&(v(a,{top:"-9999em",width:"1px",height:"1px"}),this.hasVisibleDropdown=!1)};d.prototype.getHeight=function(){var a=this.options,b=this.group,c=a.y,d=a.buttonPosition.y,e=a.inputPosition.y;if(a.height)return a.height;this.alignElements();a=b?b.getBBox(!0).height+13+c:0;b=Math.min(e,d);if(0>e&&0>d||0<e&&0<d)a+=Math.abs(b);return a};
d.prototype.titleCollision=function(a){return!(a.options.title.text||a.options.subtitle.text)};d.prototype.update=function(a){var b=this.chart;w(!0,b.options.rangeSelector,a);this.destroy();this.init(b);this.render()};d.prototype.destroy=function(){var a=this,b=a.minInput,c=a.maxInput;a.eventsToUnbind&&(a.eventsToUnbind.forEach(function(a){return a()}),a.eventsToUnbind=void 0);l(a.buttons);b&&(b.onfocus=b.onblur=b.onchange=null);c&&(c.onfocus=c.onblur=c.onchange=null);h(a,function(b,c){b&&"chart"!==
c&&(b instanceof N?b.destroy():b instanceof window.HTMLElement&&e(b));b!==d.prototype[c]&&(a[c]=null)},this)};return d}();d.prototype.defaultButtons=[{type:"month",count:1,text:"1m",title:"View 1 month"},{type:"month",count:3,text:"3m",title:"View 3 months"},{type:"month",count:6,text:"6m",title:"View 6 months"},{type:"ytd",text:"YTD",title:"View year to date"},{type:"year",count:1,text:"1y",title:"View 1 year"},{type:"all",text:"All",title:"View all"}];d.prototype.inputTypeFormats={"datetime-local":"%Y-%m-%dT%H:%M:%S",
date:"%Y-%m-%d",time:"%H:%M:%S"};a.prototype.minFromRange=function(){var a=this.range,b=a.type,c=this.max,d=this.chart.time,e=function(a,c){var e="year"===b?"FullYear":"Month",f=new d.Date(a),g=d.get(e,f);d.set(e,f,g+c);g===d.get(e,f)&&d.set("Date",f,0);return f.getTime()-a};if(O(a)){var h=c-a;var k=a}else h=c+e(c,-a.count),this.chart&&(this.chart.fixedRange=c-h);var l=q(this.dataMin,Number.MIN_VALUE);O(h)||(h=l);h<=l&&(h=l,"undefined"===typeof k&&(k=e(h,a.count)),this.newMax=Math.min(h+k,this.dataMax));
O(c)||(h=void 0);return h};if(!A.RangeSelector){var L=[],M=function(a){function b(){d&&(c=a.xAxis[0].getExtremes(),e=a.legend,k=null===d||void 0===d?void 0:d.options.verticalAlign,O(c.min)&&d.render(c.min,c.max),e.display&&"top"===k&&k===e.options.verticalAlign&&(h=w(a.spacingBox),h.y="vertical"===e.options.layout?a.plotTop:h.y+d.getHeight(),e.group.placed=!1,e.align(h)))}var c,d=a.rangeSelector,e,h,k;d&&(y(L,function(b){return b[0]===a})||L.push([a,[z(a.xAxis[0],"afterSetExtremes",function(a){d&&
d.render(a.min,a.max)}),z(a,"redraw",b)]]),b())};z(m,"afterGetContainer",function(){var a;if(null===(a=this.options.rangeSelector)||void 0===a?0:a.enabled)this.rangeSelector=new d(this)});z(m,"beforeRender",function(){var a=this.axes,b=this.rangeSelector;b&&(O(b.deferredYTDClick)&&(b.clickButton(b.deferredYTDClick),delete b.deferredYTDClick),a.forEach(function(a){a.updateNames();a.setScale()}),this.getAxisMargins(),b.render(),a=b.options.verticalAlign,b.options.floating||("bottom"===a?this.extraBottomMargin=
!0:"middle"!==a&&(this.extraTopMargin=!0)))});z(m,"update",function(a){var b=a.options.rangeSelector;a=this.rangeSelector;var e=this.extraBottomMargin,h=this.extraTopMargin;b&&b.enabled&&!c(a)&&this.options.rangeSelector&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=a=new d(this));this.extraTopMargin=this.extraBottomMargin=!1;a&&(M(this),b=b&&b.verticalAlign||a.options&&a.options.verticalAlign,a.options.floating||("bottom"===b?this.extraBottomMargin=!0:"middle"!==b&&(this.extraTopMargin=
!0)),this.extraBottomMargin!==e||this.extraTopMargin!==h)&&(this.isDirtyBox=!0)});z(m,"render",function(){var a=this.rangeSelector;a&&!a.options.floating&&(a.render(),a=a.options.verticalAlign,"bottom"===a?this.extraBottomMargin=!0:"middle"!==a&&(this.extraTopMargin=!0))});z(m,"getMargins",function(){var a=this.rangeSelector;a&&(a=a.getHeight(),this.extraTopMargin&&(this.plotTop+=a),this.extraBottomMargin&&(this.marginBottom+=a))});m.prototype.callbacks.push(M);z(m,"destroy",function(){for(var a=
0;a<L.length;a++){var b=L[a];if(b[0]===this){b[1].forEach(function(a){return a()});L.splice(a,1);break}}});A.RangeSelector=d}return A.RangeSelector});S(a,"Core/Chart/StockChart.js",[a["Core/Axis/Axis.js"],a["Core/Chart/Chart.js"],a["Core/Globals.js"],a["Core/Color/Palette.js"],a["Core/Series/Point.js"],a["Core/Series/Series.js"],a["Core/Renderer/SVG/SVGRenderer.js"],a["Core/Utilities.js"]],function(a,m,A,C,F,N,E,I){function B(a,c,e){var g=q(a)||a.nodeName,k=arguments[g?1:0],l=k,f=k.series,n=h(),r,
v=b(k.navigator&&k.navigator.enabled,n.navigator.enabled,!0);k.xAxis=d(k.xAxis||{}).map(function(a,b){return x({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},n.xAxis,n.xAxis&&n.xAxis[b],a,{type:"datetime",categories:null},v?{startOnTick:!1,endOnTick:!1}:null)});k.yAxis=d(k.yAxis||{}).map(function(a,c){r=b(a.opposite,!0);return x({labels:{y:-2},opposite:r,showLastLabel:!(!a.categories&&"category"!==a.type),title:{text:null}},n.yAxis,
n.yAxis&&n.yAxis[c],a)});k.series=null;k=x({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:v},scrollbar:{enabled:b(n.scrollbar.enabled,!0)},rangeSelector:{enabled:b(n.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:b(n.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},k,{isStock:!0});k.series=l.series=f;return g?new m(a,k,e):new m(k,c)}var z=F.prototype.tooltipFormatter,r=N.prototype,v=r.init,c=r.processData;r=I.addEvent;var l=I.arrayMax,e=I.arrayMin,n=I.clamp,
y=I.defined,k=I.extend,O=I.find,w=I.format,h=I.getOptions,G=I.isNumber,q=I.isString,x=I.merge,b=I.pick,d=I.splat;r(N,"setOptions",function(a){var b;this.chart.options.isStock&&(this.is("column")||this.is("columnrange")?b={borderWidth:0,shadow:!1}:this.is("scatter")||this.is("sma")||(b={marker:{enabled:!1,radius:2}}),b&&(a.plotOptions[this.type]=x(a.plotOptions[this.type],b)))});r(a,"autoLabelAlign",function(a){var b=this.chart,c=this.options;b=b._labelPanes=b._labelPanes||{};var d=this.options.labels;
this.chart.options.isStock&&"yAxis"===this.coll&&(c=c.top+","+c.height,!b[c]&&d.enabled&&(15===d.x&&(d.x=0),"undefined"===typeof d.align&&(d.align="right"),b[c]=this,a.align="right",a.preventDefault()))});r(a,"destroy",function(){var a=this.chart,b=this.options&&this.options.top+","+this.options.height;b&&a._labelPanes&&a._labelPanes[b]===this&&delete a._labelPanes[b]});r(a,"getPlotLinePath",function(a){function c(a){var b="xAxis"===a?"yAxis":"xAxis";a=d.options[b];return G(a)?[h[b][a]]:q(a)?[h.get(a)]:
e.map(function(a){return a[b]})}var d=this,e=this.isLinked&&!this.series?this.linkedParent.series:this.series,h=d.chart,k=h.renderer,f=d.left,l=d.top,m,r,t,v,w=[],x=[],z=a.translatedValue,A=a.value,B=a.force;if(h.options.isStock&&!1!==a.acrossPanes&&"xAxis"===d.coll||"yAxis"===d.coll){a.preventDefault();x=c(d.coll);var C=d.isXAxis?h.yAxis:h.xAxis;C.forEach(function(a){if(y(a.options.id)?-1===a.options.id.indexOf("navigator"):1){var b=a.isXAxis?"yAxis":"xAxis";b=y(a.options[b])?h[b][a.options[b]]:
h[b][0];d===b&&x.push(a)}});var E=x.length?[]:[d.isXAxis?h.yAxis[0]:h.xAxis[0]];x.forEach(function(a){-1!==E.indexOf(a)||O(E,function(b){return b.pos===a.pos&&b.len===a.len})||E.push(a)});var F=b(z,d.translate(A,null,null,a.old));G(F)&&(d.horiz?E.forEach(function(a){var b;r=a.pos;v=r+a.len;m=t=Math.round(F+d.transB);"pass"!==B&&(m<f||m>f+d.width)&&(B?m=t=n(m,f,f+d.width):b=!0);b||w.push(["M",m,r],["L",t,v])}):E.forEach(function(a){var b;m=a.pos;t=m+a.len;r=v=Math.round(l+d.height-F);"pass"!==B&&(r<
l||r>l+d.height)&&(B?r=v=n(r,l,l+d.height):b=!0);b||w.push(["M",m,r],["L",t,v])}));a.path=0<w.length?k.crispPolyLine(w,a.lineWidth||1):null}});E.prototype.crispPolyLine=function(a,b){for(var c=0;c<a.length;c+=2){var d=a[c],e=a[c+1];d[1]===e[1]&&(d[1]=e[1]=Math.round(d[1])-b%2/2);d[2]===e[2]&&(d[2]=e[2]=Math.round(d[2])+b%2/2)}return a};r(a,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())});r(a,"afterDrawCrosshair",function(a){var c,d;if(y(this.crosshair.label)&&
this.crosshair.label.enabled&&this.cross){var e=this.chart,h=this.logarithmic,l=this.options.crosshair.label,f=this.horiz,m=this.opposite,n=this.left,q=this.top,t=this.crossLabel,r=l.format,v="",x="inside"===this.options.tickPosition,z=!1!==this.crosshair.snap,A=0,B=a.e||this.cross&&this.cross.e,E=a.point;a=this.min;var F=this.max;h&&(a=h.lin2log(a),F=h.lin2log(F));h=f?"center":m?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center";t||(t=this.crossLabel=e.renderer.label(null,
null,null,l.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:l.align||h,padding:b(l.padding,8),r:b(l.borderRadius,3),zIndex:2}).add(this.labelGroup),e.styledMode||t.attr({fill:l.backgroundColor||this.series[0]&&this.series[0].color||C.neutralColor60,stroke:l.borderColor||"","stroke-width":l.borderWidth||0}).css(k({color:C.backgroundColor,fontWeight:"normal",fontSize:"11px",textAlign:"center"},l.style)));f?(h=z?E.plotX+
n:B.chartX,q+=m?0:this.height):(h=m?this.width+n:0,q=z?E.plotY+q:B.chartY);r||l.formatter||(this.dateTime&&(v="%b %d, %Y"),r="{value"+(v?":"+v:"")+"}");v=z?E[this.isXAxis?"x":"y"]:this.toValue(f?B.chartX:B.chartY);t.attr({text:r?w(r,{value:v},e):l.formatter.call(this,v),x:h,y:q,visibility:v<a||v>F?"hidden":"visible"});l=t.getBBox();if(G(t.y))if(f){if(x&&!m||!x&&m)q=t.y-l.height}else q=t.y-l.height/2;f?(c=n-l.x,d=n+this.width-l.x):(c="left"===this.labelAlign?n:0,d="right"===this.labelAlign?n+this.width:
e.chartWidth);t.translateX<c&&(A=c-t.translateX);t.translateX+l.width>=d&&(A=-(t.translateX+l.width-d));t.attr({x:h+A,y:q,anchorX:f?h:this.opposite?0:e.chartWidth,anchorY:f?this.opposite?e.chartHeight:0:q+l.height/2})}});N.prototype.init=function(){v.apply(this,arguments);this.initCompare(this.options.compare)};N.prototype.setCompare=function(a){this.initCompare(a);this.userOptions.compare=a};N.prototype.initCompare=function(a){this.modifyValue="value"===a||"percent"===a?function(b,c){var d=this.compareValue;
return"undefined"!==typeof b&&"undefined"!==typeof d?(b="value"===a?b-d:b/d*100-(100===this.options.compareBase?0:100),c&&(c.change=b),b):0}:null;this.chart.hasRendered&&(this.isDirty=!0)};N.prototype.processData=function(a){var b,d=-1,e=!0===this.options.compareStart?0:1;c.apply(this,arguments);if(this.xAxis&&this.processedYData){var h=this.processedXData;var k=this.processedYData;var f=k.length;this.pointArrayMap&&(d=this.pointArrayMap.indexOf(this.options.pointValKey||this.pointValKey||"y"));for(b=
0;b<f-e;b++){var l=k[b]&&-1<d?k[b][d]:k[b];if(G(l)&&h[b+e]>=this.xAxis.min&&0!==l){this.compareValue=l;break}}}};r(N,"afterGetExtremes",function(a){a=a.dataExtremes;if(this.modifyValue&&a){var b=[this.modifyValue(a.dataMin),this.modifyValue(a.dataMax)];a.dataMin=e(b);a.dataMax=l(b)}});a.prototype.setCompare=function(a,c){this.isXAxis||(this.series.forEach(function(b){b.setCompare(a)}),b(c,!0)&&this.chart.redraw())};F.prototype.tooltipFormatter=function(a){var c=this.series.chart.numberFormatter;a=
a.replace("{point.change}",(0<this.change?"+":"")+c(this.change,b(this.series.tooltipOptions.changeDecimals,2)));return z.apply(this,[a])};r(N,"render",function(){var a=this.chart;if(!(a.is3d&&a.is3d()||a.polar)&&this.xAxis&&!this.xAxis.isRadial){var b=this.yAxis.len;if(this.xAxis.axisLine){var c=a.plotTop+a.plotHeight-this.yAxis.pos-this.yAxis.len,d=Math.floor(this.xAxis.axisLine.strokeWidth()/2);0<=c&&(b-=Math.max(d-c,0))}this.clipBox||!this.isDirty||this.isDirtyData?a[this.sharedClipKey]&&(a[this.sharedClipKey].animate({width:this.xAxis.len,
height:b}),a[this.sharedClipKey+"m"]&&a[this.sharedClipKey+"m"].animate({width:this.xAxis.len})):(this.clipBox=x(a.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=b)}});r(m,"update",function(a){a=a.options;"scrollbar"in a&&this.navigator&&(x(!0,this.options.scrollbar,a.scrollbar),this.navigator.update({},!1),delete a.scrollbar)});A.StockChart=A.stockChart=B;"";return B});S(a,"masters/modules/stock.src.js",[],function(){});S(a,"masters/highstock.src.js",[a["masters/highcharts.src.js"]],
function(a){a.product="Highstock";return a});a["masters/highstock.src.js"]._modules=a;return a["masters/highstock.src.js"]});
//# sourceMappingURL=highstock.js.map
+function($){
$.fn.multiPageForm = function(config){

    var validatePage = function(page) {
            return validateFormFields(page);
        },
        storeDataInCookie = function(page) {
            storeInCookie(page, true);
        },
        storeData = function(page) {
            storeDataInCookie(page);
            if(typeof(Storage)=='undefined'||!page) {
				return;
            }

            var serializedValues = page.find('input,select,textarea').serializeArrayObject();
            var serializedKeys = Object.keys(serializedValues);

            for(var i=0;i<serializedKeys.length;i++){
                var key = serializedKeys[i];
                var value = serializedValues[key];

				localStorage.setItem(config.prefix + key, JSON.stringify(value));
            }
        },
        getDataJson = function() {
            var obj = {};
			for(var s in localStorage) {
                if(s.indexOf(config.prefix)==0) {
                    var key = s.replace(config.prefix,'');
					obj[key] = JSON.parse(localStorage.getItem(s));
                }
            }
            return JSON.stringify(obj);
        },
        clearStorage = function() {
            for(var s in localStorage) {
                if(s.indexOf(config.prefix)==0) {
					localStorage.removeItem(s);
                }
            }
        },
        nextClicked = function(e) {

            e.preventDefault();

            var isOTP=false;
            var isCalculatorSubmit=false;
            var isNextPage=true;
            var error_message='';
            for(var i=0;i<e.currentTarget.classList.length;i++){
                if(e.currentTarget.classList[i]=="calculator-otp"){
					isOTP=true;
                }
                if(e.currentTarget.classList[i]=="calculator-submit"){
                    isCalculatorSubmit=true;
                }
            }

            if(isOTP){
                if($.fn.calculator!=='undefined') {
                    if($('#check-agree').length){
                        if($('#check-agree').is(':checked')){
                    		$('#calculator-container-form').calculator(nextHandler,$(this).parents('div.form-page'));
                        }else{
							alert("Disclaimer is not checked!");
                        }
                    }else{
                    	$('#calculator-container-form').calculator(nextHandler,$(this).parents('div.form-page'));
                    }
                }
            }else{
                if($(this).hasClass("back-to-top")){
                    backToTop();
                }
                nextHandler($(this).parents('div.form-page'));
            }
        },
        backToTop = function(){
            $('html, body').animate({scrollTop: 0});
        },
        nextHandler = function(page){

            if(page.length>0 && validatePage(page)) {
                storeData(page);
                page.removeClass('active');
                page.next('.form-page').addClass('active');
            }
        },
        previousClicked = function(e) {

            e.preventDefault();

            var page = $(this).parents('div.form-page');

            if(page.length>0) {
                page.removeClass('active');
                page.prev('.form-page').addClass('active');

                if($(this).hasClass("back-to-top")){
                    backToTop();
                }
            }
        },
        submitClicked = function(e) {

            e.preventDefault();

            var page = $(this).parents('div.form-page'),
                form = page.parent('form');

            if(page.length>0 && validatePage(page)) {
                storeData(page);

                var data = getDataJson();

                $.post(config.actionUrl,data).success(function(){
                	clearStorage();
                    if(config.analyticsTag!='') {
                        try {
							sendDirectCall(config.analyticsTag);
                        } catch (err) {

                        }
                    }
                    if(config.thankyouUrl!='') {
                        $.get(config.thankyouUrl+'/jcr:content/content.html').success(function(data) {
                            form.parent('div').html(data);
                        });
                    }
                }).fail(function(){
					alert('failed');
                });
            }
        },
        bindControls = function(form) {
            if(config.nextPageClass) {
form.on('click','.'+config.nextPageClass,nextClicked);
            }
            if(config.prevPageClass) {
				form.on('click','.'+config.prevPageClass,previousClicked);
            }
            if(config.submitPageClass) {
				form.on('click','.'+config.submitPageClass,submitClicked);
            }
        }

    config.prefix = this.attr('id') + '-';
    config.actionUrl = this.attr('action');
    config.thankyouUrl = this.attr('data-thankyou');
    config.analyticsTag = this.attr('data-analytics');

    bindControls(this);
}
}(jQuery);
!(function($) {
    if(window._q && window._q.length>0){
      $.each(window._q,function(index,f){
        f();
      });
    }
})($);

function validateFormFields(p, _storeInCookie) {
    var page = null;
    if(p instanceof jQuery) page = p;
    else page = $(p);

    page.find(".field-error").removeClass("field-error");
    page.find(".fieldError").html("");

    var _result = true;
    // input field, text area: RE test
    page.find("input[re], textarea[re]").each(function(i, e){
        if($(e).attr("re")) {
            var regExp = new RegExp($(e).attr("re"));
            var testValue = $(e).val();
            try {
                testValue = JSON.parse(testValue);
            } catch(err){}
            if($(e).val().length > 0 && !regExp.test($(e).val())) {
                var idValue = $(e).attr("id");
                if(idValue) {
                    var msgField = $("#" + idValue + "_msg");
                    msgField.html($("<div />").html(msgField.attr("reMessage")).text());
                    $(e).addClass("field-error");
                }
                _result = false;
            }
        }
    });
    // textarea, textfield
    // country will change input type with other script, change all type of text with this calidationtype
    var result = page.find("input[required][validationtype='text'], textarea[required]").each(function(i, e){
        if(!$(e).val()) {
            var idValue = $(e).attr("id");
            if(idValue) {
                var msgField = $("#" + idValue + "_msg");
                msgField.html($("<div />").html(msgField.attr("requiredMessage")).text());
                $(e).addClass("field-error");
            }
            _result = false;
        }
    });
    // radiobutton, checkbox
    var result = page.find("input[required][type='radio'][index='0'], input[required][type='checkbox'][index='0']").each(function(i, e){
        var eName = $(e).attr("name");
        var result = page.find("input[required][type='radio'][name='"+eName+"']:checked, input[required][type='checkbox'][name='"+eName+"']:checked");
        if(result.length == 0) {
            var idValue = $(e).attr("groupID");
            if(idValue) {
                var msgField = $("#" + idValue + "_msg");
                msgField.html($("<div />").html(msgField.attr("requiredMessage")).text());
                $(e).addClass("field-error");
            }
            _result = false;
        }
    });
    // select box
    page.find("select[required]").each(function(i, e) {
        var selected = $(e).find("option:selected");
        if(selected.length <= 0 || !selected.attr("value") || selected.attr("value").length <= 0) {
            var idValue = $(e).attr("id");
            if(idValue) {
                var msgField = $("#" + idValue + "_msg");
                msgField.html($("<div />").html(msgField.attr("requiredMessage")).text());
                $(e).addClass("field-error");
            }
            _result = false;
        }
    });


    if(_storeInCookie && _result) {
        storeInCookie(page);
    }

    return _result;
}

function storeInCookie(p) {
    var page = null;
    if(p instanceof jQuery) page = p;
    else page = $(p);

    var COOKIE_PREFIX = "aiaform_";
    // store in cookie
    page.find("input[store='true']").each(function(i, e) {
        var eName = $(e).attr("name");
        if($(e).val()) {
            $.cookie(COOKIE_PREFIX + eName, $(e).val(), {path:'/'});
        }
    });
    page.find("textarea[store='true']").each(function(i, e) {
        var eName = $(e).attr("name");
        if($(e).val()) {
            $.cookie(COOKIE_PREFIX + eName, $(e).val(), {path:'/'});
        }
    });
    page.find("input[type='radio'][store='true']:checked").each(function(i,e){
        var eName = $(e).attr("name");
        if($(e).val()) {
            $.cookie(COOKIE_PREFIX + eName, $(e).val(), {path:'/'});
        }
    });
    page.find("input[type='checkbox'][store='true'][index='0']").each(function(i,e){
        var groupID = $(e).attr("groupid");
        var eName = $(e).attr("name");
        var list = page.find("input[type='checkbox'][store='true'][groupid='"+groupID+"']:checked");

        var result = new Array();
        for(var i=0;i<list.length;i++) {
            result.push($(list[i]).val());
        }
        if(eName) {
            $.cookie(COOKIE_PREFIX + eName, result.join(","), {path:'/'});
        }
    });
    page.find("select[store=true]").each(function(i, e) {
        var selected = $(e).find("option:selected");
        var eName = $(e).attr("name");
        if(selected.val() && eName) {
            $.cookie(COOKIE_PREFIX + eName, selected.val(), {path:'/'});
        }
    });
}

function setDatalayerCurator(list){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.curator = list;
	}
}

function setDatalayerCalculatorItems(list){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.calculator = list;
	}
}

function setDatalayerAddonItems(list){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.addon = list;
	}
}

function setButtonTextData(buttonClicked,text){
	var parents = $(buttonClicked).parents(".slide-content.centered-content");
	
	if(parents.length > 0){
		var grandpa = $(parents[0]).parents(".collapsible-carousel-container");
		if(grandpa.length > 0 ){
			var title = $(parents[0]).find("h1").text();
			if(typeof(aiaDatalayer)!="undefined"){
				aiaDatalayer.carouselCollapible={'carouselTitle':title};
			}
			return;
		}
		grandpa = $(parents[0]).parents(".carousel-container");
		if(grandpa.length > 0){
			var title = $(parents[0]).find("h1").text();
			if(typeof(aiaDatalayer)!="undefined"){
				aiaDatalayer.carouselNavigation={'navigationTitle':title};
			}
			return;
		}
	}
	
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.button={'buttonText':text};
	}
}

function setAddonItemData(addTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.addonitem={'addontitle':addTitle};
	}
}

// track the video button is clicked.
function setVedioButtonClicked(title, buttonCTA){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.videoButtonClick={'title':title,"buttonCTA":buttonCTA};
	}
}

function setCollapsibleContentSmall(contentTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.collapseContentSmall={'title':contentTitle};
	}
}

function setCollapsibleContentLarge(contentTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.collapseContentLarge={'title':contentTitle};
	}
}

function listBenefitClicked(benefitTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.listBenefit={'title':benefitTitle};
	}
}

function setListActionClicked(actionTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.actionList={'actionTitle':actionTitle};
	}
}

function setCollapsibleTableClicked(tableTitle){
	if(typeof(aiaDatalayer)!="undefined"){
		aiaDatalayer.collapsibleTable={'tableTitle':tableTitle};
	}
}


function sendDirectCall(trackKey){
    if(typeof _satellite != 'undefined')
    	_satellite.track(trackKey);
	//alert("send the direct call");
}

$(document).ready(function () {
    try{		
        if (navigator.userAgent.match(/iPhone/i) || navigator.userAgent.match(/iPad/i)) {
            var viewportmeta = document.querySelector('meta[name="viewport"]');
            if (viewportmeta) {
                viewportmeta.content = 'width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0';
                document.body.addEventListener('orientationchange', function () {
                    if($(".topnav .navmenu").hasClass("canvas-slid")){
                    	$(".navbar-one button[data-target='.navmenu']").click();
                    }
                    setTimeout(disableZoom, 500);
                }, false);
                document.body.addEventListener('devicemotion', function () {
                    if($(".topnav .navmenu").hasClass("canvas-slid")){
                    	$(".navbar-one button[data-target='.navmenu']").click();
                    }
                    setTimeout(disableZoom, 500);
                }, false);


                function disableZoom(){
                        //viewportmeta.content = 'width=device-width, minimum-scale=1.0, maximum-scale=1.0, initial-scale=1.0';
                        viewportmeta.content = 'width=device-width, minimum-scale=0.25, maximum-scale=1.6, initial-scale=1.0';
                }
            }
        }

		toggleNavZero();
		
		$(document).on('hidden.bs.modal',closeModalVideo);

		$('#gotocontent').click(function(e){
			scrollToElement($($(this).attr('href')), 0, 0.1);
		});
        //Android icon bug fix
        var nua = navigator.userAgent;
        if((nua.indexOf("Android") >= 0 || nua.indexOf("iPhone") >= 0) && nua.indexOf("Mobile") >= 0){
            var rules = '.row{margin-left:0;margin-right:0;}';
            rules += '.row .col{padding-left:0;padding-right:0;}';
            $('<style>').attr('id','mobile-style').text(rules).appendTo('head');
        }
        if(nua.indexOf("Android") >= 0) {
            $(".modal").on("shown.bs.modal", function() {
                $(this).find(".submit .btn").each(function(){
                    var obj = $(this);
                    obj.width(obj.width());
                });
            });
    /*        $("button.navbar-btn").on("click", function() {
                $(".nav.navmenu-nav svg:not(.pull-right)").each(function(){
                    var obj = $(this);
                    obj.html(obj.html());
                    console.log(obj);
                })
            });*/
            $(".navbar-brand svg").each(function(){
                try {
                    var objParent = $(this).parent();
                    objParent.html(objParent.html().replace(/\n/gi, '').trim());

                    var obj = objParent.find("svg");
                    var classes = obj.attr("class");
                    classes = classes.replace("visible-xs-inline-block", "");
                    obj.attr("class", classes);
                }catch(e){}
            });
        }

        //Form Init
        $("form").bind("submit", function(e) { return validateFormFields(this, true)});
        $(".single-select-group").each(function(i, e){
             var groupID = $(e).attr("id");
             $(this).find("input[type='radio']").on('click', function(e) {
                var group = document.getElementById(groupID);
                if(group && group.selectedValue && group.selectedValue != null && group.selectedValue == $(this).attr("id")) {
                    group.selectedValue = null;
                    $(this).removeAttr("checked");
                }
                else {
                    group.selectedValue = $(this).attr("id");
                }
             });
         });
        $('.mobile-firstlevel a.dropdown-toggle').click(function(e){
            e.preventDefault();
            var menuNode = $(this).parents('li');
            menuNode.siblings('li').removeClass('open');
            menuNode.toggleClass('open');
        });

        //Add for form label
        setLabelForAttr();
		
        $('.navbar-nav .dropdown').focusin(function(){
            if(!$(this).hasClass('open')) {
                $('.dropdown').removeClass('open');
                $('.dropdown [aria-expanded]').attr('aria-expanded',false);
                $('.navbar .search-suggest-box').hide();
                $(this).addClass('open');
                var elem = $(this).find('[aria-expanded]');
                if (elem.length>0) {
                    elem.attr('aria-expanded',true);
                }/*
                window.setTimeout(function(){
                    $('body').on('*','click',function(e){
                        if(e.parents('.navbar-tools').length==0) {
                            $('.dropdown').removeClass('open');
                            $('.dropdown [aria-expanded]').attr('aria-expanded',false);
                        }
                        $('body').off('click');
                    });
                },500);*/
            }
        });
        $('.navbar-tools .dropdown').mousedown(function(){
            $(this).data('clicked','clicked');
        });
        $('.navbar-tools .dropdown').mouseup(function(){
            $(this).removeData('clicked');
        });
        $('.navbar-tools .dropdown').focus(function(){
            if($(this).data('clicked')!=='clicked') {
                $(this).children('.dropdown-toggle').dropdown('toggle');
            }
        });
        $('.close-nav-dropdown-btn').focusout(function(){
            $(this).trigger('click.aia.navbar');
        });
        $('.search-suggest-box').focusout(function(){
            $('.dismiss-search-btn').trigger('click.aia.navbar');
        });

        var closeSearch = function(){
            var dd = $(this).parents('.dropdown');
            $('.search-suggest-box').hide();
            window.setTimeout(function () {
                dd.removeClass('open');
                dd.find('.dropdown-toggle').attr('aria-expanded', 'false');
            }, 100);
        };
        $('.dismiss-search-btn').click(closeSearch);
        $('.dismiss-search-btn').focusout(closeSearch);
    } catch(ee){}
});

function setLabelForAttr(formObj){
	if(formObj) {
		$(formObj).find("label").each(function(){
			if(this.hasAttribute("form-target-name")){
				var formElementName=this.getAttribute("form-target-name");
				var inputElement=$(formObj).find("input[name="+formElementName+"],select[name="+formElementName+"],textarea[name="+formElementName+"]");
				if(inputElement.length>0){
					var inputElementID=inputElement.attr("id");
					this.setAttribute("for", inputElementID)
				}
			}
		});
	} else {
		$("label").each(function(){
			if(this.hasAttribute("form-target-name")){
				var formElementName=this.getAttribute("form-target-name");
				var inputElement=$("input[name="+formElementName+"],select[name="+formElementName+"],textarea[name="+formElementName+"]");
				if(inputElement.length>0){
					var inputElementID=inputElement.attr("id");
					this.setAttribute("for", inputElementID)
				}
			}
		});
	}
}
function alignCardHeight(){
    document.headHeight = 0, document.descHeight = 0;
    $(".nav-switch a[data-toggle='tab']").on("click", function(){
        setTimeout(addCardStyle, 300);
    });
    addCardStyle();
}

function addCardStyle() {
    $('head style#card-style').remove();
    $('.card-2').each(function(){
        var hh = $(this).find('.card-head').outerHeight(),
            dh = $(this).find('.card-desc').outerHeight();

        if (hh>document.headHeight) document.headHeight = hh;
        if (dh>document.descHeight) document.descHeight = dh;
    });

    var rules = '@media (min-width: 768px) {.card-2 .card-head {height:'+document.headHeight+'px} .card-2 .card-desc {height:'+document.descHeight+'px}}';
	
	var ieVersion = parseInt(navigator.userAgent.toLowerCase().split('msie')[1],10);
	if(isNaN(ieVersion) || ieVersion > 8) {
		$('<style>').attr('id','card-style').text(rules).appendTo('head');
	}
}

function scrollToElement($elem, offset, time) {
    var $nb = $('.navbar-title-slim'), $nb3 = $('.navbar-three');

    var pos = $elem.offset().top -
      ($nb.position().top + $nb.height()
      + ($nb3.length > 0?$nb3.height():0))
      - (offset!=undefined?offset:0);

    $('body, html').animate({
        scrollTop: pos
    }, (time || 500));
}

function buttonClick(obj){
	if(!$(obj).data('toggle') && $(obj).data('link')) {
		window.open($(obj).data('link'),$(obj).data('target'));
	}

	setButtonTextData(obj,$(obj).text());
}

function toggleNavZero() {

    var 
		protocolPattern = new RegExp(/^https?:\/\//),
    	navBarZero = $('.navbar-zero'),
        navMenuZero = $('.navmenu-zero');

    if(navMenuZero.length>0) {

        var matchedHref = null, matchedTitle = null;

        navMenuZero.find('ul li a').each(function(){
			var href = $(this).attr('href');
            if(href) {
                href = href.replace(protocolPattern,'');
                if(href.lastIndexOf('/') > 0) {
                    var substr = href.substring(0,href.lastIndexOf('/'));
                    if(new RegExp(substr).test(location.href)) {
						matchedHref = $(this).attr('href');
                        matchedTitle = $(this).text();
                        return false;
                    }
                }
            }
        });

        if(matchedHref && matchedTitle) {
			var anchor = navMenuZero.children('li').children('a');
            if(anchor.length>0) {
				anchor.attr('href',matchedHref);
                anchor.text(matchedTitle);
            }
        }
    }

    if(navBarZero.length>0) {
		navBarZero.find('li a').removeClass('w');
        navBarZero.find('li a').each(function(){
            var href = $(this).attr('href');
            if(href) {
                href = href.replace(protocolPattern,'');
                if(href.lastIndexOf('/') > 0) {
                    var substr = href.substring(0,href.lastIndexOf('/'));
                    if(new RegExp(substr).test(location.href)) {
                        $(this).addClass('w');
                        return false;
                    }
                }
            }
        });
    }
}

function closeModalVideo() {
	try {
		$('.video-modal iframe, .modal-container iframe').each(function(){
			$(this).attr('src',$(this).attr('src'));
		});
        $('.video-modal video').each(function(){
            $(this)[0].pause();
        });
	} catch (err) {
	}
}
jQuery(document).ready(function($){
    // initialize popovers specific to this template
    $('body').popover({
        container: 'body',
        trigger: 'focus',
        placement: 'bottom',
        selector:'[data-toggle=popover]',
        html: true,
        content: function() {
            return $('#' + $(this).data('target')).html();
        }
    });
    $('body').on('click','a[data-toggle=popover]',function(e){
		e.preventDefault();
    });
    $('[data-toggle=popover]').on('click', function(){
		$(this).focus();
    });
    $(window).bind('resize', function () {
        $(".popover[role='tooltip']").hide();
    }).trigger('resize');
});
/*
 * jQuery-ajaxTransport-XDomainRequest - v1.0.4 - 2015-03-05
 * https://github.com/MoonScript/jQuery-ajaxTransport-XDomainRequest
 * Copyright (c) 2015 Jason Moon (@JSONMOON)
 * Licensed MIT (/blob/master/LICENSE.txt)
 */
(function(a){if(typeof define==='function'&&define.amd){define(['jquery'],a)}else if(typeof exports==='object'){module.exports=a(require('jquery'))}else{a(jQuery)}}(function($){if($.support.cors||!$.ajaxTransport||!window.XDomainRequest){return $}var n=/^(https?:)?\/\//i;var o=/^get|post$/i;var p=new RegExp('^(\/\/|'+location.protocol+')','i');$.ajaxTransport('* text html xml json',function(j,k,l){if(!j.crossDomain||!j.async||!o.test(j.type)||!n.test(j.url)||!p.test(j.url)){return}var m=null;return{send:function(f,g){var h='';var i=(k.dataType||'').toLowerCase();m=new XDomainRequest();if(/^\d+$/.test(k.timeout)){m.timeout=k.timeout}m.ontimeout=function(){g(500,'timeout')};m.onload=function(){var a='Content-Length: '+m.responseText.length+'\r\nContent-Type: '+m.contentType;var b={code:200,message:'success'};var c={text:m.responseText};try{if(i==='html'||/text\/html/i.test(m.contentType)){c.html=m.responseText}else if(i==='json'||(i!=='text'&&/\/json/i.test(m.contentType))){try{c.json=$.parseJSON(m.responseText)}catch(e){b.code=500;b.message='parseerror'}}else if(i==='xml'||(i!=='text'&&/\/xml/i.test(m.contentType))){var d=new ActiveXObject('Microsoft.XMLDOM');d.async=false;try{d.loadXML(m.responseText)}catch(e){d=undefined}if(!d||!d.documentElement||d.getElementsByTagName('parsererror').length){b.code=500;b.message='parseerror';throw'Invalid XML: '+m.responseText;}c.xml=d}}catch(parseMessage){throw parseMessage;}finally{g(b.code,b.message,c,a)}};m.onprogress=function(){};m.onerror=function(){g(500,'error',{text:m.responseText})};if(k.data){h=($.type(k.data)==='string')?k.data:$.param(k.data)}m.open(j.type,j.url);m.send(h)},abort:function(){if(m){m.abort()}}}});return $}));

$(function(){
	var amountScrolled = 300;

    $(window).scroll(function() {
      if ($(window).scrollTop() > amountScrolled) {
        $('a.back-to-top').fadeIn('slow');
      } else {
        $('a.back-to-top').fadeOut('slow');
      }
    });

    $('a.back-to-top, a.simple-back-to-top').click(function() {
      $('html,body').animate({
        scrollTop: 0
      }, 'fast');
      return false;
    });
});

/**
 * jQuery plugin for responsive & dynamic table data management
 */
;(function ( $ ) {
	'use strict';

	/**
	 * Table Manager plugin. This does a couple of things:
	 * 1. Sets up the responsible table headers
	 * 2. Adds data management to a table
	 */
	function TableManager() {
		// Plugin defaults
		this._defaults = {
			// Where to find the images
			imageBase: '/content/dam/aia/icons/',

			// register default data converters
			converters: {
				'string': function(data, options) {
					return (data).toString();
				},
				'date': function(data, options, colInfo) {

					var t,y,m,d,s='';
					t = new Date(data);
					y = t.getFullYear().toString();
					m = (t.getMonth()+1).toString();
					m = (m.length==1?'0'+m:m);
					d = (t.getDate()).toString();
					d = (d.length==1?'0'+d:d);
					
					if(colInfo.dateformat && colInfo.dateformat!='') {
						s = colInfo.dateformat.replace('y',y).replace('m',m).replace('d',d);
					} else {
						s = y + '-' + m + '-' + d;
					}
					
					return s;
				},
				'link': function(data, options, colInfo, rowData) {
					var link = $.tablemanager._templateString(colInfo.link, rowData);
					return $('<a>')
					  .attr('href', link)
					  .addClass('lk2')
					  .text(data);
				},
				'rating': function(data, options) {
					if (!data) data = '0';
					var $img = $.tablemanager._createSvgImageTag('rating-'+data+'star', 'rating-'+data+'star', options);

					// jQuery bug
					$img.attr('class', $img.attr('class')+' icon-xxs-rating-'+data+'star');
					var $tmp = $img.find('image')
					$tmp.attr('class', $tmp.attr('class')+' icon-fallback-rating-'+data+'star');

					return $img;
				},
				'stockMovement': function(data, options) {
					var val = Number(data); // todo: call the currency formatter?

					if (isNaN(val)) {
						return $('<span>').addClass('figure-none').html('&nbsp;');
					} else if (0 === val) {
						return $('<span>').addClass('figure-nochange').html('&nbsp;0');
					} else {
						return $('<span>').addClass('figure-'+(val>0?'up':'down')).text((val>0?'+':'')+val);
					}
				},
				'currency': function(data, options) {
					var val = Number(data); // todo: align right?
					var symbol = options.symbol || '';
					var postfix = options.postfix || false;

					return $('<span>').text((symbol!==''&&postfix===false?symbol+' ':'')+val+(symbol!==''&&postfix===true?' '+symbol:''));
				},
				'iconLink': function(data, options) {
					var fileType=(data).toString().match(/\.\w+?$/);
					fileType = (null === fileType)?'unknown':fileType[0].replace('\.', '').toLowerCase();

					  // jQuery bug
					  var $img = $.tablemanager._createSvgImageTag('file-'+fileType, 'file-'+fileType, options);
					  $img.attr('class', $img.attr('class')+' icon-xxs');

					return $('<a>')
					  .attr('href', data)
					  .append($img);
				}
			}
		};
	};

	/**
	 * Add secondary functions to be called
	 */
	$.extend(TableManager.prototype, {
		className: "TableManager",
		markerClassName: "hasTableManager",
		rowDataName: "row-data",

		/**
		 * Attach the table manager settings specific to this object, to
		 * to the object.
		 * @param target the target element
		 * @param settings additional settings to override the defaults
		 */
		_attachTableManager: function(target, settings) {
			var $target = $(target);
			if($target.hasClass(this.markerClassName)) return;

			// Store the dynamic table settings
			var localsettings = $.extend(true, {}, this._defaults, settings || {});
			$target.data(this.className, localsettings);

			// Add the responsive rules
			var id = '#'+$target.attr('id');
			var rules = '@media (max-width: 767px)  { ';

			// build the rules
			$target.find('th').each(function(ri) {
				ri++;
				rules += ' '+id+' td:nth-of-type('+ri+')::before {content: "'+$(this).text().trim().replace(/\s+/g,' ')+'";}';
			});
	
			rules += ' } ';
			$('<style>').text(rules).appendTo('head');
			$target.addClass(this.markerClassName);
		},

		/**
		 * Clear the contents (rows) from a table
		 * @param target the target element
		 */
		_clearTableManager: function(target) {
			$(target).find('tbody').empty();
		},

		/**
		 * Get the settings for a specific element
		 * @param the target element
		 */
		_getSettings: function(target) {
			var settings = $(target).data(this.className);
			return settings ? settings : this._defaults;
		},

		/**
		 * Load some data from an JSON source.
		 * This will automatically call any formatters registered on that
		 * column.
		 *
		 * @param target the target element
		 * @param src The URL of the data/web service location
		 * @param params The additional parameters to be passed to the service
		 * @param clear True if the existing table data should be removed
		 */
		_loadJSONTableManager: function(target, src, params, clear) {
			var $target = $(target);
			if (true === clear) this._clearTableManager(target);

			// Hide any error messages
			$('section[id^="'+$target.attr('id')+'-"]').not('.hide').addClass('hide');

			// get the table headers
			var tableHeaders = this._extractTableHeaders($target);

			// Converters to use
			var settings = this._getSettings(target);

			// Perform the data load
			$.ajax({
				url: src,
				data: params,
				cache: false,
				dataType: 'json'
			}).done(function(data, textStatus, jqXHR) {
				var row, col, rows=[];
				if (jqXHR.status == 204) { // no content
					$('#'+$target.attr('id')+'-no-data').removeClass('hide');
				}
				for(row=0; row<data.length; row++) {
					var $cols = $('<tr>')
					  .data($.tablemanager.rowDataName, data[row]);

					for (col=0; col<tableHeaders.length; col++) {
						var rowData = data[row][tableHeaders[col].name];
						if ('undefined' === typeof rowData) rowData = '';
						$('<td>')
						  .addClass('padding-right-xs padding-top-xxs ' + tableHeaders[col].name)
						  .html(settings.converters[tableHeaders[col].type](rowData, settings, tableHeaders[col], data[row])).appendTo($cols);
					}
					rows.push($cols[0]);
				}
				$target.find('tbody').append(rows);
			}).fail(function( jqXHR, textStatus, errorThrown ) {
				$('#'+$target.attr('id')+'-error').removeClass('hide');
			});
		},

		/**
		 * Load some data from an object
		 * This will automatically call any formatters registered on that
		 * column. The data object is:
		 * obj = {
		 *   data: [{},...],
		 *   columnHeaders: {...}
		 * }
		 *
		 * @param target the target element
		 * @param obj The object containing the data to load
		 * @param clear True if the existing table data should be removed
		 */
		_populateFromObjectTableManager: function(target, obj, clear) {
			var $target = $(target);
			if (true === clear) this._clearTableManager(target);

			// Hide any error messages
			$('section[id^="'+$target.attr('id')+'-"]').not('.hide').addClass('hide');

			// get the table headers
			var tableHeaders = this._extractTableHeaders($target, obj.columnHeaders);

			// Converters to use
			var settings = this._getSettings(target);

			// Perform the data load
			if(obj.data!=null) {
				var row, col, rows=[], data = obj.data;

				for(row=0; row<data.length; row++) {
					var $cols = $('<tr>')
					  .data($.tablemanager.rowDataName, data[row]);

					for (col=0; col<tableHeaders.length; col++) {
						var rowData = data[row][tableHeaders[col].name];
						if ('undefined' === typeof rowData) rowData = '';
						$('<td>')
						  .addClass('padding-right-xs padding-top-xxs ' + tableHeaders[col].name)
						  .html(settings.converters[tableHeaders[col].type](rowData, settings, tableHeaders[col], data[row])).appendTo($cols);
					}
					rows.push($cols[0]);
				}
				$target.find('tbody').append(rows);
			}
		},

		/**
		 * Load some from an array
		 * This will automatically call any formatters registered on that
		 * column. This assumes the data is in an array format
		 * obj = {
		 *   data: [[],...],
		 *   columnHeaders: {...}
		 * }
		 *
		 * @param target the target element
		 * @param obj The object containing the data to load
		 * @param clear True if the existing table data should be removed
		 */
		_populateFromArrayTableManager: function(target, obj, clear) {
			var $target = $(target);
			if (true === clear) this._clearTableManager(target);

			// Hide any error messages
			$('section[id^="'+$target.attr('id')+'-"]').not('.hide').addClass('hide');

			// get the table headers
			var tableHeaders = this._extractTableHeaders($target, obj.columnHeaders);

			// Converters to use
			var settings = this._getSettings(target);

			// Perform the data load
			if(obj.data!=null) {
				var row, col, rows=[], data = obj.data;

				for(row=0; row<data.length; row++) {
					var $cols = $('<tr>')
					  .data($.tablemanager.rowDataName, data[row]);

					for (col=0; col<tableHeaders.length; col++) {
						var rowData = data[row][col];
						if ('undefined' === typeof rowData) rowData = '';
						$('<td>')
						  .addClass('padding-right-xs padding-top-xxs ' + tableHeaders[col].name)
						  .html(settings.converters[tableHeaders[col].type](rowData, settings, tableHeaders[col], data[row])).appendTo($cols);
					}
					rows.push($cols[0]);
				}
				$target.find('tbody').append(rows);
			}
		},

		/**
		 * Extract/setup the table headers
		 * @param $target The jQuery object to target
		 * @param headers The headers to setup if needed
		 * @return an object containing the header definitions
		 */
		_extractTableHeaders: function($target, headers) {
			headers = headers || null;

			// get the table headers
			var tableHeaders = [];
			$target.find('tr th').each(function() {
				var $this = $(this);
				var dataName = $this.data('src-name');
				var dataType = $this.data('src-type');
				var linkDest = $this.data('src-link-dest');
				var dateformat = $this.data('dateformat');

				if(headers!==null && typeof headers[dataName]!=='undefined') {
					$this.text(headers[dataName]);
				}

				tableHeaders.push({
					name: dataName,
					type: dataType ? dataType : 'string',
					link: linkDest ? linkDest : '',
					dateformat: dateformat ? dateformat :''
				});
			});
			return tableHeaders;
		},
		
		/**
		 * Image helper
		 * This isnt table related but needs to move into some DLS helpers. Need to use DOM
		 * as jQuery cannot cope with namespaces.
		 * TODO: the title may not be helpful
		 */
		_createSvgImageTag: function(img, title, options) {
			var svgns = 'http://www.w3.org/2000/svg';
			var xlinkns = 'http://www.w3.org/1999/xlink';

			var cn, svgnode = document.createElementNS(svgns, 'svg');
			svgnode.setAttributeNS('', 'class', 'hide-on-fallback');
			svgnode.setAttributeNS('', 'role', 'img');
			svgnode.setAttributeNS('', 'title', title);

			cn = document.createElementNS(svgns, 'use');
			cn.setAttributeNS(xlinkns, 'xlink:href', options.imageBase+'icons.svg#'+img);
			svgnode.appendChild(cn);

			cn = document.createElementNS(svgns, 'image');
			cn.setAttributeNS('', 'src', options.imageBase+img+'.png');
			cn.setAttributeNS('', 'class', 'icon-fallback');
			cn.setAttributeNS(xlinkns, 'xlink:href', '');
			svgnode.appendChild(cn);

			return $(svgnode);
		},

		/**
		 * Template helper
		 * This is a cheap & cheerful templating engine for URLs etc.
		 * @param str The string to apply the template to.
		 * @param data The data map
		 * @return A formatted string
		 */
		_templateString: function(str, data) {
			str = str || '';
			var i, arr = str.match(/{{\w.+?}}/g);
			if (null === arr) return str;
			
			// Start the template
			for(i=0; i<arr.length; i++) {
				var attr = arr[i].replace(/[{}]+/g, '');
				str = str.replace(new RegExp(arr[i], 'g'), data[attr]?data[attr]:'');
			}
			return str;
		},

		/**
		 * Create a unique id
		 * @return a GUID
		 */
		_createId: function() {
			return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
				var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
				return v.toString(16);
			});
		}
	});


	/**
	 * Plugin main function
	 */
	$.fn.tableManager = function(options) {
		if ( !this.length ) {
			return this;
		}

		var otherArgs = Array.prototype.slice.call(arguments, 1);

		// Standard calls
		this.filter('table').each(function(ti) {
			// Assign an ID if none exists - little hacky
			var $this = $(this);
			if ('undefined' === typeof $this.attr('id')) {
				$this.attr('id', $.tablemanager._createId());
			}
			typeof options === "string" ?
			  $.tablemanager["_" + options + "TableManager"].apply($.tablemanager, [this].concat(otherArgs)) :
			  $.tablemanager._attachTableManager(this, options);
		});

		return this;
	};

	// Store a global singleton reference
	$.tablemanager = new TableManager();

}( jQuery ));
;(function ($) {
  $.fn.ngResponsiveTables = function(options) {
    var defaults = {
    smallPaddingCharNo: 5,
    mediumPaddingCharNo: 10,
    largePaddingCharNo: 15
    },
    $selElement = this,
    ngResponsiveTables = {
      opt: '',
      dataContent: '',
      globalWidth: 0,
    init: function(){
      this.opt = $.extend( defaults, options );
      ngResponsiveTables.targetTable();
    },
    targetTable: function(){
      var that = this;
      $selElement.find('tr').each(function(){
        $(this).find('td').each(function(i, v){
          that.checkForTableHead( $(this), i );
          $(this).addClass('tdno' + i);
        });
      });
    },
    checkForTableHead: function(element, index){
      if( $selElement.find('th').length ){
        this.dataContent = $selElement.find('th')[index].textContent;
      }else{
        this.dataContent = $selElement.find('tr:first td')[index].textContent;
      }
      // This padding is for large texts inside header of table
      // Use small, medium and large paddingMax values from defaults to set-up offsets for each class
      if( this.opt.smallPaddingCharNo > $.trim(this.dataContent).length ){
        element.addClass('small-padding');
      }else if( this.opt.mediumPaddingCharNo > $.trim(this.dataContent).length ){
        element.addClass('medium-padding');
      }else{
        element.addClass('large-padding');
      }
      element.attr('data-content', this.dataContent);
    }
  };

  $(function(){
    ngResponsiveTables.init();
  });
    return this;
  };

}(jQuery));
(function(window, $) {
    "use strict";

    // Collapsible Carousel
    var collapsibleCarousel = $('[data-target="collapsible-carousel"]');

    if(collapsibleCarousel.length>0) {
	    $(collapsibleCarousel).slick({
	      autoplay: true,
	      arrows: false,
	      waitForAnimate: false,
	      dots: true,
	      infinite: true,
	      speed: 500,
	      slidesToShow: 1,
	      slidesToScroll: 1,
	      touchThreshold: 20,
	      mobileFirst: true,
	      responsive: [
	        {
	          breakpoint: 1200,
	          settings: {
	            arrows: true
	          }
	        }
	      ]
	    });
    }
    
})(window, jQuery); 
(function(window, $) {
    "use strict";

    // Carousel and Carousel Nav
    var tabs = $('[data-target="hero-carousel-nav"]').find(".carousel-tab");
    var carousel = $('[data-target="hero-carousel"]');
    var slides = $('[data-target="slide"]');

    if (carousel.length>0) {
    	$(carousel).slick({
	  	arrows: false,
	  	pauseOnHover: true,
	      autoplay: true,
	      waitForAnimate: false,
	      dots: true,
	      infinite: true,
	      speed: 500,
	      slidesToShow: 1,
	      slidesToScroll: 1,
	      touchThreshold: 20,
	      mobileFirst: true,
	      responsive: [
	        {
	          breakpoint: 1200,
	          settings: {
	            dots: false
	          }
	        }
	      ]
	    });
	    
	    // Pause carousel during mobile nav menu
	    $('.offcanvas').on('show.bs.offcanvas', function() {
	      $(carousel)[0].slick.slickPause();
	    });
	    $('.offcanvas').on('hidden.bs.offcanvas', function() {
	      $(carousel)[0].slick.slickPlay();
	    });
	
	    $(tabs).each(function(index) {
	      $(tabs[index]).attr("data-tab-index", index);
	    });
	
	    $(carousel).on('afterChange', function() {
	      var currentSlideIndex = $(carousel).slick('slickCurrentSlide');
	      $(tabs).removeClass("active");
	      $(tabs).eq(currentSlideIndex).addClass("active");
	    });
	
	    var currentTabIndex, tabIndex;
	
	    $(tabs).on('mouseover', function() {
	      var currentTabIndex = $(tabs).index(this);
	      $(tabs).removeClass("active");
	      $(tabs).eq(currentTabIndex).addClass("active");
	      $(carousel)[0].slick.slickGoTo(parseInt(currentTabIndex));
          $(".hero-carousel").slick("slickPause");
	    });
	    $(tabs).on('mouseout', function() {
          $(".hero-carousel").slick("slickPlay");
	    });
    
    }

})(window, jQuery); 
(function(window, $) {
    "use strict";

    // Text Carousel
    var initTextCarousel = function(textCarousel) {                
        $(textCarousel).slick({
            autoplay : true,
            arrows : false,
            dots : true,
            infinite : true,
            speed : 500,
            slidesToShow : 1,
            slidesToScroll : 1,
            touchThreshold : 20,
            mobileFirst : true,
            responsive : [{
                breakpoint : 1200,
                settings : {
                    arrows : true
                }
            }]
        });
    };
    
    if( $.cookie('wcmmode') != 'edit' ){
        $(function(){
            var textCarousel = $('[data-target="text-carousel"]');
            initTextCarousel(textCarousel);
        });
    } 
})(window, jQuery); 
$(function(){
	$(document).on('click', '.collapsible-table .expand-all', function () {
        var wrapper = $(this).parent();
        wrapper.find('.expand-all, .collapse-all').toggleClass('hide');
        wrapper.find('.collapsible-table-content').collapse('show');
        var title = wrapper.find('h4').text();
        setCollapsibleTableClicked(title);
    });
    $(document).on('click', '.collapsible-table .collapse-all', function () {
        var wrapper = $(this).parent();
        wrapper.find('.expand-all, .collapse-all').toggleClass('hide');
        wrapper.find('.collapsible-table-content').collapse('hide');
    });
});
/* jssocials - v1.0.0 - 2015-10-16
 * http://js-socials.com
 * Copyright (c) 2015 Artem Tabalin; Licensed MIT */
! function(a, b, c) {
    function d(a, c) {
        var d = b(a);
        d.data(f, this), this._$element = d, this.shares = [], this._init(c), this._render()
    }
    var e = "JSSocials",
        f = e,
        g = function(a, c) {
            return b.isFunction(a) ? a.apply(c, b.makeArray(arguments).slice(2)) : a
        },
        h = /(\.(jpeg|png|gif|bmp)$|^data:image\/(jpeg|png|gif|bmp);base64)/i,
        i = /(&?[a-zA-Z0-9]+=)\{([a-zA-Z0-9]+)\}/g,
        j = {
            G: 1e9,
            M: 1e6,
            K: 1e3
        },
        k = [];
    d.prototype = {
        url: "",
        text: "",
        showLabel: function(a) {
            return this.showCount === !1 ? a > this.smallScreenWidth : a >= this.largeScreenWidth
        },
        showCount: function(a) {
            return a <= this.smallScreenWidth ? "inside" : !0
        },
        smallScreenWidth: 640,
        largeScreenWidth: 1024,
        resizeTimeout: 200,
        elementClass: "jssocials",
        sharesClass: "jssocials-shares",
        shareClass: "jssocials-share",
        shareButtonClass: "jssocials-share-button",
        shareLinkClass: "jssocials-share-link",
        shareLogoClass: "jssocials-share-logo",
        shareLabelClass: "jssocials-share-label",
        shareLinkCountClass: "jssocials-share-link-count",
        shareCountBoxClass: "jssocials-share-count-box",
        shareCountClass: "jssocials-share-count",
        shareZeroCountClass: "jssocials-share-no-count",
        _init: function(a) {
            this._initDefaults(), b.extend(this, a), this._initShares(), this._attachWindowResizeCallback()
        },
        _initDefaults: function() {
            this.url = a.location.href, this.text = b.trim(b("head title").text() || b("meta[name=description]").attr("content"))
        },
        _initShares: function() {
            this.shares = b.map(this.shares, b.proxy(function(a) {
                "string" == typeof a && (a = {
                    share: a
                });
                var c = a.share && k[a.share];
                if (!c && !a.renderer) throw Error("Share '" + a.share + "' is not found");
                return b.extend({
                    url: this.url,
                    text: this.text
                }, c, a)
            }, this))
        },
        _attachWindowResizeCallback: function() {
            b(a).on("resize", b.proxy(this._windowResizeHandler, this))
        },
        _detachWindowResizeCallback: function() {
            b(a).off("resize", this._windowResizeHandler)
        },
        _windowResizeHandler: function() {
            (b.isFunction(this.showLabel) || b.isFunction(this.showCount)) && (a.clearTimeout(this._resizeTimer), this._resizeTimer = setTimeout(b.proxy(this.refresh, this), this.resizeTimeout))
        },
        _render: function() {
            this._clear(), this._defineOptionsByScreen(), this._$element.addClass(this.elementClass), this._$shares = b("<div>").addClass(this.sharesClass).appendTo(this._$element), this._renderShares()
        },
        _defineOptionsByScreen: function() {
            this._screenWidth = b(a).width(), this._showLabel = g(this.showLabel, this, this._screenWidth), this._showCount = g(this.showCount, this, this._screenWidth)
        },
        _renderShares: function() {
            b.each(this.shares, b.proxy(function(a, b) {
                this._renderShare(b)
            }, this))
        },
        _renderShare: function(a) {
            var c;
			if(!a.displayMode ||
				(a.displayMode === 'mobile' && this._isMobile()) ||
				(a.displayMode === 'desktop' && !this._isMobile()) ||
				(a.displayMode === 'mobile-not-ipad' && this._isMobile() && !this._isiPad())) {
				c = b.isFunction(a.renderer) ? b(a.renderer()) : this._createShare(a), c.addClass(this.shareClass).addClass(a.share ? "jssocials-share-" + a.share : "").addClass(a.css).appendTo(this._$shares)
			}
        },
		_isMobile:function(){
			return /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
		},
		_isiPad:function(){
			return /iPad/i.test(navigator.userAgent);
		},
        _createShare: function(a) {
            var c = b("<div>"),
                d = this._createShareLink(a).appendTo(c);
            if (this._showCount) {
                var e = "inside" === this._showCount,
                    f = e ? d : b("<div>").addClass(this.shareCountBoxClass).appendTo(c);
                f.addClass(e ? this.shareLinkCountClass : this.shareCountBoxClass), this._renderShareCount(a, f)
            }
            return c
        },
        _createShareLink: function(a) {
            var c = b("<a>").addClass(this.shareLinkClass).attr({
                href: this._getShareUrl(a),
                target: this._getShareUrl(a).substr(0, 6) === "mailto" ? "_self" : "_blank"
            }).append(this._createShareLogo(a));
            return b.each(this.on || {}, function(d, e) {
                b.isFunction(e) && c.on(d, b.proxy(e, a))
            }), this._showLabel && c.append(this._createShareLabel(a)), c
        },
        _getShareUrl: function(a) {
            var b = g(a.shareUrl, a);
            return this._formatShareUrl(b, a)
        },
        _createShareLogo: function(a) {
            var c = a.logo,
                d = h.test(c) ? b("<img>").attr({
                    "src": a.logo,
                    "alt": a.title
                }) : b("<i>").addClass(c);
            return d.addClass(this.shareLogoClass), d
        },
        _createShareLabel: function(a) {
            return b("<span>").addClass(this.shareLabelClass).text(a.label)
        },
        _renderShareCount: function(a, c) {
            var d = b("<span>").addClass(this.shareCountClass);
            c.addClass(this.shareZeroCountClass).append(d), this._loadCount(a).done(b.proxy(function(a) {
                a && (c.removeClass(this.shareZeroCountClass), d.text(a))
            }, this))
        },
        _loadCount: function(a) {
            var c = b.Deferred(),
                d = this._getCountUrl(a);
            if (!d) return c.resolve(0).promise();
            var e = b.proxy(function(b) {
                c.resolve(this._getCountValue(b, a))
            }, this);
            return b.getJSON(d).done(e).fail(function() {
                b.get(d).done(e).fail(function() {
                    c.resolve(0)
                })
            }), c.promise()
        },
        _getCountUrl: function(a) {
            var b = g(a.countUrl, a);
            return this._formatShareUrl(b, a)
        },
        _getCountValue: function(a, c) {
            var d = (b.isFunction(c.getCount) ? c.getCount(a) : a) || 0;
            return "string" == typeof d ? d : this._formatNumber(d)
        },
        _formatNumber: function(a) {
            return b.each(j, function(b, c) {
                return a >= c ? (a = parseFloat((a / c).toFixed(2)) + b, !1) : void 0
            }), a
        },
        _formatShareUrl: function(b, c) {
            return b.replace(i, function(b, d, e) {
                var f = c[e] || "";
                return f ? d + a.encodeURIComponent(f) : ""
            })
        },
        _clear: function() {
            a.clearTimeout(this._resizeTimer), this._$element.empty()
        },
        refresh: function() {
            this._render()
        },
        destroy: function() {
            this._clear(), this._detachWindowResizeCallback(), this._$element.removeClass(this.elementClass).removeData(f)
        },
        option: function(a, b) {
            return 1 === arguments.length ? this[a] : (this[a] = b, void this.refresh())
        }
    }, b.fn.jsSocials = function(a) {
        var e = b.makeArray(arguments),
            g = e.slice(1),
            h = this;
        return this.each(function() {
            var e, i = b(this),
                j = i.data(f);
            if (j)
                if ("string" == typeof a) {
                    if (e = j[a].apply(j, g), e !== c && e !== j) return h = e, !1
                } else j._detachWindowResizeCallback(), j._init(a), j._render();
            else new d(i, a)
        }), h
    };
    var l = function(a) {
        var c;
        b.isPlainObject(a) ? c = d.prototype : (c = k[a], a = arguments[1] || {}), b.extend(c, a)
    };
    a.jsSocials = {
        Socials: d,
        shares: k,
        setDefaults: l
    }
}(window, jQuery),
function(a, b, c) {
    b.extend(c.shares, {
        email: {
            label: "E-mail",
            logo: "fa fa-at",
            shareUrl: "mailto:?subject={text}&body={url}",
            countUrl: ""
        },
        twitter: {
            label: "Tweet",
            logo: "fa fa-twitter",
            shareUrl: "https://twitter.com/share?url={url}&text={text}&via={via}&hashtags={hashtags}",
            countUrl: "https://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",
            getCount: function(a) {
                return a.count
            }
        },
        facebook: {
            label: "Like",
            logo: "fa fa-facebook",
            shareUrl: "https://facebook.com/sharer/sharer.php?u={url}",
            countUrl: function() {
                return "https://graph.facebook.com/fql?q=SELECT total_count FROM link_stat WHERE url='" + a.encodeURIComponent(this.url) + "'"
            },
            getCount: function(a) {
                return a.data.length && a.data[0].total_count || 0
            }
        },
        googleplus: {
            label: "+1",
            logo: "fa fa-google-plus",
            shareUrl: "https://plus.google.com/share?url={url}",
            countUrl: function() {
                return "https://cors-anywhere.herokuapp.com/https://plusone.google.com/_/+1/fastbutton?url=" + a.encodeURIComponent(this.url)
            },
            getCount: function(a) {
                return parseFloat((a.match(/\{c: ([.0-9E]+)/) || [])[1])
            }
        },
        linkedin: {
            label: "Share",
            logo: "fa fa-linkedin",
            shareUrl: "https://www.linkedin.com/shareArticle?url={url}",
            countUrl: "https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",
            getCount: function(a) {
                return a.count
            }
        },
        pinterest: {
            label: "Pin it",
            logo: "fa fa-pinterest",
            shareUrl: "https://pinterest.com/pin/create/bookmarklet/?media={media}&url={url}&description={text}",
            countUrl: "https://api.pinterest.com/v1/urls/count.json?&url={url}&callback=?",
            getCount: function(a) {
                return a.count
            }
        }
    })
}(window, jQuery, window.jsSocials);
jsSocials.shares.email = {
   logo: "/content/dam/common/en/icons/message-2nd.png",
   shareUrl: "mailto:?subject={text}&body={url}",
   countUrl: "",
   title: 'Email'
};

jsSocials.shares.twitter =  {
   logo: "/content/dam/common/en/icons/twitter-2nd.png",
   shareUrl: "https://twitter.com/share?url={url}&text={text}&via={via}&hashtags={hashtags}",
   countUrl: "https://cdn.api.twitter.com/1/urls/count.json?url={url}&callback=?",
   getCount: function(data) {
      return data.count;
   },
   title: 'Twitter'
};

//update facebook share link 20161012
//old link : shareUrl: "https://www.facebook.com/dialog/feed?link={url}",
jsSocials.shares.facebook =  {
   logo: "/content/dam/common/en/icons/facebook-2nd.png",
   shareUrl: "https://facebook.com/sharer/sharer.php?u={url}",
   countUrl: function() {
      return "https://graph.facebook.com/fql?q=SELECT total_count FROM link_stat WHERE url='" + window.encodeURIComponent(this.url) + "'";
   },
   getCount: function(data) {
      return (data.data.length && data.data[0].total_count) || 0;
   },
   title: 'Facebook'
};

jsSocials.shares.googleplus =  {
   logo: "/content/dam/common/en/icons/google-2nd.png",
   shareUrl: "https://plus.google.com/share?url={url}",
   countUrl: function() {
      return "https://cors-anywhere.herokuapp.com/https://plusone.google.com/_/+1/fastbutton?url="+ window.encodeURIComponent(this.url);
   },
   getCount: function(data) {
      return parseFloat((data.match(/\{c: ([.0-9E]+)/) || [])[1]);
   },
   title: 'Google Plus'
};

jsSocials.shares.linkedin =  {
   logo: "/content/dam/common/en/icons/linkedin-2nd.png",
   shareUrl: "https://www.linkedin.com/shareArticle?url={url}",
   countUrl: "https://www.linkedin.com/countserv/count/share?format=jsonp&url={url}&callback=?",
   getCount: function(data) {
      return data.count;
   },
   title: 'LinkedIn'
};

jsSocials.shares.line =  {
   logo: "/content/dam/common/en/icons/line-2nd.png",
   shareUrl: "http://line.me/R/msg/text/?"+window.encodeURIComponent(document.title)+"%0D%0A"+window.encodeURIComponent(location.href),
   countUrl: "",
   title: 'Line'
};

jsSocials.shares.whatsapp =  {
   logo: "/content/dam/common/en/icons/whatsapp-2nd.png",
   shareUrl: "whatsapp://send?text="+window.encodeURIComponent(location.href),
   countUrl: "",
   title: 'WhatsApp',
   displayMode: 'mobile-not-ipad'
};

/*
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper.
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */

(function () {

    /************************************
        Constants
    ************************************/

    var numeral,
        VERSION = '1.5.3',
        // internal storage for language config files
        languages = {},
        currentLanguage = 'en',
        zeroFormat = null,
        defaultFormat = '0,0',
        // check for nodeJS
        hasModule = (typeof module !== 'undefined' && module.exports);


    /************************************
        Constructors
    ************************************/


    // Numeral prototype object
    function Numeral (number) {
        this._value = number;
    }

    /**
     * Implementation of toFixed() that treats floats more like decimals
     *
     * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present
     * problems for accounting- and finance-related software.
     */
    function toFixed (value, precision, roundingFunction, optionals) {
        var power = Math.pow(10, precision),
            optionalsRegExp,
            output;
            
        //roundingFunction = (roundingFunction !== undefined ? roundingFunction : Math.round);
        // Multiply up by precision, round accurately, then divide and use native toFixed():
        output = (roundingFunction(value * power) / power).toFixed(precision);

        if (optionals) {
            optionalsRegExp = new RegExp('0{1,' + optionals + '}$');
            output = output.replace(optionalsRegExp, '');
        }

        return output;
    }

    /************************************
        Formatting
    ************************************/

    // determine what type of formatting we need to do
    function formatNumeral (n, format, roundingFunction) {
        var output;

        // figure out what kind of format we are dealing with
        if (format.indexOf('$') > -1) { // currency!!!!!
            output = formatCurrency(n, format, roundingFunction);
        } else if (format.indexOf('%') > -1) { // percentage
            output = formatPercentage(n, format, roundingFunction);
        } else if (format.indexOf(':') > -1) { // time
            output = formatTime(n, format);
        } else { // plain ol' numbers or bytes
            output = formatNumber(n._value, format, roundingFunction);
        }

        // return string
        return output;
    }

    // revert to number
    function unformatNumeral (n, string) {
        var stringOriginal = string,
            thousandRegExp,
            millionRegExp,
            billionRegExp,
            trillionRegExp,
            suffixes = ['KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
            bytesMultiplier = false,
            power;

        if (string.indexOf(':') > -1) {
            n._value = unformatTime(string);
        } else {
            if (string === zeroFormat) {
                n._value = 0;
            } else {
                if (languages[currentLanguage].delimiters.decimal !== '.') {
                    string = string.replace(/\./g,'').replace(languages[currentLanguage].delimiters.decimal, '.');
                }

                // see if abbreviations are there so that we can multiply to the correct number
                thousandRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.thousand + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                millionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.million + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                billionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.billion + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');
                trillionRegExp = new RegExp('[^a-zA-Z]' + languages[currentLanguage].abbreviations.trillion + '(?:\\)|(\\' + languages[currentLanguage].currency.symbol + ')?(?:\\))?)?$');

                // see if bytes are there so that we can multiply to the correct number
                for (power = 0; power <= suffixes.length; power++) {
                    bytesMultiplier = (string.indexOf(suffixes[power]) > -1) ? Math.pow(1024, power + 1) : false;

                    if (bytesMultiplier) {
                        break;
                    }
                }

                // do some math to create our number
                n._value = ((bytesMultiplier) ? bytesMultiplier : 1) * ((stringOriginal.match(thousandRegExp)) ? Math.pow(10, 3) : 1) * ((stringOriginal.match(millionRegExp)) ? Math.pow(10, 6) : 1) * ((stringOriginal.match(billionRegExp)) ? Math.pow(10, 9) : 1) * ((stringOriginal.match(trillionRegExp)) ? Math.pow(10, 12) : 1) * ((string.indexOf('%') > -1) ? 0.01 : 1) * (((string.split('-').length + Math.min(string.split('(').length-1, string.split(')').length-1)) % 2)? 1: -1) * Number(string.replace(/[^0-9\.]+/g, ''));

                // round if we are talking about bytes
                n._value = (bytesMultiplier) ? Math.ceil(n._value) : n._value;
            }
        }
        return n._value;
    }

    function formatCurrency (n, format, roundingFunction) {
        var symbolIndex = format.indexOf('$'),
            openParenIndex = format.indexOf('('),
            minusSignIndex = format.indexOf('-'),
            space = '',
            spliceIndex,
            output;

        // check for space before or after currency
        if (format.indexOf(' $') > -1) {
            space = ' ';
            format = format.replace(' $', '');
        } else if (format.indexOf('$ ') > -1) {
            space = ' ';
            format = format.replace('$ ', '');
        } else {
            format = format.replace('$', '');
        }

        // format the number
        output = formatNumber(n._value, format, roundingFunction);

        // position the symbol
        if (symbolIndex <= 1) {
            if (output.indexOf('(') > -1 || output.indexOf('-') > -1) {
                output = output.split('');
                spliceIndex = 1;
                if (symbolIndex < openParenIndex || symbolIndex < minusSignIndex){
                    // the symbol appears before the "(" or "-"
                    spliceIndex = 0;
                }
                output.splice(spliceIndex, 0, languages[currentLanguage].currency.symbol + space);
                output = output.join('');
            } else {
                output = languages[currentLanguage].currency.symbol + space + output;
            }
        } else {
            if (output.indexOf(')') > -1) {
                output = output.split('');
                output.splice(-1, 0, space + languages[currentLanguage].currency.symbol);
                output = output.join('');
            } else {
                output = output + space + languages[currentLanguage].currency.symbol;
            }
        }

        return output;
    }

    function formatPercentage (n, format, roundingFunction) {
        var space = '',
            output,
            value = n._value * 100;

        // check for space before %
        if (format.indexOf(' %') > -1) {
            space = ' ';
            format = format.replace(' %', '');
        } else {
            format = format.replace('%', '');
        }

        output = formatNumber(value, format, roundingFunction);
        
        if (output.indexOf(')') > -1 ) {
            output = output.split('');
            output.splice(-1, 0, space + '%');
            output = output.join('');
        } else {
            output = output + space + '%';
        }

        return output;
    }

    function formatTime (n) {
        var hours = Math.floor(n._value/60/60),
            minutes = Math.floor((n._value - (hours * 60 * 60))/60),
            seconds = Math.round(n._value - (hours * 60 * 60) - (minutes * 60));
        return hours + ':' + ((minutes < 10) ? '0' + minutes : minutes) + ':' + ((seconds < 10) ? '0' + seconds : seconds);
    }

    function unformatTime (string) {
        var timeArray = string.split(':'),
            seconds = 0;
        // turn hours and minutes into seconds and add them all up
        if (timeArray.length === 3) {
            // hours
            seconds = seconds + (Number(timeArray[0]) * 60 * 60);
            // minutes
            seconds = seconds + (Number(timeArray[1]) * 60);
            // seconds
            seconds = seconds + Number(timeArray[2]);
        } else if (timeArray.length === 2) {
            // minutes
            seconds = seconds + (Number(timeArray[0]) * 60);
            // seconds
            seconds = seconds + Number(timeArray[1]);
        }
        return Number(seconds);
    }

    function formatNumber (value, format, roundingFunction) {
        var negP = false,
            signed = false,
            optDec = false,
            abbr = '',
            abbrK = false, // force abbreviation to thousands
            abbrM = false, // force abbreviation to millions
            abbrB = false, // force abbreviation to billions
            abbrT = false, // force abbreviation to trillions
            abbrForce = false, // force abbreviation
            bytes = '',
            ord = '',
            abs = Math.abs(value),
            suffixes = ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'],
            min,
            max,
            power,
            w,
            precision,
            thousands,
            d = '',
            neg = false;

        // check if number is zero and a custom zero format has been set
        if (value === 0 && zeroFormat !== null) {
            return zeroFormat;
        } else {
            // see if we should use parentheses for negative number or if we should prefix with a sign
            // if both are present we default to parentheses
            if (format.indexOf('(') > -1) {
                negP = true;
                format = format.slice(1, -1);
            } else if (format.indexOf('+') > -1) {
                signed = true;
                format = format.replace(/\+/g, '');
            }

            // see if abbreviation is wanted
            if (format.indexOf('a') > -1) {
                // check if abbreviation is specified
                abbrK = format.indexOf('aK') >= 0;
                abbrM = format.indexOf('aM') >= 0;
                abbrB = format.indexOf('aB') >= 0;
                abbrT = format.indexOf('aT') >= 0;
                abbrForce = abbrK || abbrM || abbrB || abbrT;

                // check for space before abbreviation
                if (format.indexOf(' a') > -1) {
                    abbr = ' ';
                    format = format.replace(' a', '');
                } else {
                    format = format.replace('a', '');
                }

                if (abs >= Math.pow(10, 12) && !abbrForce || abbrT) {
                    // trillion
                    abbr = abbr + languages[currentLanguage].abbreviations.trillion;
                    value = value / Math.pow(10, 12);
                } else if (abs < Math.pow(10, 12) && abs >= Math.pow(10, 9) && !abbrForce || abbrB) {
                    // billion
                    abbr = abbr + languages[currentLanguage].abbreviations.billion;
                    value = value / Math.pow(10, 9);
                } else if (abs < Math.pow(10, 9) && abs >= Math.pow(10, 6) && !abbrForce || abbrM) {
                    // million
                    abbr = abbr + languages[currentLanguage].abbreviations.million;
                    value = value / Math.pow(10, 6);
                } else if (abs < Math.pow(10, 6) && abs >= Math.pow(10, 3) && !abbrForce || abbrK) {
                    // thousand
                    abbr = abbr + languages[currentLanguage].abbreviations.thousand;
                    value = value / Math.pow(10, 3);
                }
            }

            // see if we are formatting bytes
            if (format.indexOf('b') > -1) {
                // check for space before
                if (format.indexOf(' b') > -1) {
                    bytes = ' ';
                    format = format.replace(' b', '');
                } else {
                    format = format.replace('b', '');
                }

                for (power = 0; power <= suffixes.length; power++) {
                    min = Math.pow(1024, power);
                    max = Math.pow(1024, power+1);

                    if (value >= min && value < max) {
                        bytes = bytes + suffixes[power];
                        if (min > 0) {
                            value = value / min;
                        }
                        break;
                    }
                }
            }

            // see if ordinal is wanted
            if (format.indexOf('o') > -1) {
                // check for space before
                if (format.indexOf(' o') > -1) {
                    ord = ' ';
                    format = format.replace(' o', '');
                } else {
                    format = format.replace('o', '');
                }

                ord = ord + languages[currentLanguage].ordinal(value);
            }

            if (format.indexOf('[.]') > -1) {
                optDec = true;
                format = format.replace('[.]', '.');
            }

            w = value.toString().split('.')[0];
            precision = format.split('.')[1];
            thousands = format.indexOf(',');

            if (precision) {
                if (precision.indexOf('[') > -1) {
                    precision = precision.replace(']', '');
                    precision = precision.split('[');
                    d = toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);
                } else {
                    d = toFixed(value, precision.length, roundingFunction);
                }

                w = d.split('.')[0];

                if (d.split('.')[1].length) {
                    d = languages[currentLanguage].delimiters.decimal + d.split('.')[1];
                } else {
                    d = '';
                }

                if (optDec && Number(d.slice(1)) === 0) {
                    d = '';
                }
            } else {
                w = toFixed(value, null, roundingFunction);
            }

            // format number
            if (w.indexOf('-') > -1) {
                w = w.slice(1);
                neg = true;
            }

            if (thousands > -1) {
                w = w.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, '$1' + languages[currentLanguage].delimiters.thousands);
            }

            if (format.indexOf('.') === 0) {
                w = '';
            }

            return ((negP && neg) ? '(' : '') + ((!negP && neg) ? '-' : '') + ((!neg && signed) ? '+' : '') + w + d + ((ord) ? ord : '') + ((abbr) ? abbr : '') + ((bytes) ? bytes : '') + ((negP && neg) ? ')' : '');
        }
    }

    /************************************
        Top Level Functions
    ************************************/

    numeral = function (input) {
        if (numeral.isNumeral(input)) {
            input = input.value();
        } else if (input === 0 || typeof input === 'undefined') {
            input = 0;
        } else if (!Number(input)) {
            input = numeral.fn.unformat(input);
        }

        return new Numeral(Number(input));
    };

    // version number
    numeral.version = VERSION;

    // compare numeral object
    numeral.isNumeral = function (obj) {
        return obj instanceof Numeral;
    };

    // This function will load languages and then set the global language.  If
    // no arguments are passed in, it will simply return the current global
    // language key.
    numeral.language = function (key, values) {
        if (!key) {
            return currentLanguage;
        }

        if (key && !values) {
            if(!languages[key]) {
                throw new Error('Unknown language : ' + key);
            }
            currentLanguage = key;
        }

        if (values || !languages[key]) {
            loadLanguage(key, values);
        }

        return numeral;
    };
    
    // This function provides access to the loaded language data.  If
    // no arguments are passed in, it will simply return the current
    // global language object.
    numeral.languageData = function (key) {
        if (!key) {
            return languages[currentLanguage];
        }
        
        if (!languages[key]) {
            throw new Error('Unknown language : ' + key);
        }
        
        return languages[key];
    };

    numeral.language('en', {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~ (number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: '$'
        }
    });

    numeral.zeroFormat = function (format) {
        zeroFormat = typeof(format) === 'string' ? format : null;
    };

    numeral.defaultFormat = function (format) {
        defaultFormat = typeof(format) === 'string' ? format : '0.0';
    };

    /************************************
        Helpers
    ************************************/

    function loadLanguage(key, values) {
        languages[key] = values;
    }

    /************************************
        Floating-point helpers
    ************************************/

    // The floating-point helper functions and implementation
    // borrows heavily from sinful.js: http://guipn.github.io/sinful.js/

    /**
     * Array.prototype.reduce for browsers that don't support it
     * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/Reduce#Compatibility
     */
    if ('function' !== typeof Array.prototype.reduce) {
        Array.prototype.reduce = function (callback, opt_initialValue) {
            'use strict';
            
            if (null === this || 'undefined' === typeof this) {
                // At the moment all modern browsers, that support strict mode, have
                // native implementation of Array.prototype.reduce. For instance, IE8
                // does not support strict mode, so this check is actually useless.
                throw new TypeError('Array.prototype.reduce called on null or undefined');
            }
            
            if ('function' !== typeof callback) {
                throw new TypeError(callback + ' is not a function');
            }

            var index,
                value,
                length = this.length >>> 0,
                isValueSet = false;

            if (1 < arguments.length) {
                value = opt_initialValue;
                isValueSet = true;
            }

            for (index = 0; length > index; ++index) {
                if (this.hasOwnProperty(index)) {
                    if (isValueSet) {
                        value = callback(value, this[index], index, this);
                    } else {
                        value = this[index];
                        isValueSet = true;
                    }
                }
            }

            if (!isValueSet) {
                throw new TypeError('Reduce of empty array with no initial value');
            }

            return value;
        };
    }

    
    /**
     * Computes the multiplier necessary to make x >= 1,
     * effectively eliminating miscalculations caused by
     * finite precision.
     */
    function multiplier(x) {
        var parts = x.toString().split('.');
        if (parts.length < 2) {
            return 1;
        }
        return Math.pow(10, parts[1].length);
    }

    /**
     * Given a variable number of arguments, returns the maximum
     * multiplier that must be used to normalize an operation involving
     * all of them.
     */
    function correctionFactor() {
        var args = Array.prototype.slice.call(arguments);
        return args.reduce(function (prev, next) {
            var mp = multiplier(prev),
                mn = multiplier(next);
        return mp > mn ? mp : mn;
        }, -Infinity);
    }        


    /************************************
        Numeral Prototype
    ************************************/


    numeral.fn = Numeral.prototype = {

        clone : function () {
            return numeral(this);
        },

        format : function (inputString, roundingFunction) {
            return formatNumeral(this, 
                  inputString ? inputString : defaultFormat, 
                  (roundingFunction !== undefined) ? roundingFunction : Math.round
              );
        },

        unformat : function (inputString) {
            if (Object.prototype.toString.call(inputString) === '[object Number]') { 
                return inputString; 
            }
            return unformatNumeral(this, inputString ? inputString : defaultFormat);
        },

        value : function () {
            return this._value;
        },

        valueOf : function () {
            return this._value;
        },

        set : function (value) {
            this._value = Number(value);
            return this;
        },

        add : function (value) {
            var corrFactor = correctionFactor.call(null, this._value, value);
            function cback(accum, curr, currI, O) {
                return accum + corrFactor * curr;
            }
            this._value = [this._value, value].reduce(cback, 0) / corrFactor;
            return this;
        },

        subtract : function (value) {
            var corrFactor = correctionFactor.call(null, this._value, value);
            function cback(accum, curr, currI, O) {
                return accum - corrFactor * curr;
            }
            this._value = [value].reduce(cback, this._value * corrFactor) / corrFactor;            
            return this;
        },

        multiply : function (value) {
            function cback(accum, curr, currI, O) {
                var corrFactor = correctionFactor(accum, curr);
                return (accum * corrFactor) * (curr * corrFactor) /
                    (corrFactor * corrFactor);
            }
            this._value = [this._value, value].reduce(cback, 1);
            return this;
        },

        divide : function (value) {
            function cback(accum, curr, currI, O) {
                var corrFactor = correctionFactor(accum, curr);
                return (accum * corrFactor) / (curr * corrFactor);
            }
            this._value = [this._value, value].reduce(cback);            
            return this;
        },

        difference : function (value) {
            return Math.abs(numeral(this._value).subtract(value).value());
        }

    };

    /************************************
        Exposing Numeral
    ************************************/

    // CommonJS module is defined
    if (hasModule) {
        module.exports = numeral;
    }

    /*global ender:false */
    if (typeof ender === 'undefined') {
        // here, `this` means `window` in the browser, or `global` on the server
        // add `numeral` as a global object via a string identifier,
        // for Closure Compiler 'advanced' mode
        this['numeral'] = numeral;
    }

    /*global define:false */
    if (typeof define === 'function' && define.amd) {
        define([], function () {
            return numeral;
        });
    }
}).call(this);

/*
 * numeral.js language configuration
 * language : belgium-dutch (be-nl)
 * author : Dieter Luypaert : https://github.com/moeriki
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal  : ','
        },
        abbreviations: {
            thousand : 'k',
            million  : ' mln',
            billion  : ' mld',
            trillion : ' bln'
        },
        ordinal : function (number) {
            var remainder = number % 100;
            return (number !== 0 && remainder <= 1 || remainder === 8 || remainder >= 20) ? 'ste' : 'de';
        },
        currency: {
            symbol: ' '
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('be-nl', language);
    }
}());
/*
 * numeral.js language configuration
 * language : simplified chinese
 * author : badplum : https://github.com/badplum
 */
(function () {
    var language = {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: '',
            million: '',
            billion: '',
            trillion: ''
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('chs', language);
    }
}());

/*
 * numeral.js language configuration
 * language : czech (cs)
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tis.',
            million: 'mil.',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            return '.';
        },
        currency: {
            symbol: 'K?'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('cs', language);
    }
}());

/*
 * numeral.js language configuration
 * language : danish denmark (dk)
 * author : Michael Storgaard : https://github.com/mstorgaard
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mio',
            billion: 'mia',
            trillion: 'b'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'DKK'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('da-dk', language);
    }
}());
/*
 * numeral.js language configuration
 * language : German in Switzerland (de-ch)
 * author : Michael Piefel : https://github.com/piefel (based on work from Marco Krage : https://github.com/sinky)
 */ 
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'CHF'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('de-ch', language);
    }
}());
/*
 * numeral.js language configuration
 * language : German (de)  generally useful in Germany, Austria, Luxembourg, Belgium
 * author : Marco Krage : https://github.com/sinky
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('de', language);
    }
}());
/*
 * numeral.js language configuration
 * language : english united kingdom (uk)
 * author : Dan Ristic : https://github.com/dristic
 */
(function () {
    var language = {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (~~ (number % 100 / 10) === 1) ? 'th' :
                (b === 1) ? 'st' :
                (b === 2) ? 'nd' :
                (b === 3) ? 'rd' : 'th';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('en-gb', language);
    }
}());
/*
 * numeral.js language configuration
 * language : spanish Spain
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (b === 1 || b === 3) ? 'er' :
                (b === 2) ? 'do' :
                    (b === 7 || b === 0) ? 'mo' :
                        (b === 8) ? 'vo' :
                            (b === 9) ? 'no' : 'to';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('es', language);
    }
}());

/*
 * numeral.js language configuration
 * language : spanish
 * author : Hernan Garcia : https://github.com/hgarcia
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'mm',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            var b = number % 10;
            return (b === 1 || b === 3) ? 'er' :
                (b === 2) ? 'do' :
                (b === 7 || b === 0) ? 'mo' : 
		(b === 8) ? 'vo' :
		(b === 9) ? 'no' : 'to';
        },
        currency: {
            symbol: '$'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('es', language);
    }
}());

/*
 * numeral.js language configuration
 * language : Estonian
 * author : Illimar Tambek : https://github.com/ragulka
 *
 * Note: in Estonian, abbreviations are always separated
 * from numbers with a space
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: ' tuh',
            million: ' mln',
            billion: ' mld',
            trillion: ' trl'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('et', language);
    }
}());

/*
 * numeral.js language configuration
 * language : Finnish
 * author : Sami Saada : https://github.com/samitheberber
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'M',
            billion: 'G',
            trillion: 'T'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('fi', language);
    }
}());

/*
 * numeral.js language configuration
 * language : french (Canada) (fr-CA)
 * author : Lo Renaud-Allaire : https://github.com/renaudleo
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'M',
            billion: 'G',
            trillion: 'T'
        },
        ordinal : function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: '$'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('fr-CA', language);
    }
}());
/*
 * numeral.js language configuration
 * language : french (fr-ch)
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var language = {
        delimiters: {
            thousands: '\'',
            decimal: '.'
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal : function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: 'CHF'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('fr-ch', language);
    }
}());

/*
 * numeral.js language configuration
 * language : french (fr)
 * author : Adam Draper : https://github.com/adamwdraper
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal : function (number) {
            return number === 1 ? 'er' : 'e';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('fr', language);
    }
}());
/*
 * numeral.js language configuration
 * language : Hungarian (hu)
 * author : Peter Bakondy : https://github.com/pbakondy
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'E',  // ezer
            million: 'M',   // milli
            billion: 'Mrd', // millird
            trillion: 'T'   // trilli
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ' Ft'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('hu', language);
    }
}());
/*
 * numeral.js language configuration
 * language : italian Italy (it)
 * author : Giacomo Trombi : http://cinquepunti.it
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'mila',
            million: 'mil',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return 'o';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('it', language);
    }
}());
/*
 * numeral.js language configuration
 * language : japanese
 * author : teppeis : https://github.com/teppeis
 */
(function () {
    var language = {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: '',
            million: '',
            billion: '',
            trillion: ''
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('ja', language);
    }
}());

/*
 * numeral.js language configuration
 * language : netherlands-dutch (nl-nl)
 * author : Dave Clayton : https://github.com/davedx
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal  : ','
        },
        abbreviations: {
            thousand : 'k',
            million  : 'mln',
            billion  : 'mrd',
            trillion : 'bln'
        },
        ordinal : function (number) {
            var remainder = number % 100;
            return (number !== 0 && remainder <= 1 || remainder === 8 || remainder >= 20) ? 'ste' : 'de';
        },
        currency: {
            symbol: ' '
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('nl-nl', language);
    }
}());
/*
 * numeral.js language configuration
 * language : polish (pl)
 * author : Dominik Bulaj : https://github.com/dominikbulaj
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tys.',
            million: 'mln',
            billion: 'mld',
            trillion: 'bln'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: 'PLN'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('pl', language);
    }
}());
/*
 * numeral.js language configuration
 * language : portuguese brazil (pt-br)
 * author : Ramiro Varandas Jr : https://github.com/ramirovjr
 */
(function () {
    var language = {
        delimiters: {
            thousands: '.',
            decimal: ','
        },
        abbreviations: {
            thousand: 'mil',
            million: 'milh?es',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function (number) {
            return 'o';
        },
        currency: {
            symbol: 'R$'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('pt-br', language);
    }
}());
/*
 * numeral.js language configuration
 * language : portuguese (pt-pt)
 * author : Diogo Resende : https://github.com/dresende
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'k',
            million: 'm',
            billion: 'b',
            trillion: 't'
        },
        ordinal : function (number) {
            return 'o';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('pt-pt', language);
    }
}());

// numeral.js language configuration
// language : Russian for the Ukraine (ru-UA)
// author : Anatoli Papirovski : https://github.com/apapirovski
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: '.',
            million: '',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            // not ideal, but since in Russian it can taken on 
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return '.'; 
        },
        currency: {
            symbol: '\u20B4'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('ru-UA', language);
    }
}());

/*
 * numeral.js language configuration
 * language : russian (ru)
 * author : Anatoli Papirovski : https://github.com/apapirovski
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: '.',
            million: '',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            // not ideal, but since in Russian it can taken on 
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return '.'; 
        },
        currency: {
            symbol: '.'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('ru', language);
    }
}());

/*
 * numeral.js language configuration
 * language : slovak (sk)
 * author : Ahmed Al Hafoudh : http://www.freevision.sk
 */
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: 'tis.',
            million: 'mil.',
            billion: 'b',
            trillion: 't'
        },
        ordinal: function () {
            return '.';
        },
        currency: {
            symbol: ''
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('sk', language);
    }
}());

/*
 * numeral.js language configuration
 * language : thai (th)
 * author : Sathit Jittanupat : https://github.com/jojosati
 */
(function () {
    var language = {
        delimiters: {
            thousands: ',',
            decimal: '.'
        },
        abbreviations: {
            thousand: '???',
            million: '????',
            billion: '???????',
            trillion: '????????'
        },
        ordinal: function (number) {
            return '.';
        },
        currency: {
            symbol: '?'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('th', language);
    }
}());

/*
 * numeral.js language configuration
 * language : turkish (tr)
 * author : Ecmel Ercan : https://github.com/ecmel, Erhan Gundogan : https://github.com/erhangundogan, Burak Yi?it Kaya: https://github.com/BYK
 */
(function () {
    var suffixes = {
            1: '\'inci',
            5: '\'inci',
            8: '\'inci',
            70: '\'inci',
            80: '\'inci',

            2: '\'nci',
            7: '\'nci',
            20: '\'nci',
            50: '\'nci',

            3: '\'nc',
            4: '\'nc',
            100: '\'nc',

            6: '\'nc?',

            9: '\'uncu',
            10: '\'uncu',
            30: '\'uncu',

            60: '\'?nc?',
            90: '\'?nc?'
        },
        language = {
            delimiters: {
                thousands: '.',
                decimal: ','
            },
            abbreviations: {
                thousand: 'bin',
                million: 'milyon',
                billion: 'milyar',
                trillion: 'trilyon'
            },
            ordinal: function (number) {
                if (number === 0) {  // special case for zero
                    return '\'?nc?';
                }

                var a = number % 10,
                    b = number % 100 - a,
                    c = number >= 100 ? 100 : null;

              return suffixes[a] || suffixes[b] || suffixes[c];
            },
            currency: {
                symbol: '\u20BA'
            }
        };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('tr', language);
    }
}());

// numeral.js language configuration
// language : Ukrainian for the Ukraine (uk-UA)
// author : Michael Piefel : https://github.com/piefel (with help from Tetyana Kuzmenko)
(function () {
    var language = {
        delimiters: {
            thousands: ' ',
            decimal: ','
        },
        abbreviations: {
            thousand: '.',
            million: '',
            billion: '',
            trillion: ''
        },
        ordinal: function () {
            // not ideal, but since in Ukrainian it can taken on 
            // different forms (masculine, feminine, neuter)
            // this is all we can do
            return ''; 
        },
        currency: {
            symbol: '\u20B4'
        }
    };

    // Node
    if (typeof module !== 'undefined' && module.exports) {
        module.exports = language;
    }
    // Browser
    if (typeof window !== 'undefined' && this.numeral && this.numeral.language) {
        this.numeral.language('uk-UA', language);
    }
}());
/**
 * jQuery plugin for dynamic data management
 * Depends on moment.js, numeral.js
 */
;(function ( $ ) {
	'use strict';

	/**
	 * Data manager plugin. Loads data for a component from a dynamic source
	 */
	function DataManager() {
		// Plugin defaults
		this._defaults = {
			// Where to find the images
			imageBase: '/content/dam/aia/icons/',

			// The prefix for dynamic data areas
			dataPrefix: 'src-',

			// Default date format. Can be overriden with data-src-date-format='...'
			dateFormat: 'YYYY/MM/DD',

			// Default link class
			linkClasses: 'lk2',

			// Default currency format
			currencyFormat: '$0,0',

			// register default data converters
			converters: {
				'string': function(typeProps, data, settings) {
					return (data).toString();
				},
				'date': function(typeProps, data, settings, colInfo) {
					var ts = moment(data); // Needs to be a ms timestamp
					return ts.format(typeProps.format || settings.dateFormat);
				},
				'link': function(typeProps, data, settings, rowData) {
					var link = templateString(typeProps.format, rowData);
					return $('<a>')
					  .attr('href', link)
					  .addClass(typeProps.classes || settings.linkClasses)
					  .text((data).toString());
				},
				'rating': function(typeProps, data, settings) {
					if (!data) data = '0';
					var $img = createSvgImageTag('rating-'+data+'star', 'rating-'+data+'star', settings);

					// jQuery bug
					$img.attr('class', $img.attr('class')+' icon-xxs-rating-'+data+'star');
					var $tmp = $img.find('image')
					$tmp.attr('class', $tmp.attr('class')+' icon-fallback-rating-'+data+'star');

					return $img;
				},
				'currency': function(typeProps, data, settings) {
					var val = Number(data);
					if (isNaN(val)) {
						return '';
					} else {
						return numeral(val).format(typeProps.format || settings.currencyFormat);
					}
				},
				'fileIconLink': function(typeProps, data, settings, rowData) {
					var $link = settings.converters.link(typeProps, '', settings, rowData);
					var fileType=$link.attr('href').replace(/\?.*$/,'').match(/\.\w+?$/);
					fileType = (null === fileType)?'unknown':fileType[0].replace('\.', '').toLowerCase();

					// jQuery bug
					var $img = createSvgImageTag('file-'+fileType, 'file-'+fileType, settings);
					$img.attr('class', $img.attr('class')+' icon-xxs');

					return $('<a>')
					  .attr('href', data)
					  .empty()
					  .append($img);
				}
			}
		};
	}

	/**
 	 * Populate an object from an object
	 * @param $target The root of the object to locate dynamic data in
	 * @param data The data to populate the object from
	 * @param settings The plugin settings
	 */
	function populateData($target, data, settings) {

		$target.find('[data-'+settings.dataPrefix+'name]').each(function(index) {
			var $this = $(this);
			if (!data[$this.data(settings.dataPrefix+'name')]) return;

			// Set the default type
			if (!$this.data(settings.dataPrefix+'type'))
				$this.data(settings.dataPrefix+'type', 'string');

			if (settings.converters[$this.data(settings.dataPrefix+'type')]) {
				var typeProps = {};
				var d = $this.data();
				var p = settings.dataPrefix.replace('data-', '').replace('-', '');
				for (var k in d) {
					typeProps[k.replace(p, '').toLowerCase()] = d[k];
				}
				$this.append(settings.converters[$this.data(settings.dataPrefix+'type')](typeProps, data[$this.data(settings.dataPrefix+'name')], settings, data));
			}
		});
		return $target;
	}

	/**
 	 * Populate an object from an array opf objects
	 * @param $target The root of the object to locate dynamic data in
	 * @param data The data to populate the object from
	 * @param $template The template to load from
	 * @param settings The plugin settings
	 */
	function populateArrayData($target, data, $template, settings) {
		// Clean any IDs so that we can clone the template without causing problems
		$template.find('[id]').removeAttr('id');
		var targetid = $target.attr('id');

		var $res = $([]);
		for (var i=0; i<data.length; i++) {
			var $val = populateData($template.clone(), data[i], settings);
			// Create a targettable ID
			if(targetid) $val.attr('id', targetid+'-template-'+i);
			$res = $res.add($val);
		}
		$res.removeClass('template').insertAfter($template);
		return $target
	}

	/**
	 * Image helper
	 * This isnt table related but needs to move into some DLS helpers. Need to use DOM
	 * as jQuery cannot cope with namespaces.
	 */
	function createSvgImageTag(img, title, options) {
		var svgns = 'http://www.w3.org/2000/svg';
		var xlinkns = 'http://www.w3.org/1999/xlink';

		var cn, svgnode = document.createElementNS(svgns, 'svg');
		svgnode.setAttributeNS('', 'class', 'hide-on-fallback');
		svgnode.setAttributeNS('', 'role', 'img');
		svgnode.setAttributeNS('', 'title', title);

		cn = document.createElementNS(svgns, 'use');
		cn.setAttributeNS(xlinkns, 'xlink:href', options.imageBase+'icons.svg#'+img);
		svgnode.appendChild(cn);

		cn = document.createElementNS(svgns, 'image');
		cn.setAttributeNS('', 'src', options.imageBase+img+'.png');
		cn.setAttributeNS('', 'class', 'icon-fallback');
		cn.setAttributeNS(xlinkns, 'xlink:href', '');
		svgnode.appendChild(cn);

		return $(svgnode);
	}

	/**
	 * Template helper
	 * This is a cheap & cheerful templating engine for URLs etc.
	 * @param str The string to apply the template to.
	 * @param data The data map
	 * @return A formatted string
	 */
	function templateString(str, data) {
		str = str || '';
		var i, arr = str.match(/{{\w.+?}}/g);
		if (null === arr) return str;
		
		// Start the template
		for(i=0; i<arr.length; i++) {
			var attr = arr[i].replace(/[{}]+/g, '');
			str = str.replace(new RegExp(arr[i], 'g'), data[attr]?data[attr]:'');
		}
		return str;
	}

	/**
	 * Add secondary functions to be called
	 */
	$.extend(DataManager.prototype, {
		className: "DataManager",
		markerClassName: "hasDataManager",

		/**
		 * Attach the data manager settings specific to this object, to
		 * to the object.
		 * @param target the target element
		 * @param settings additional settings to override the defaults
		 */
		_attachDataManager: function(target, settings) {
			var $target = $(target);
			if($target.hasClass(this.markerClassName)) return;

			// Store the dynamic settings
			var localsettings = $.extend(true, {}, this._defaults, settings || {});
			$target.data(this.className, localsettings);

			$target.addClass(this.markerClassName);
		},

		/**
		 * Get the settings for a specific element
		 * @param the target element
		 */
		_getSettings: function(target) {
			var settings = $(target).data(this.className);
			return settings ? settings : this._defaults;
		},

		/**
		 * Clear/reset a component
		 * @param target the target element
		 */
		_clearDataManager: function(target) {
			var settings = this._getSettings(target);

			// Remove any array sub-objects
			var tid = $target.attr('id');
			if (tid) {
				$target.find('[id^="'+tid+'-template-"]').remove();
			}

			// Clean out anything left
			$(target).find('[data-'+settings.dataPrefix+'name]').empty();
		},

		/**
		 * Load some data from an JSON source.
		 * This will automatically call any formatters registered on that item.
		 *
		 * The response from the web service (or the data object) must be a flat formatted
		 * object. For example: {key1: "val1", key2: true, key3: 1234}
		 *
		 * The keys must match the relevant data-src-name attributes on HTML elements.
		 *
		 * @param target the target element
		 * {@param src One of
		 *   String: The URL of the data/web service location
		 *   Object: An object to load data from directly.
		 * }
		 * {@param options Any additional options:
 		 *   clear: Boolean true/false. Clear the component data before.
 		 *   extractor: Function. A function to extract the contents of the web services into a flat object.
 		 *   ajaxArgs: Refer to http://api.jquery.com/jquery.ajax/ (settings object)
                 * }
		 */
		_loadObjectDataManager: function(target, src, options) {
			var $target = $(target);
			if (!options) options={};
			var ret = $.Deferred();

			// Hide any error messages
			$target.find('.error-display').not('.hide').empty().addClass('hide');

			// Should we perform an Ajax request, or load directly?
			if (typeof src === 'object') {
				if (true === options.clear) this._clearDataManager(target);
				populateData($target, src, this._getSettings(target));
				$target.removeClass('hide');
				setTimeout(function() { ret.resolve($target); }, 0); // Schedule an immediate callback
				return ret.promise();
			}

			if (!options.ajaxArgs) options.ajaxArgs={};
			options.ajaxArgs.url = src;

			// If not explicitly told to cache, then don't
			if (!options.ajaxArgs.cache) options.ajaxArgs.cache = false;

			// If not an explicity data type, then expect JSON
			if (!options.ajaxArgs.dataType) options.ajaxArgs.dataType = 'json';

			// Perform the data load
			$.ajax(options.ajaxArgs).done(function(data, textStatus, jqXHR) {
				var row, col, rows=[];
				if (204 === jqXHR.status) { // no content
					// actually an error
					ret.reject($target, 204, $target.find('.error-display').not('.hide').removeClass('hide'));
				}
				
				if (options.extractor) data = options.extractor(data);

				// If the object is empty, then we will do a fixup. This is to give TSS
				// a workaround for bad services.
				var klen = 0;
				if (Object.keys) {
					klen = Object.keys(data).length;
				} else {
					for (var k in data) {klen+=1;}
				}
				if (0 === klen) { // fake no content
					ret.reject($target, 204, $target.find('.error-display').not('.hide').removeClass('hide'));
				}

				if (true === options.clear) this._clearDataManager(target);
				populateData($target, data, this._getSettings(target));
				$target.removeClass('hide');
				ret.resolve($target);
			}).fail(function(jqXHR, textStatus, errorThrown) {
				ret.reject($target, jqXHR.status, $target.find('.error-display').not('.hide').removeClass('hide'));
			});
			return ret.promise();
		},

		/**
		 * Load some data from an JSON Array source.
		 * This will automatically call any formatters registered on that item.
		 *
		 * The response from the web service (or the data object) must be a flat formatted
		 * object. For example: [{key1: "val1", key2: true, key3: 1234},{key1: "val2", key2: false, key3: 5678}]
		 *
		 * The keys must match the relevant data-src-name attributes on HTML elements.
		 *
		 * @param target the target element
		 * {@param src One of:
		 *   String: The URL of the data/web service location
		 *   Object: An object to load data from directly.
		 * }
		 * @param template The template HTML to apply the data to. The resulting data will be appended to the DOM directly after the template
		 * {@param options Any additional options:
 		 *   clear: Boolean true/false. Clear the component data before.
 		 *   extractor: Function. A function to extract the contents of the web services into a flat object.
 		 *   ajaxArgs: Refer to http://api.jquery.com/jquery.ajax/ (settings object)
                 * }
		 */
		_loadObjectListDataManager: function(target, src, template, options) {
			var $target = $(target);
			var $template = $target.find('.template').first();
			if (!options) options={};
			var ret = $.Deferred();

			// Hide any error messages
			$target.find('.error-display').not('.hide').empty().addClass('hide');

			// Should we perform an Ajax request, or load directly?
			if (typeof src === 'object') {
				if (true === options.clear) this._clearDataManager(target);
				populateArrayData($target, src, $template, this._getSettings(target));
				$target.removeClass('hide');
				setTimeout(function() { ret.resolve($target); }, 0); // Schedule an immediate callback
				return ret.promise();
			}

			if (!options.ajaxArgs) options.ajaxArgs={};
			options.ajaxArgs.url = src;

			// If not explicitly told to cache, then don't
			if (!options.ajaxArgs.cache) options.ajaxArgs.cache = false;

			// If not an explicity data type, then expect JSON
			if (!options.ajaxArgs.dataType) options.ajaxArgs.dataType = 'json';

			// Perform the data load
			$.ajax(options.ajaxArgs).done(function(data, textStatus, jqXHR) {
				var row, col, rows=[];
				if (204 === jqXHR.status) { // no content
					// actually an error
					ret.reject($target, 204, $target.find('.error-display').not('.hide').removeClass('hide'));
				}
				
				if (options.extractor) data = options.extractor(data);

				// If the object is empty, then we will do a fixup. This is to give TSS
				// a workaround for bad services.
				if (0 === data.length) { // fake no content
					ret.reject($target, 204, $target.find('.error-display').not('.hide').removeClass('hide'));
				}

				if (true === options.clear) this._clearDataManager(target);
				populateArrayData($target, src, $template, this._getSettings(target));
				$target.removeClass('hide');
				ret.resolve($target);
			}).fail(function(jqXHR, textStatus, errorThrown) {
				ret.reject($target, jqXHR.status, $target.find('.error-display').not('.hide').removeClass('hide'));
			});
			return ret.promise();
		}
	});


	/**
	 * Plugin main function
	 */
	$.fn.dataManager = function(options) {
		if ( !this.length ) {
			return this;
		}

		var otherArgs = Array.prototype.slice.call(arguments, 1);

		// Non-standard calls. These return specific objects
		if (options === 'loadObject' || options === 'loadObjectList') {
			  return $.datamanager["_" + options + "DataManager"].apply($.datamanager, [this].concat(otherArgs));
		}

		// Standard calls
		this.each(function(ti) {
			typeof options === "string" ?
			  $.datamanager["_" + options + "DataManager"].apply($.datamanager, [this].concat(otherArgs)) :
			  $.datamanager._attachDataManager(this, options);
		});

		return this;
	};

	// Store a global singleton reference
	$.datamanager = new DataManager();

}( jQuery ));

$(function(){

	$(".modal-header-btn").find(".icon-fallback").attr("class","icon icon-xs");

});

